import"../chunks/DsnmJJEf.js";import{o as Wn,a as za,d as Oi,e as et,s as ye}from"../chunks/BJVHLwmR.js";import{Y as Ti,aC as Bi,aD as Pa,l as Ri,d as Ha,j as jr,h as Oe,$ as br,e as Tn,A as e,C as ja,g as Ua,H as Wa,i as fi,k as bn,t as Lt,a0 as Li,a4 as Ga,m as Bn,o as qa,n as Jt,aE as vi,ax as Va,aF as hi,a8 as Ni,aG as qr,p as zi,q as Ka,aH as Vr,aI as Ya,aJ as yn,aK as Pi,a2 as Hi,aL as Qa,a7 as Ja,aM as Za,I as ji,x as Ui,aN as Wi,aO as Xa,aw as de,aP as $a,a5 as es,a3 as ts,ac as _i,aQ as rs,u as ns,w as Gi,v as qi,at as is,aR as as,aS as ss,aT as ls,aU as os,aV as cs,aW as us,aX as ds,aY as ke,aZ as fs,ap as Ve,a_ as vs,D as Re,aa as Gn,ay as P,af as ht,f as ae,c as x,s as $e,r as b,a as z,aA as re,F as f,ad as qn,b as G,a$ as Vi,az as Ue,av as Ce,b0 as Rn,b1 as gi}from"../chunks/svf7RUyD.js";import{p as w,b as _t,i as me}from"../chunks/DFK_xX9T.js";const hs=[];function wn(r,t=!1,n=!1){return Ur(r,new Map,"",hs,null,n)}function Ur(r,t,n,i,s=null,l=!1){if(typeof r=="object"&&r!==null){var o=t.get(r);if(o!==void 0)return o;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(Ti(r)){var u=Array(r.length);t.set(r,u),s!==null&&t.set(s,u);for(var d=0;d<r.length;d+=1){var v=r[d];d in r&&(u[d]=Ur(v,t,n,i,null,l))}return u}if(Bi(r)===Pa){u={},t.set(r,u),s!==null&&t.set(s,u);for(var _ in r)u[_]=Ur(r[_],t,n,i,null,l);return u}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function"&&!l)return Ur(r.toJSON(),t,n,i,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}let Wr=null;function yr(r,t){return t}function _s(r,t,n){for(var i=r.items,s=[],l=t.length,o=0;o<l;o++)Qa(t[o].e,s,!0);var u=l>0&&s.length===0&&n!==null;if(u){var d=n.parentNode;Ja(d),d.append(n),i.clear(),lt(r,t[0].prev,t[l-1].next)}Za(s,()=>{for(var v=0;v<l;v++){var _=t[v];u||(i.delete(_.k),lt(r,_.prev,_.next)),Pi(_.e,!u)}})}function gt(r,t,n,i,s,l=null){var o=r,u={flags:t,items:new Map,first:null},d=(t&Wi)!==0;if(d){var v=r;o=Oe?jr(br(v)):v.appendChild(Ri())}Oe&&Tn();var _=null,g=!1,I=new Map,T=ja(()=>{var F=n();return Ti(F)?F:F==null?[]:Ni(F)}),y,Y;function B(){gs(Y,y,u,I,o,s,t,i,n),l!==null&&(y.length===0?_?zi(_):_=Bn(()=>l(o)):_!==null&&Ka(_,()=>{_=null}))}Ha(()=>{Y??=ji,y=e(T);var F=y.length;if(g&&F===0)return;g=F===0;let j=!1;if(Oe){var ce=Ua(o)===Wa;ce!==(F===0)&&(o=fi(),jr(o),bn(!1),j=!0)}if(Oe){for(var ne=null,J,m=0;m<F;m++){if(Lt.nodeType===Li&&Lt.data===Ga){o=Lt,j=!0,bn(!1);break}var O=y[m],U=i(O,m);J=Ln(Lt,u,ne,null,O,U,m,s,t,n),u.items.set(U,J),ne=J}F>0&&jr(fi())}if(Oe)F===0&&l&&(_=Bn(()=>l(o)));else if(qa()){var te=new Set,Ee=Jt;for(m=0;m<F;m+=1){O=y[m],U=i(O,m);var fe=u.items.get(U)??I.get(U);fe?(t&(Vr|qr))!==0&&Ki(fe,O,m,t):(J=Ln(null,u,null,null,O,U,m,s,t,n,!0),I.set(U,J)),te.add(U)}for(const[R,ve]of u.items)te.has(R)||Ee.skipped_effects.add(ve.e);Ee.add_callback(B)}else B();j&&bn(!0),e(T)}),Oe&&(o=Lt)}function gs(r,t,n,i,s,l,o,u,d){var v=(o&Xa)!==0,_=(o&(Vr|qr))!==0,g=t.length,I=n.items,T=n.first,y=T,Y,B=null,F,j=[],ce=[],ne,J,m,O;if(v)for(O=0;O<g;O+=1)ne=t[O],J=u(ne,O),m=I.get(J),m!==void 0&&(m.a?.measure(),(F??=new Set).add(m));for(O=0;O<g;O+=1){if(ne=t[O],J=u(ne,O),m=I.get(J),m===void 0){var U=i.get(J);if(U!==void 0){i.delete(J),I.set(J,U);var te=B?B.next:y;lt(n,B,U),lt(n,U,te),xn(U,te,s),B=U}else{var Ee=y?y.e.nodes_start:s;B=Ln(Ee,n,B,B===null?n.first:B.next,ne,J,O,l,o,d)}I.set(J,B),j=[],ce=[],y=B.next;continue}if(_&&Ki(m,ne,O,o),(m.e.f&yn)!==0&&(zi(m.e),v&&(m.a?.unfix(),(F??=new Set).delete(m))),m!==y){if(Y!==void 0&&Y.has(m)){if(j.length<ce.length){var fe=ce[0],R;B=fe.prev;var ve=j[0],Te=j[j.length-1];for(R=0;R<j.length;R+=1)xn(j[R],fe,s);for(R=0;R<ce.length;R+=1)Y.delete(ce[R]);lt(n,ve.prev,Te.next),lt(n,B,ve),lt(n,Te,fe),y=fe,B=Te,O-=1,j=[],ce=[]}else Y.delete(m),xn(m,y,s),lt(n,m.prev,m.next),lt(n,m,B===null?n.first:B.next),lt(n,B,m),B=m;continue}for(j=[],ce=[];y!==null&&y.k!==J;)(y.e.f&yn)===0&&(Y??=new Set).add(y),ce.push(y),y=y.next;if(y===null)continue;m=y}j.push(m),B=m,y=m.next}if(y!==null||Y!==void 0){for(var We=Y===void 0?[]:Ni(Y);y!==null;)(y.e.f&yn)===0&&We.push(y),y=y.next;var L=We.length;if(L>0){var Et=(o&Wi)!==0&&g===0?s:null;if(v){for(O=0;O<L;O+=1)We[O].a?.measure();for(O=0;O<L;O+=1)We[O].a?.fix()}_s(n,We,Et)}}v&&Ui(()=>{if(F!==void 0)for(m of F)m.a?.apply()}),r.first=n.first&&n.first.e,r.last=B&&B.e;for(var Zt of i.values())Pi(Zt.e);i.clear()}function Ki(r,t,n,i){(i&Vr)!==0&&vi(r.v,t),(i&qr)!==0?vi(r.i,n):r.i=n}function Ln(r,t,n,i,s,l,o,u,d,v,_){var g=Wr,I=(d&Vr)!==0,T=(d&Ya)===0,y=I?T?Va(s,!1,!1):hi(s):s,Y=(d&qr)===0?o:hi(o),B={i:Y,v:y,k:l,a:null,e:null,prev:n,next:i};Wr=B;try{if(r===null){var F=document.createDocumentFragment();F.append(r=Ri())}return B.e=Bn(()=>u(r,y,Y,v),Oe),B.e.prev=n&&n.e,B.e.next=i&&i.e,n===null?_||(t.first=B):(n.next=B,n.e.next=B.e),i!==null&&(i.prev=B,i.e.prev=B.e),B}finally{Wr=g}}function xn(r,t,n){for(var i=r.next?r.next.e.nodes_start:n,s=t?t.e.nodes_start:n,l=r.e.nodes_start;l!==null&&l!==i;){var o=Hi(l);s.before(l),l=o}}function lt(r,t,n){t===null?r.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mi(r,t,n=!1,i=!1,s=!1){var l=r,o="";de(()=>{var u=ji;if(o===(o=t()??"")){Oe&&Tn();return}if(u.nodes_start!==null&&($a(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),o!==""){if(Oe){Lt.data;for(var d=Tn(),v=d;d!==null&&(d.nodeType!==Li||d.data!=="");)v=d,d=Hi(d);if(d===null)throw es(),ts;_i(Lt,v),l=jr(d);return}var _=o+"";n?_=`<svg>${_}</svg>`:i&&(_=`<math>${_}</math>`);var g=rs(_);if((n||i)&&(g=br(g)),_i(br(g),g.lastChild),n||i)for(;br(g);)l.before(br(g));else l.before(g)}})}function kn(r,t,n){ns(()=>{var i=Gi(()=>t(r,n?.())||{});if(n&&i?.update){var s=!1,l={};qi(()=>{var o=n();is(o),s&&as(l,o)&&(l=o,i.update(o))}),s=!0}if(i?.destroy)return()=>i.destroy()})}function Yi(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=Yi(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ms(){for(var r,t,n=0,i="",s=arguments.length;n<s;n++)(r=arguments[n])&&(t=Yi(r))&&(i&&(i+=" "),i+=t);return i}function ps(r){return typeof r=="object"?ms(r):r??""}const pi=[...` 	
\r\fÂ \v\uFEFF`];function bs(r,t,n){var i=r==null?"":""+r;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var l=s.length,o=0;(o=i.indexOf(s,o))>=0;){var u=o+l;(o===0||pi.includes(i[o-1]))&&(u===i.length||pi.includes(i[u]))?i=(o===0?"":i.substring(0,o))+i.substring(u+1):o=u}}return i===""?null:i}function ys(r,t){return r==null?null:String(r)}function xe(r,t,n,i,s,l){var o=r.__className;if(Oe||o!==n||o===void 0){var u=bs(n,i,l);(!Oe||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):r.className=u),r.__className=n}else if(l&&s!==l)for(var d in l){var v=!!l[d];(s==null||v!==!!s[d])&&r.classList.toggle(d,v)}return l}function Nt(r,t,n,i){var s=r.__style;if(Oe||s!==t){var l=ys(t);(!Oe||l!==r.getAttribute("style"))&&(l==null?r.removeAttribute("style"):r.style.cssText=l),r.__style=t}return i}const ws=Symbol("is custom element"),xs=Symbol("is html");function Qi(r){if(Oe){var t=!1,n=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var i=r.value;De(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;De(r,"checked",null),r.checked=s}}};r.__on_r=n,cs(n),us()}}function De(r,t,n,i){var s=ks(r);Oe&&(s[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(r[ss]=n),n==null?r.removeAttribute(t):typeof n!="string"&&Es(r).includes(t)?r[t]=n:r.setAttribute(t,n))}function ks(r){return r.__attributes??={[ws]:r.nodeName.includes("-"),[xs]:r.namespaceURI===ls}}var bi=new Map;function Es(r){var t=r.getAttribute("is")||r.nodeName,n=bi.get(t);if(n)return n;bi.set(t,n=[]);for(var i,s=r,l=Element.prototype;l!==s;){i=os(s);for(var o in i)i[o].set&&n.push(o);s=Bi(s)}return n}const As=()=>performance.now(),mt={tick:r=>requestAnimationFrame(r),now:()=>As(),tasks:new Set};function Ji(){const r=mt.now();mt.tasks.forEach(t=>{t.c(r)||(mt.tasks.delete(t),t.f())}),mt.tasks.size!==0&&mt.tick(Ji)}function Ss(r){let t;return mt.tasks.size===0&&mt.tick(Ji),{promise:new Promise(n=>{mt.tasks.add(t={c:r,f:n})}),abort(){mt.tasks.delete(t)}}}function Is(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function yi(r){const t={},n=r.split(";");for(const i of n){const[s,l]=i.split(":");if(!s||l===void 0)break;const o=Is(s.trim());t[o]=l.trim()}return t}const Fs=r=>r;function Cs(r,t,n){var i=Wr,s,l,o,u=null;i.a??={element:r,measure(){s=this.element.getBoundingClientRect()},apply(){if(o?.abort(),l=this.element.getBoundingClientRect(),s.left!==l.left||s.right!==l.right||s.top!==l.top||s.bottom!==l.bottom){const d=t()(this.element,{from:s,to:l},n?.());o=Zi(this.element,d,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!r.getAnimations().length){var{position:d,width:v,height:_}=getComputedStyle(r);if(d!=="absolute"&&d!=="fixed"){var g=r.style;u={position:g.position,width:g.width,height:g.height,transform:g.transform},g.position="absolute",g.width=v,g.height=_;var I=r.getBoundingClientRect();if(s.left!==I.left||s.top!==I.top){var T=`translate(${s.left-I.left}px, ${s.top-I.top}px)`;g.transform=g.transform?`${g.transform} ${T}`:T}}}},unfix(){if(u){var d=r.style;d.position=u.position,d.width=u.width,d.height=u.height,d.transform=u.transform}}},i.a.element=r}function Zi(r,t,n,i,s){if(ds(t)){var l,o=!1;return Ui(()=>{if(!o){var Y=t({direction:"in"});l=Zi(r,Y,n,i,s)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!t?.duration)return s(),{abort:ke,deactivate:ke,reset:ke,t:()=>i};const{delay:u=0,css:d,tick:v,easing:_=Fs}=t;var g=[];if(v&&v(0,1),d){var I=yi(d(0,1));g.push(I,I)}var T=()=>1-i,y=r.animate(g,{duration:u,fill:"forwards"});return y.onfinish=()=>{y.cancel();var Y=1-i,B=i-Y,F=t.duration*Math.abs(B),j=[];if(F>0){var ce=!1;if(d)for(var ne=Math.ceil(F/16.666666666666668),J=0;J<=ne;J+=1){var m=Y+B*_(J/ne),O=yi(d(m,1-m));j.push(O),ce||=O.overflow==="hidden"}ce&&(r.style.overflow="hidden"),T=()=>{var U=y.currentTime;return Y+B*_(U/F)},v&&Ss(()=>{if(y.playState!=="running")return!1;var U=T();return v(U,1-U),!0})}y=r.animate(j,{duration:F,fill:"forwards"}),y.onfinish=()=>{T=()=>i,v?.(i,1-i),s()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=ke)},deactivate:()=>{s=ke},reset:()=>{},t:()=>T()}}function Xi(r,t,n=t){var i=new WeakSet;fs(r,"input",async s=>{var l=s?r.defaultValue:r.value;if(l=En(r)?An(l):l,n(l),Jt!==null&&i.add(Jt),await Ve(),l!==(l=t())){var o=r.selectionStart,u=r.selectionEnd;r.value=l??"",u!==null&&(r.selectionStart=o,r.selectionEnd=Math.min(u,r.value.length))}}),(Oe&&r.defaultValue!==r.value||Gi(t)==null&&r.value)&&(n(En(r)?An(r.value):r.value),Jt!==null&&i.add(Jt)),qi(()=>{var s=t();if(r===document.activeElement){var l=vs??Jt;if(i.has(l))return}En(r)&&s===An(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function En(r){var t=r.type;return t==="number"||t==="range"}function An(r){return r===""?null:+r}function Rt(r,t=1){if(!+r)return"0 B";const n=1e3,i=t<0?0:t,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(r)/Math.log(n));return`${parseFloat((r/Math.pow(n,l)).toFixed(i))} ${s[l]}`}function $i(r){if(!r||typeof r!="string")return".";let t=r.trim();t=t.replace(/\\/g,"/");const n=/^[a-zA-Z]:/.test(t);if(n){if(/^[a-zA-Z]:$/.test(t)&&(t+="/"),/^[a-zA-Z]:\/$/.test(t))return t.replace(/\//g,"\\")}else if(t==="/")return"/";t=t.replace(/\/+$/,"");const i=t.split("/");if(i.length<=1)return".";i.pop();let s=i.join("/");return n&&/^[a-zA-Z]:$/.test(s)&&(s+="/"),s?(n&&(s=s.replace(/\//g,"\\")),s):n?"C:\\":"/"}const kt=["#3B82F6","#22C55E","#EAB308","#F43F5E","#F59E0B","#0EA5E9","#10B981","#A855F7","#6366F1","#06B6D4","#84CC16","#EF4444","#F97316","#14B8A6","#8B5CF6","#7C3AED","#4F46E5","#0891B2","#16A34A","#A3E635","#BE123C","#EA580C","#0D9488","#9333EA","#6D28D9","#4338CA","#155E75","#166534","#65A30D","#9F1239","#C2410C","#0F766E","#7E22CE","#5B21B6","#3730A3","#0E7490","#15803D","#4D7C0F","#881337","#9A3412","#115E59","#6B21A8","#4C1D95","#1E40AF","#1D4ED8","#2563EB","#1F2937","#10A37F","#D97706","#22D3EE","#059669","#D946EF","#F43F3F","#E11D48","#FB7185","#111827"],ea="/api",Ms={username:"",token:"",profile:{}},wi=localStorage.getItem("state"),Sn=wi?JSON.parse(wi):Ms,Ds=Re({username:Sn.username,token:Sn.token,profile:Sn.profile,searchText:"",currentWellbore:{wellbore:"WELLBORE"},currentWellId:"",wellboreList:[],currentWorkflowId:"",currentWorkflow:{},currentWell:{},wellboresRightPanel:"map",wellboresMainPanelVisibility:!0,wellboresRightPanelVisibility:!0,wellboresRightPanelExpanded:!1,wellboreItemRightPanel:"list",wellboreItemMainPanelVisibility:!0,wellboreItemRightPanelVisibility:!0,wellboreItemRightPanelExpanded:!1,workflowMainPanelVisibility:!0,nodePropertiesVisibility:!1,workflowNavigation:["Workflows"],isEngineer(){return this.profile.role==="AP_ENGINEER"||this.profile.role==="AP_ADMIN"},isAdmin(){return this.profile.role==="AP_ADMIN"}}),Nn=(r,t)=>t.some(n=>r instanceof n);let xi,ki;function Os(){return xi||(xi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ts(){return ki||(ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zn=new WeakMap,In=new WeakMap,Kr=new WeakMap;function Bs(r){const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",o)},l=()=>{n(Pt(r.result)),s()},o=()=>{i(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",o)});return Kr.set(t,r),t}function Rs(r){if(zn.has(r))return;const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",o),r.removeEventListener("abort",o)},l=()=>{n(),s()},o=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",o),r.addEventListener("abort",o)});zn.set(r,t)}let Pn={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return zn.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ta(r){Pn=r(Pn)}function Ls(r){return Ts().includes(r)?function(...t){return r.apply(Hn(this),t),Pt(this.request)}:function(...t){return Pt(r.apply(Hn(this),t))}}function Ns(r){return typeof r=="function"?Ls(r):(r instanceof IDBTransaction&&Rs(r),Nn(r,Os())?new Proxy(r,Pn):r)}function Pt(r){if(r instanceof IDBRequest)return Bs(r);if(In.has(r))return In.get(r);const t=Ns(r);return t!==r&&(In.set(r,t),Kr.set(t,r)),t}const Hn=r=>Kr.get(r);function zs(r,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const o=indexedDB.open(r,t),u=Pt(o);return i&&o.addEventListener("upgradeneeded",d=>{i(Pt(o.result),d.oldVersion,d.newVersion,Pt(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),u}const Ps=["get","getKey","getAll","getAllKeys","count"],Hs=["put","add","delete","clear"],Fn=new Map;function Ei(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fn.get(t))return Fn.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Hs.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Ps.includes(n)))return;const l=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let v=d.store;return i&&(v=v.index(u.shift())),(await Promise.all([v[n](...u),s&&d.done]))[0]};return Fn.set(t,l),l}ta(r=>({...r,get:(t,n,i)=>Ei(t,n)||r.get(t,n,i),has:(t,n)=>!!Ei(t,n)||r.has(t,n)}));const js=["continue","continuePrimaryKey","advance"],Ai={},jn=new WeakMap,ra=new WeakMap,Us={get(r,t){if(!js.includes(t))return r[t];let n=Ai[t];return n||(n=Ai[t]=function(...i){jn.set(this,ra.get(this)[t](...i))}),n}};async function*Ws(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const n=new Proxy(t,Us);for(ra.set(n,t),Kr.set(n,Hn(t));t;)yield n,t=await(jn.get(n)||t.continue()),jn.delete(n)}function Si(r,t){return t===Symbol.asyncIterator&&Nn(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Nn(r,[IDBIndex,IDBObjectStore])}ta(r=>({...r,get(t,n,i){return Si(t,n)?Ws:r.get(t,n,i)},has(t,n){return Si(t,n)||r.has(t,n)}}));const Gs="ApCacheDB",xr="ap",qs=2,Vs=60*1e3;async function na(){return zs(Gs,qs,{upgrade(r){r.objectStoreNames.contains(xr)||r.createObjectStore(xr)}})}async function Ks(r,t){await(await na()).put(xr,{data:t,timestamp:Date.now()},r)}async function Ys(r){const t=await na(),n=await t.get(xr,r);return n?Date.now()-n.timestamp>Vs?(await t.delete(xr,r),null):n.data:null}class Qs{baseUrl=`${ea}/`;error="";async request(t="",n="GET",i,s){try{this.error="";const l={method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ds.token}`}};if(i&&(l.body=JSON.stringify(i)),s){let v=await Ys(t);if(v)return v}const o=`${this.baseUrl}${t}`;console.log("fetching url:",o);const u=await fetch(o,l),d=await u.json();return u.ok?(await Ks(t,d),d):(u.status===401&&console.log("authentication failed."),this.error=d.detail||"Unknown API error",console.log(`API Error: ${this.error}`),null)}catch(l){return console.log("Fetch error:",l),this.error="API: Error in fetching data.",null}finally{}}async getUsers(){return await this.request("users","GET",void 0,!0)}async getFolders(t,n){let i=n.join(",");return await this.request(`folders?path=${t}&users=${i}`,"GET",void 0,!0)}async getFiles(t,n){let i=n.join(",");return await this.request(`files?path=${t}&users=${i}`,"GET",void 0,!0)}}const Cn=new Qs,X={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:void 0,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:void 0,i18n:{aria_label:"",aria_describedby:"",aria_selected:r=>r.length?`Option${r.length>1?"s":""} ${r.join(", ")} selected.`:"",aria_listActive:(r,t,n)=>`You are currently focused on option ${r[t]}. ${n} result${n>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",aria_removeItemLabel:(r,t)=>"Remove item",empty:"No options",nomatch:"No matching options",max:r=>`Maximum items ${r} selected`,fetchBefore:"Type to start searching",fetchQuery:(r,t)=>`Type at least ${r} character${r>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:r=>`${r} selected`,createRowLabel:r=>`Add '${r}'`,emptyCreatable:"Add new by typing"},requestFactory:void 0};function Js(r,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{r.apply(this,i)},t)}}function Zs(r,{url:t,parentValue:n,initial:i},s){n&&(t=t.replace("[parent]",encodeURIComponent(n))),r&&(t=t.replace("[query]",encodeURIComponent(r))),Array.isArray(i)&&i.length===0&&(i=null),i&&(t=t.replace("[query]","init"));const l=t[0]==="/"?new URL(t,window.location.origin):new URL(t);if(i){const d=Array.isArray(i)?i:[i];l.searchParams.append("init",d.join(","))}const o=new AbortController,u=Object.assign({},s,{signal:o.signal});return{request:new Request(l,u),controller:o}}var Ht=function(r,t){this.items=r,this.settings=t||{diacritics:!0}};Ht.prototype.tokenize=function(r,t,n){if(r=$s(String(r||"").toLowerCase()),!r||!r.length)return[];var i,s,l,o,u=[],d=r.split(/ +/);for(i=0,s=d.length;i<s;i++){if(l=el(d[i]),this.settings.diacritics)for(o in zt)zt.hasOwnProperty(o)&&(l=l.replace(new RegExp(o,"g"),zt[o]));t?l="\\b"+l:n&&(l="\\b^"+l),u.push({string:d[i],regex:new RegExp(l,"i")})}return u};Ht.prototype.iterator=function(r,t){var n;Array.isArray(r)?n=Array.prototype.forEach||function(i){for(var s=0,l=this.length;s<l;s++)i(this[s],s,this)}:n=function(i){for(var s in this)this.hasOwnProperty(s)&&i(this[s],s,this)},n.apply(r,[t])};Ht.prototype.getScoreFunction=function(r,t){var n,i,s,l,o;n=this,r=n.prepareSearch(r,t),s=r.tokens,i=r.options.fields,l=s.length,o=r.options.nesting;var u=function(v,_){var g,I;return!v||(v=String(v||""),I=v.search(_.regex),I===-1)?0:(g=_.string.length/v.length,I===0&&(g+=.5),g)},d=(function(){var v=i.length;return v?v===1?function(_,g){return u(Un(g,i[0],o),_)}:function(_,g){for(var I=0,T=0;I<v;I++)T+=u(Un(g,i[I],o),_);return T/v}:function(){return 0}})();return l?l===1?function(v){return d(s[0],v)}:r.options.conjunction==="and"?function(v){for(var _,g=0,I=0;g<l;g++){if(_=d(s[g],v),_<=0)return 0;I+=_}return I/l}:function(v){for(var _=0,g=0;_<l;_++)g+=d(s[_],v);return g/l}:function(){return 0}};Ht.prototype.getSortFunction=function(r,t){var n,i,s,l,o,u,d,v,_,g,I;if(s=this,r=s.prepareSearch(r,t),I=!r.query&&t.sort_empty||t.sort,_=function(T,y){return T==="$score"?y.score:Un(s.items[y.id],T,t.nesting)},o=[],I)for(n=0,i=I.length;n<i;n++)(r.query||I[n].field!=="$score")&&o.push(I[n]);if(r.query){for(g=!0,n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){g=!1;break}g&&o.unshift({field:"$score",direction:"desc"})}else for(n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){o.splice(n,1);break}for(v=[],n=0,i=o.length;n<i;n++)v.push(o[n].direction==="desc"?-1:1);return u=o.length,u?u===1?(l=o[0].field,d=v[0],function(T,y){return d*Ii(_(l,T),_(l,y))}):function(T,y){var Y,B,F;for(Y=0;Y<u;Y++)if(F=o[Y].field,B=v[Y]*Ii(_(F,T),_(F,y)),B)return B;return 0}:null};Ht.prototype.prepareSearch=function(r,t){if(typeof r=="object")return r;t=Xs({},t);var n=t.fields,i=t.sort,s=t.sort_empty;return n&&!Array.isArray(n)&&(t.fields=[n]),i&&!Array.isArray(i)&&(t.sort=[i]),s&&!Array.isArray(s)&&(t.sort_empty=[s]),{options:t,query:String(r||"").toLowerCase(),tokens:this.tokenize(r,t.wordsOnly,t.startOnly),total:0,items:[]}};Ht.prototype.search=function(r,t){var n=this,i,s,l,o;return s=this.prepareSearch(r,t),t=s.options,r=s.query,o=t.score||n.getScoreFunction(s),r.length?n.iterator(n.items,function(u,d){i=o(u),(t.filter===!1||i>0)&&s.items.push({score:i,id:d})}):n.iterator(n.items,function(u,d){s.items.push({score:1,id:d})}),l=n.getSortFunction(s,t),l&&s.items.sort(l),s.total=s.items.length,typeof t.limit=="number"&&(s.items=s.items.slice(0,t.limit)),s};var Ii=function(r,t){return typeof r=="number"&&typeof t=="number"?r>t?1:r<t?-1:0:(r=Gr(String(r||"")),t=Gr(String(t||"")),r>t?1:t>r?-1:0)},Xs=function(r,t){var n,i,s,l;for(n=1,i=arguments.length;n<i;n++)if(l=arguments[n],!!l)for(s in l)l.hasOwnProperty(s)&&(r[s]=l[s]);return r},Un=function(r,t,n){if(!(!r||!t)){if(!n)return r[t];for(var i=t.split(".");i.length&&(r=r[i.shift()]););return r}},$s=function(r){return(r+"").replace(/^\s+|\s+$|/g,"")},el=function(r){return(r+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},zt={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"};const Gr=(function(){var r,t,n,i,s="",l={};for(n in zt)if(zt.hasOwnProperty(n))for(i=zt[n].substring(2,zt[n].length-1),s+=i,r=0,t=i.length;r<t;r++)l[i.charAt(r)]=n;var o=new RegExp("["+s+"]","g");return function(u){return u.replace(o,function(d){return l[d]}).toLowerCase()}})();let pr;function tl(r,t,n,i,s){const l=i(r,t,n);if(n==""||r.isSelected||s)return l;pr||(pr=document.createElement("div")),pr.innerHTML=l;const o=Gr(n);return(o.includes("|")?o.split("|").map(u=>u.trim()):o.split(" ")).filter(u=>u).forEach(u=>{ia(pr,u)}),pr.innerHTML}function ia(r,t){let n=0;if(r.nodeType===3){const s=Gr(r.data);let l=s.indexOf(t);if(l-=s.substr(0,l).toUpperCase().length-s.substr(0,l).length,l>=0){const o=document.createElement("span");o.className="highlight";const u=r.splitText(l);u.splitText(t.length);const d=u.cloneNode(!0);o.appendChild(d),u.parentNode.replaceChild(o,u),n=1}}else if(r.nodeType===1&&r.childNodes&&!/(script|style)/i.test(r.tagName)&&(r.className!=="highlight"||r.tagName!=="SPAN"))for(var i=0;i<r.childNodes.length;++i)i+=ia(r.childNodes[i],t);return n}function rl(){return navigator.userAgent.toLowerCase().includes("android")}function Mn(r){return(r||"").replace(/\t/g," ").trim().split(" ").filter(t=>t).join(" ")}function nl(r){return`${r}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function il(r){const t=r-1;return t*t*t+1}function al(r,{from:t,to:n},i={}){var{delay:s=0,duration:l=m=>Math.sqrt(m)*120,easing:o=il}=i,u=getComputedStyle(r),d=u.transform==="none"?"":u.transform,[v,_]=u.transformOrigin.split(" ").map(parseFloat);v/=r.clientWidth,_/=r.clientHeight;var g=sl(r),I=r.clientWidth/n.width/g,T=r.clientHeight/n.height/g,y=t.left+t.width*v,Y=t.top+t.height*_,B=n.left+n.width*v,F=n.top+n.height*_,j=(y-B)*I,ce=(Y-F)*T,ne=t.width/n.width,J=t.height/n.height;return{delay:s,duration:typeof l=="function"?l(Math.sqrt(j*j+ce*ce)):l,easing:o,css:(m,O)=>{var U=O*j,te=O*ce,Ee=m+O*ne,fe=m+O*J;return`transform: ${d} translate(${U}px, ${te}px) scale(${Ee}, ${fe});`}}}function sl(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var t=r,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function Dn(r,t){const n=window.getComputedStyle(r);let{groups:{value:i,unit:s}}=n[t].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),l=parseFloat(i);if(s!=="px"){const o=s==="rem"?document.documentElement:r.parentElement.parentElement;l=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*l}return l}function ll(r){const t=r.parentElement.parentElement.getBoundingClientRect(),n=r.getBoundingClientRect(),i={};return i.top=t.top<0,i.left=t.left<0,i.bottom=t.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight)&&t.top>n.height&&(window.innerHeight||document.documentElement.clientHeight)>n.height+50,i.right=t.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function Fi(r,t,n){if(!t)return;const i=ll(t);i.bottom&&!i.top?t.parentElement.style.bottom=t.parentElement.parentElement.clientHeight+1+"px":(!r||i.top||t.parentElement.style.bottom!=="")&&(t.parentElement.style.bottom="")}function zr({container:r,scrollContainer:t,virtualList:n,center:i},s){if(n||!r)return;const l=r.querySelector(`[data-pos="${s}"]`);if(!l)return;const o=l.getBoundingClientRect(),u=t.getBoundingClientRect(),d=l.offsetHeight/3,v=0;switch(!0){case l.offsetTop<t.scrollTop:t.scrollTop=l.offsetTop-d+v;break;case l.offsetTop+o.height>t.scrollTop+u.height:t.scrollTop=l.offsetTop+o.height-t.offsetHeight+d+v;break}}function ol(r,t,n,i){return{optionProps:[],optionsWithGroups:!1,valueField:r,labelField:t,optLabel:n,optItems:i}}function cl(r,t,n,i){let s=Array.isArray(t)?t:[t];return n&&(s=s.map(o=>o[i])),r.reduce((o,u)=>(s.includes(u[i])&&(u.$selected=!0,o.push(u)),o),[]).sort((o,u)=>s.indexOf(o[i])<s.indexOf(u[i])?-1:1)}function Ci(r,t,n){return typeof r[0]=="object"?JSON.parse(JSON.stringify(r)):r.map(i=>({[t||"value"]:i,[n||"text"]:i}))}function On(r,t){const n=r.reduce((i,s,l)=>s[t.optItems]?(s[t.optItems].length===0||(t.optionsWithGroups=!0,i.push({label:s[t.optLabel],$isGroupHeader:!0}),i.push(...s[t.optItems].map(o=>(o.$isGroupItem=!0,o)))),i):(i.push(s),i),[]);return ul(n,t),n}function ul(r,t){r.some(n=>n.$isGroupHeader?!1:(t.optionProps=dl(n),!0))}function dl(r){const t=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(r).filter(n=>!t.includes(n))}function fl(r,t,n,i,s={}){if(!s.keepSelectionInList&&n&&(r=r.filter(v=>!n.has(v[i.valueField])).filter((v,_,g)=>!(v.$isGroupHeader&&(g[_+1]&&g[_+1].$isGroupHeader||g.length<=1||g.length-1===_)))),s.disabled||!t)return r;const l=new Ht(r);(i.optionsWithGroups||s.skipSort)&&(l.getSortFunction=()=>null);let o="and";t.includes("|")&&(o="or",t=t.split("|").map(v=>v.trim()).join(" "));const u=l.search(t,{fields:s.fields||i.optionProps,sort:s.sort||vl(i.labelField),conjunction:s.conjunction||o,nesting:s.nesting||!1,wordsOnly:s.wordsOnly||!1,startOnly:s.startOnly||!1});return i.optionsWithGroups?u.items.reduce((v,_)=>{const g=r[_.id];if(n&&g.isSelected)return v;const I=v.push(g);if(g.$isGroupItem){const T=r.slice(0,_.id);let y=null;do y=T.pop(),y&&y.$isGroupHeader&&!v.includes(y)&&v.splice(I-1,0,y);while(y&&!y.$isGroupHeader)}return v},[]):u.items.map(v=>r[v.id])}function vl(r){return[{field:r,direction:"asc"}]}function Pr(r,t,n){const i=r==="value";let s=i?"value":"text";if(t&&t.length){const l=t[0][n]?t[0][n][0]:t[0];if(!l||typeof l=="string")return s;const o=i?0:1,u=i?["id","value","ID"]:["name","title","label"];s=Object.keys(l).filter(d=>u.includes(d)).concat([Object.keys(l)[o]]).shift()}return s}function hl(r,t){return r.bound_item=t,{destroy:()=>{}}}var _l=ae("<svelecte-list-row><!></svelecte-list-row>",2),gl=ae("<svelecte-list-viewport><svelecte-list-content></svelecte-list-content></svelecte-list-viewport>",2);function ml(r,t){Gn(t,!0);const n=w(t,"itemHeight",3,null);function i(){return e(I).firstElementChild?.offsetHeight||0}let s=t.itemCount,l=t.scrollToIndex,o=0,u=P(0),d=P(0),v=P(0),_=P(0),g=P(null),I=P(null),T=P(Re(n())),y=re(()=>`height:${e(_)}px;width:100%`),Y=re(()=>{const m=[];for(let O=e(u);O<e(d);O++)m.push({index:O});return m});function B(m){if(l=m,(m<0||m>t.itemCount)&&(m=0),e(u)<m&&m<e(d)-1)return;const O=m*e(T),U=O-e(g).clientHeight+e(T),te=t.itemCount*e(T),Ee=Math.max(U,Math.min(O,o));o=Math.max(0,Math.min(te-e(g).clientHeight,Ee)),e(g).scroll({top:o,behavior:"auto"})}async function F(m){!e(T)&&m&&e(d)===0&&(f(d,1),await Ve(),f(T,i(),!0)),s=m,f(_,Math.min(t.maxHeight,m*e(T)),!0),f(d,Math.min(m,Math.round(t.maxHeight/e(T))),!0),await Ve(),j()}async function j(){const{scrollTop:m}=e(g),O=e(u);let U=0,te=0;for(;U<t.itemCount;){if(te+e(T)>m){f(u,U,!0),f(v,te,!0);break}te+=e(T),U+=1}for(;U<t.itemCount&&(te+=e(T),U+=1,!(te>m+e(_))););if(f(d,U,!0),e(u)<O){let Ee=0,fe=0;for(let ve=e(u);ve<O;ve+=1){const Te=ve-e(u);e(u)<=Te&&Te<e(d)&&(Ee+=e(T),fe+=e(T))}const R=fe-Ee;e(g).scrollTo(0,m+R)}}Wn(()=>{F(t.itemCount),e(g)?.addEventListener("scroll",j,{passive:!0})}),za(()=>{e(g)?.removeEventListener("scroll",j)}),ht(()=>{s!==t.itemCount&&F(t.itemCount)}),ht(()=>{l!==t.scrollToIndex&&B(t.scrollToIndex)});var ce={resolveItemSize:i},ne=gl();xe(ne,1,"svelte-1kwjasd");var J=x(ne);return xe(J,1,"svelte-1kwjasd"),gt(J,21,()=>e(Y),m=>m.index,(m,O)=>{var U=_l();xe(U,1,"svelte-1kwjasd");var te=x(U);$e(te,()=>t.children??ke,()=>e(O).index),b(U),z(m,U)}),b(J),_t(J,m=>f(I,m),()=>e(I)),b(ne),_t(ne,m=>f(g,m),()=>e(g)),de(()=>{Nt(ne,e(y)),Nt(J,`padding-top: ${e(v)??""}px; height: ${t.itemCount*e(T)}px;`)}),z(r,ne),qn(ce)}const pl=(r,t=ke,n=ke)=>{var i=kl(),s=x(i,!0);b(i),de(l=>ye(s,l),[()=>n().collapsedSelection(t().length)]),z(r,i)},bl=(r,t=ke)=>{var n=Fl();z(r,n)};X.requestFactory=Zs;const wr={default(r){return nl(r[this.label])},html(r){return r[this.label]}},Hr=r=>({destroy:()=>{}});function yl(r,t){if(r instanceof Object)for(let n in r)wr[n]=r[n];else wr[r]=t}const wl=X;function Mi(r){r.preventDefault()}function xl(r,t,n){e(t).length===1&&n()}var kl=ae("<span> </span>"),El=r=>r.preventDefault(),Al=ae('<button class="sv-item--btn" tabindex="-1" type="button" data-action="deselect"><svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg></button>'),Sl=ae('<div class="sv-item--container"><div><div class="sv-item--content"><!></div></div> <!></div>'),Il=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>'),Fl=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>'),Cl=ae('<div class="sv-item--content"><!></div>'),Ml=ae('<span> </span> <span class="shortcut svelte-d96dy0"><kbd class="svelte-d96dy0"> </kbd>+<kbd class="svelte-d96dy0">Enter</kbd></span>',1),Dl=ae('<span id="aria-selection"> </span> <span id="aria-context"> </span>',1),Ol=ae("<option selected> </option>"),Tl=ae('<select size="1" class="sv-hidden-element" tabindex="-1" aria-hidden="true"></select>'),Bl=ae('<button type="button" data-action="deselect" tabindex="-1"><!></button>'),Rl=ae('<span class="sv-btn-separator svelte-d96dy0"></span>'),Ll=ae('<div class="sv-optgroup-header"><b> </b></div>'),Nl=ae("<div><!></div>"),zl=ae('<div class="sv-optgroup-header"><b> </b></div>'),Pl=ae("<div><!></div>"),Hl=ae('<div class="is-dropdown-row svelte-d96dy0"><div><div class="sv-item--content"> </div></div></div>'),jl=r=>r.preventDefault(),Ul=ae('<div class="is-dropdown-row svelte-d96dy0"><button type="button"><!></button></div>'),Wl=ae('<!> <div tabindex="-1"><div><!> <!></div></div> <!>',1),Gl=ae('<div role="none"><span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-d96dy0"><!></span> <!>  <div><!> <div><!> <span class="sv-input--sizer svelte-d96dy0"><input type="text" size="1" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" aria-autocomplete="list" tabindex="0"/></span></div>  <div><!> <!> <button type="button" data-action="toggle" tabindex="-1"><!></button></div> <!></div>  <div><!></div></div>');function ql(r,t){Gn(t,!0);const n=(a,c=ke,p=ke)=>{var M=Ue(),E=Ce(M);gt(E,25,c,K=>K[e(A)],(K,oe)=>{var ie=Sl();ie.__mousedown=[El];var ue=x(ie);let we;var ft=x(ue),_r=x(ft);mi(_r,()=>e(Yn)(e(oe),!0)),b(ft),b(ue);var gr=G(ue,2);{var mn=Ot=>{var se=Al();kn(se,(be,Ie)=>p()?.(be,Ie),()=>e(oe)),de(be=>De(se,"aria-label",be),[()=>e(N).aria_removeItemLabel(e(oe),e(Q))]),z(Ot,se)};me(gr,Ot=>{R()&&Ot(mn)})}b(ie),de(Ot=>we=xe(ue,1,"sv-item--wrap in-selection",null,we,Ot),[()=>({"is-multi":R()})]),Cs(ie,()=>al,()=>({duration:e(It)})),z(K,ie)}),z(a,M)},i=(a,c=ke,p=ke)=>{var M=Ue(),E=Ce(M);{var K=oe=>{var ie=Il();z(oe,ie)};me(E,oe=>{e(C).length&&oe(K)})}z(a,M)},s=(a,c=ke,p=ke)=>{var M=Cl(),E=x(M);mi(E,()=>tl(c(),!1,p(),e(Yn),ce())),b(M),z(a,M)},l=(a,c=ke,p=ke,M=ke)=>{var E=Ml(),K=Ce(E);let oe;var ie=x(K,!0);b(K);var ue=G(K,2),we=x(ue),ft=x(we,!0);b(we),Rn(2),b(ue),de((_r,gr)=>{oe=xe(K,1,"svelte-d96dy0",null,oe,_r),ye(ie,gr),ye(ft,e(pt))},[()=>({"is-loading":c()}),()=>M().createRowLabel(p())]),z(a,E)};let o=w(t,"name",3,""),u=w(t,"inputId",7,""),d=w(t,"required",3,!1),v=w(t,"disabled",7,!1),_=w(t,"options",23,()=>[]),g=w(t,"valueField",19,()=>X.valueField),I=w(t,"labelField",19,()=>X.labelField),T=w(t,"groupLabelField",19,()=>X.groupLabelField),y=w(t,"groupItemsField",19,()=>X.groupItemsField),Y=w(t,"disabledField",19,()=>X.disabledField),B=w(t,"placeholder",19,()=>X.placeholder),F=w(t,"searchable",19,()=>X.searchable),j=w(t,"clearable",19,()=>X.clearable),ce=w(t,"disableHighlight",3,!1),ne=w(t,"highlightFirstItem",19,()=>X.highlightFirstItem),J=w(t,"selectOnTab",19,()=>X.selectOnTab),m=w(t,"resetOnBlur",19,()=>X.resetOnBlur),O=w(t,"resetOnSelect",19,()=>X.resetOnSelect),U=w(t,"closeAfterSelect",19,()=>X.closeAfterSelect),te=w(t,"deselectMode",19,()=>X.deselectMode),Ee=w(t,"dndzone",3,Hr),fe=w(t,"strictMode",3,!0),R=w(t,"multiple",19,()=>X.multiple),ve=w(t,"max",19,()=>X.max),Te=w(t,"collapseSelection",19,()=>X.collapseSelection),We=w(t,"keepSelectionInList",19,()=>X.keepSelectionInList),L=w(t,"creatable",19,()=>X.creatable),Et=w(t,"creatablePrefix",19,()=>X.creatablePrefix),Zt=w(t,"allowEditing",19,()=>X.allowEditing),Xt=w(t,"keepCreated",19,()=>X.keepCreated),kr=w(t,"delimiter",19,()=>X.delimiter),Ae=w(t,"fetch",3,null),$t=w(t,"fetchProps",19,()=>X.fetchProps),er=w(t,"fetchMode",3,"auto"),tr=w(t,"fetchCallback",19,()=>X.fetchCallback),Ke=w(t,"fetchResetOnBlur",7,!0),Yr=w(t,"fetchDebounceTime",19,()=>X.fetchDebounceTime),he=w(t,"minQuery",19,()=>X.minQuery),jt=w(t,"lazyDropdown",19,()=>X.lazyDropdown),Ye=w(t,"virtualList",19,()=>X.virtualList),Qr=w(t,"vlItemSize",19,()=>X.vlItemSize),Jr=w(t,"searchProps",3,null),Zr=w(t,"class",3,"svelecte-control"),Xr=w(t,"i18n",3,null),_e=w(t,"value",15),rr=w(t,"readSelection",15),Er=w(t,"emitValues",3,!1),Le=w(t,"valueAsObject",19,()=>X.valueAsObject),Be=w(t,"parentValue",3,void 0),$r=w(t,"onChange",3,a=>{}),Ar=w(t,"onFocus",3,a=>{}),nr=w(t,"onBlur",3,a=>{}),ir=w(t,"onCreateOption",3,a=>{}),ar=w(t,"onCreateFail",3,a=>{}),Ut=w(t,"onEnterKey",3,a=>{}),sr=w(t,"onFetch",3,a=>{}),lr=w(t,"onFetchError",3,a=>{}),or=w(t,"onInvalidValue",3,a=>{}),At=w(t,"prepend",3,void 0),Sr=w(t,"collapsedSelection",3,pl),en=w(t,"selection",3,n),tn=w(t,"clearIcon",3,i),rn=w(t,"toggleIcon",3,bl),Ir=w(t,"append",3,void 0),Wt=w(t,"listHeader",3,void 0),tt=w(t,"option",3,s),cr=w(t,"createRow",3,l),Gt=w(t,"positionResolver",3,Hr),St=w(t,"anchor_element",3,void 0),Fr=w(t,"controlClass",3,void 0),Cr=w(t,"dropdownClass",3,void 0),qt=w(t,"optionClass",3,void 0);function nn(){Ft.focus()}function an(a,c){un(a),c&&vr()}function sn(a){return Mr(!a)}function ln(a){Ae()&&(fn({init:!0,initValue:a,storedValue:Ke()}),Ke(!1))}const ur=o()?`sv-${o()}-select-${`${Math.random()}`.substring(2,6)}`:null;d()&&!o()&&console.warn("[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set"),Ae()&&_e()&&Le()&&!fe()&&(!_()||_()&&_().length===0)&&_(Array.isArray(_e())?_e():[_e()]),u()||u(ur?ur.replace("-select-","-input-"):`svelecte-input-${`${Math.random()}`.substring(2,12)}`);let h=P(!1),k=_(),S,H,W=t.optionResolver?t.optionResolver(_(),new Set):Ci(_(),g(),I()),A=P(Re(g()||Pr("value",W,y()))),Q=P(Re(I()||Pr("label",W,y())));const $=ol(e(A),e(Q),T(),y());let ee=P(Re(On(W,$))),pe=P(!1),q=re(()=>e(pe)?[]:e(ee));W=void 0;let C=P(Re(_e()?cl(e(q),_e(),Le(),e(A)):[]));const V=e(C).reduce((a,c)=>(a.add(c[e(A)]),a),new Set);let ze=e(C).filter(a=>a.$created),Ne=P(!1),Pe=P(!1),rt=P(!1),ge=P(!1),nt=P(!1),Z=P(Re(ne()?0:-1)),ot=P(!jt()),ct=null,pt=P(void 0),D=P(""),it=!1,N=re(()=>Object.assign({},wl.i18n,Xr()||{})),Fe=re(()=>er()==="init"||Ae()&&Ae().includes("[query]")===!1),Me=Ae()&&(_e()||R()&&_e()&&_e().length)?Le()?fe()===!1?wn(_e()):null:JSON.parse(JSON.stringify(_e())):null,dr=null,bt=P(Te()!==null),Ge=P(!1),Qe=P(!1),It=P(100),Vt=!1,Vn=!1,Ft,He,Ct,je=P(null),on;ht(()=>{oa(g(),I())});let ut=re(()=>ve()!==0&&e(C).length==ve());ht(()=>{ca(_())}),ht(()=>{_e()!==void 0&&un(_e())});let fr=null,le=re(()=>(e(C).length,e(q).length,!e(D)&&Ae()&&!e(Fe)&&Ke()?[]:fr||(e(ut)?[]:fl(e(q),e(D),wa(e(D)),$,Jr()||{}))));ht(()=>{let a=e(le).length;L()&&e(D)&&a++,a<=e(Z)&&dt(0,{asc:!L(),desc:L()}),da(e(ut),e(le))}),ne()&&dt(0,{asc:!0});let cn=re(()=>t.createFilter||(a=>ze.includes(a))),Kn=re(()=>t.createHandler||(({inputValue:a,labelField:c,valueField:p,prefix:M})=>({[p]:a,[c]:`${M}${a}`}))),Yn=re(()=>typeof t.renderer=="function"?t.renderer:(wr[t.renderer]?wr[t.renderer]:wr.default).bind({label:e(Q)})),aa=re(()=>F()?"text":"none"),Qn=re(()=>e(C).length?"":B()),Jn=re(()=>e(C).length>0&&R()===!1?null:"enter"),sa=re(()=>e(N).aria_selected(e(C).map(a=>a[e(Q)]))),la=re(()=>{if(e(C).length&&e(C).length===ve())return e(N).max(ve());const a=Math.min(e(Z),e(le).length-1);return Ae()?e(Ge)?e(N).fetchInit:e(le).length?e(Z)!==-1?e(N).aria_inputFocused():e(le)[e(Z)]?e(N).aria_listActive(e(le)[a],e(Q),e(le).filter(c=>!c.$isGroupHeader).length):"N/A."+e(Z):he()>1?e(N).fetchQuery(he(),e(D).length):e(N).fetchBefore:e(le).length?e(ge)&&e(Z)!==-1&&!isNaN(e(Z))?e(N).aria_listActive(e(le)[a],e(Q),e(le).filter(c=>!c.$isGroupHeader).length):e(N).aria_inputFocused():e(D).length?e(N).nomatch:e(N).empty});function oa(a,c){e(h)&&(a&&e(A)!==a&&($.valueField=f(A,a,!0),V.size>0&&Kt()),c&&($.labelField=f(Q,c,!0)))}function ca(a){if(k!==a){if(a=On(Ci(a,e(A),e(Q)),$),!g()){const c=Pr("value",a||null,y());!g()&&e(A)!==c&&($.valueField=f(A,c,!0),V.size>0&&Kt())}if(!I()){const c=Pr("label",a||null,y());!I()&&e(Q)!==c&&($.labelField=c,f(Q,c,!0))}k=a,f(ee,t.optionResolver?t.optionResolver(a,V):a,!0)}}function ua(a,c){if(R()){if(a&&c?.length===a.length&&a.length>0)return Le()?a.every((p,M)=>p[e(A)]===c[M][e(A)]):a.every((p,M)=>p===c[M])}else if(c&&a)return Le()?c[e(A)]===a[e(A)]:c===a;return!1}function un(a,c){if(ua(S,a)&&!c?.skipEqualityCheck)return;const p=Array.isArray(a)&&a.length||R()===!1;if(a!==null&&p){if((R()&&!Array.isArray(a)||!R()&&Array.isArray(a))&&console.warn(`[Svelecte]: Passed 'value' property should ${R()?"be":"NOT be"} an array`),Me&&(!Array.isArray(Me)||Me.length))return;const M=Array.isArray(a)?a:[a],E=[],K=M.reduce((ie,ue)=>{if(Le()&&(!fe()||L()&&ue.$created))return ie.push(Object.fromEntries(Object.entries(ue))),ie;let we=e(q).find(ft=>Le()?ft[e(A)]==ue[e(A)]:ft[e(A)]==ue);return!we&&!fe()&&(we=t.createHandler?e(Kn)({inputValue:ue,valueField:e(A),labelField:e(Q),prefix:Et()}):{[e(A)]:ue,[e(Q)]:ue}),we&&(V.has(we[e(A)])||ie.push(we),E.push(we[e(A)])),ie},[]);if(e(C).forEach(ie=>!E.includes(ie[e(A)])&&Xn(ie)),!(K.every(dn)&&(R()?V.size===M.length:V.size===1))){console.warn('[Svelecte]: provided "value" property is invalid',a),Le()&&fe()&&Ae()&&console.warn("[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value"),Kt(),S=R()?[]:null,_e(S),rr(S),or()(a);return}}else Kt();S=wn(a),R()&&!Array.isArray(a)&&(S=[],_e(S)),rr(Mr(!0))}function Mr(a){const c=a!==!0,p=e(C).map(M=>{if(c)return M[e(A)];const E={};for(let[K,oe]of Object.entries(M))K[0]!=="$"&&(E[K]=oe);return E});return R()?p:p.length?p.shift():null}ht(()=>{if(Be()!==void 0&&H!==Be()||Be()===void 0&&H!==Be()){const a=Be()===void 0?!1:!Be();Kt(),_e(R()?[]:null),v(a)}H=Be(),Vn=Be()!==void 0});function qe(a){a&&!e(Pe)&&f(Pe,!0);const c=e(ot);!e(ot)&&a&&f(ot,!0),f(ge,a,!0),Ve().then(()=>{if(!c&&Ye())return Ve()}).then(()=>{Gt()===Hr&&Fi(a,e(je)),a&&(ne()&&(e(C).length===0||R())&&dt(0,{asc:!0}),!R()&&e(C).length&&f(Z,e(q).findIndex(p=>p[e(A)]===e(C)[0][e(A)]),!0),zr({container:Ct,scrollContainer:e(je),virtualList:Ye(),center:!1},e(Z))),Ve().then(()=>f(nt,a,!0))}),ct||(ct=()=>Gt()===Hr&&Fi(a,e(je))),document[a?"addEventListener":"removeEventListener"]("scroll",ct,{passive:!0})}function da(a,c){if(!(Ae()&&!e(Fe))){if(a){f(yt,e(N).max(ve()),!0);return}f(yt,c.length!==e(q).length&&e(C).length!==e(q).length?L()?e(N).emptyCreatable:e(N).nomatch:L()?e(N).emptyCreatable:e(N).empty,!0)}}function vr(){const a=Mr(!0),c=Mr(!1);S=Le()?a:c,_e(S),rr(a),Ve().then(()=>{$r()(Er()?c:a),He&&He.dispatchEvent(new Event("change"))})}function hr(a,c){if(c=c||a.detail,!(v()||c[Y()]||c.$isGroupHeader)){if(!c||R()&&e(ut))return!1;if(V.has(c[e(A)]))return!R()&&te()!=="toggle"?void 0:Dr(c);if(typeof c=="string"){if(!L()||(c=Mn(c),ze.includes(c)||V.has(c)))return;f(Qe,!0),Promise.resolve().then(()=>e(Kn)({inputValue:c,valueField:e(A),labelField:e(Q),prefix:Et()})).then(p=>{f(Qe,!1),!Ae()&&ze.push(c),p.$created=!0,Xt()&&(e(ee).push(p),p=e(ee)[e(ee).length-1]),ir()(p),dn(p),Zn(),vr()}).catch(p=>{f(Qe,!1),ar()({input:c,error:p})});return}dn(c),Zn(),vr()}}function Zn(){(R()&&O()||!R())&&f(D,""),(U()===!0||U()==="auto"&&!R())&&qe(!1),ve()&&e(C).length==ve()&&f(Z,0)}function dn(a){if(a.$selected=!0,R())e(C).push(a),V.add(a[e(A)]);else{const c=e(C).shift();c&&(c.$selected=!1),f(C,[a],!0),V.clear(),V.add(a[e(A)]),Ve().then(()=>{const p=e(q).indexOf(a);f(Z,p<0?0:p,!0)})}return t.optionResolver&&Ve().then(()=>{f(ee,t.optionResolver(_(),V),!0)}),!0}function Dr(a=null,c){v()||(a?(Xn(a,c),We()!==!0&&Ve().then(()=>zr({scrollContainer:e(je),container:Ct,virtualList:Ye(),center:!1},e(Z)))):Kt(),vr())}function Xn(a,c){if(a.$created){if(!Xt()){ze.splice(ze.findIndex(E=>E===a[e(A)]),1);const M=e(ee).findIndex(E=>E[e(A)]===a[e(A)]);M!==-1&&e(ee).splice(M,1),f(ee,e(ee),!0)}c&&Zt()&&f(D,a[e(Q)].replace(Et(),""),!0)}a.$selected=!1;const p=a[e(A)];if(V.delete(p),e(C).splice(e(C).findIndex(M=>M[e(A)]==p),1),t.optionResolver){f(ee,t.optionResolver(_(),V),!0);return}Ae()&&!e(Fe)&&Ke()&&f(pe,!0)}function Kt(){if(!(V.size===0||!R()&&te()==="none")){if(V.clear(),f(C,e(C).reduce((a,c)=>(c.$selected=!1,[]),[]),!0),Xt()||(ze=[]),e(D)&&f(D,""),t.optionResolver){f(ee,t.optionResolver(_(),V),!0);return}Ae()&&!e(Fe)&&Ke()&&f(pe,!0)}}function fa(a){a.preventDefault(),!ze.includes(e(D))&&hr(null,e(D))}function va(a){if(L()&&kr().indexOf(a.key)>-1){e(D).length>0&&hr(null,e(D)),a.preventDefault();return}const c=J()&&e(ge)&&!a.shiftKey?"Tab":"No-tab";let p=dr?a.metaKey:a.ctrlKey,M=["PageUp","PageDown"].includes(a.key),E=!1,K=!1;switch(a.key){case"End":if(e(D).length!==0)return;dt(e(le).length,{desc:!0});case"PageDown":if(M){const[ue,we]=vn();f(Z,Math.min(Math.ceil((we*e(Z)+ue)/we),e(le).length+(L()&&e(D)?1:0)),!0)}case"ArrowUp":if(a.preventDefault(),!e(ge)){qe(!0);return}dt(e(Z)-1,{desc:!0}),Ve().then(()=>zr({scrollContainer:e(je),container:Ct,virtualList:Ye(),center:!1},e(Z)));break;case"Home":if(K=!0,e(D).length!==0||e(D).length===0&&e(le).length===0)return;dt(0,{asc:!0});case"PageUp":if(M){const[ue,we]=vn();f(Z,Math.floor((we*e(Z)-ue)/we),!0)}case"ArrowDown":if(a.preventDefault(),!e(ge)){qe(!0);return}const oe=e(Z)===null?-1:e(Z);!K&&dt(oe+1,{asc:!0}),Ve().then(()=>zr({scrollContainer:e(je),container:Ct,virtualList:Ye(),center:!1},e(Z)));break;case"Escape":e(ge)&&(a.preventDefault(),a.stopPropagation()),e(D)||qe(!1),f(D,"");break;case c:case"Enter":if(!e(ge)){a.key!==c&&Ut()(a);return}let ie=p?null:e(le)[e(Z)];if(L()&&!ie&&e(D)){const ue=e(cn)(Mn(e(D)));ie=!ie||p?Mn(e(D)):ie,p=ue}if(!p&&ie&&hr(null,ie),e(le).length<=e(Z)&&dt(e(le).length-1),!ie&&e(C).length){qe(!1),a.key!==c&&Ut()(a);return}(a.key!==c||a.key===c&&J()!=="select-navigate")&&a.preventDefault();break;case" ":!Ae()&&!e(ge)&&(qe(!0),a.preventDefault());break;case"Backspace":if(Te()==="always")return;E=!0;case"Delete":if(e(D)===""&&e(C).length){if(!R()&&te()==="none")return;p?Dr():Dr(e(C)[e(C).length-1],E),a.preventDefault()}default:!p&&!["Tab","Shift"].includes(a.key)&&!e(ge)&&!e(Ge)&&qe(!0)}}function $n(a){if(v())return;const c=a.target.closest("[data-action]");if(e(Pe)||f(Pe,!0),c?.dataset.action==="default")return;a.preventDefault();const p=a.target.closest("[data-pos]");if(!c&&!p)return xa(a.target);switch(c?.dataset.action||"select"){case"deselect":let E=c.bound_item;if(!E){const oe=c.dataset.id;E=e(C).filter(ie=>ie[e(A)]==oe).shift()}Dr(E),E&&!e(Ne)&&Ft.focus();break;case"select":const K=parseInt(p.dataset.pos);hr(null,e(le)[K]);break;case"toggle":qe(!e(ge));break}}function ha(a){if(rl()&&!e(Jn)&&a.key==="Enter")return!0;it=["Enter","Escape"].includes(a.key)&&e(ge),va(a)}function _a(a){it&&(a.stopImmediatePropagation(),a.preventDefault()),it=!1}function ga(){f(Ne,!0),qe(e(Pe)),e(rt)||f(rt,!0),Te()==="blur"&&!Vt&&setTimeout(()=>{f(bt,!1)},100),Ar()(Ft)}function ma(){f(Ne,!1),qe(!1),f(Pe,!1),m()?f(D,""):Mt&&!e(Fe)&&Mt.abort("blur"),Te()==="blur"&&!Vt&&setTimeout(()=>{f(bt,!0)},100),nr()(Ft)}function pa(a){if(L()){a.preventDefault();const c=new RegExp("([^"+kr()+"\\n]+)","g"),p=a.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),M=p.match(c);M.length===1&&p.indexOf(",")===-1&&f(D,M.pop().trim(),!0),M.forEach(E=>hr(null,E.trim()))}}function ei(a){Vt=a.type==="consider",f(C,a.detail.items,!0),Vt||(vr(),Te()==="blur"&&setTimeout(()=>{f(bt,!0)},200))}let Mt,Or;ht(()=>{ya(e(D))}),ht(()=>{ba(Ae(),Be())});let yt=P(Re(Ae()?e(Fe)?e(N).fetchInit:he()>1?e(N).fetchQuery(he(),0):e(N).fetchBefore:L()?e(N).emptyCreatable:e(N).empty));function ba(a,c){if(!a){Or=null;return}(e(Fe)||Me)&&(f(Ge,!0),fn({init:!0})),Or=Js(fn,Yr())}function ya(a){if(e(Fe)||e(ut)){f(yt,e(ut)?e(N).max(ve()):e(N).fetchInit,!0);return}Or&&(Mt?.abort(),f(Ge,!0),e(D).length<he()&&f(Ge,!1),!t.optionResolver&&Ke()&&(fr=[]),f(nt,a.length>=he()?L():!0,!0),f(yt,e(ut)?e(N).max(ve()):he()<=1?e(N).fetchBefore:e(N).fetchQuery(he(),a.length),!0),Or())}function fn(a={}){if(Mt?.abort(),a.init!==!0&&!e(D).length||Vn&&!Be()){f(Ge,!1),Ke()&&f(ee,t.optionResolver?t.optionResolver(_(),V):[],!0);return}if(e(D)&&e(D).length<he()){f(Ge,!1);return}e(Fe)&&S&&(!R()||S?.length>0)&&(Me=S);const c=wn(Me||a.initValue);let p;if(c&&(p=Le()?R()?c.map(E=>E[e(A)]):c[e(A)]:c),e(Fe))f(yt,e(N).fetchInit,!0);else if(c&&t.optionResolver){Me=null,f(yt,he()>1?e(N).fetchQuery(he(),e(D).length):e(N).fetchBefore,!0);return}const M=X.requestFactory(e(D),{parentValue:Be(),url:Ae(),initial:p},typeof $t()=="function"?$t()():$t());Mt?.abort(),Mt=M.controller,window.fetch(M.request).then(E=>E.json()).then(E=>(!Array.isArray(E)&&E?.error&&lr()(E.error),Promise.resolve(tr()?tr()(E):E.data||E.items||E.options||E).then(K=>{Array.isArray(K)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",K),K=[]),f(pe,!1),fr=null,f(ee,On(K,$),!0),sr()(K),c&&(Me=null,un(c,{skipEqualityCheck:!0}),"storedValue"in a&&Ke(a.storedValue))}))).catch(E=>{if(E instanceof DOMException&&E.name==="AbortError")return!0;fr=null,f(ee,[],!0),lr()(E),console.warn("[Svelecte] Fetch Error:",E)}).then(E=>{E!==!0&&(f(yt,e(Fe)?e(N).empty:c?he()>1?e(N).fetchQuery(he(),0):e(N).fetchBefore:e(N).fetchEmpty,!0),Mt=null,f(Ge,!1),e(Ne)&&qe(!0),e(ge)&&!e(nt)&&f(nt,!0))})}function wa(a){return We()?We()===!0?a?V:null:a||R()?V:null:V}function dt(a,c={},p=0){const M=L()&&e(D)?e(le).length+1:e(le).length;if(!(p>=2)){if(a<0&&(a=c.desc?M-1:0),(e(Z)===null&&ne()||a>=M)&&(a=0),e(le)[a]?.$isGroupHeader){dt(c.asc?a+1:a-1,c,++p);return}f(Z,a,!0)}}function xa(a){if(!v()){if(!e(Ne)){Ft.focus();return}a.tagName==="INPUT"&&e(D)||qe(!e(ge))}}function vn(){return Ye()?[Dn(e(je),"maxHeight")-Dn(e(je),"paddingTop")-Dn(e(je),"paddingBottom"),on?.resolveItemSize()]:[e(je).offsetHeight,Ct.firstElementChild.offsetHeight]}Wn(()=>{f(h,!0),dr=navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone",f(pt,dr?"âŒ˜":"Ctrl",!0),St()&&(He=document.getElementById(St()),He.className="sv-hidden-element",He.innerHTML="",He.tabIndex=-1,He.disabled=v(),He.required=d(),He.multiple=R(),!R()&&He.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),V.forEach(a=>{He.insertAdjacentHTML("beforeend",`<option value=${a} selected>${a}</option>`)})),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&f(It,0)});var ka={focus:nn,setSelection:an,getSelection:sn,refetchWith:ln},Tr=Gl();let ti;var hn=x(Tr),Ea=x(hn);{var Aa=a=>{var c=Dl(),p=Ce(c),M=x(p,!0);b(p);var E=G(p,2),K=x(E,!0);b(E),de(()=>{ye(M,e(sa)),ye(K,e(la))}),z(a,c)};me(Ea,a=>{e(Ne)&&a(Aa)})}b(hn);var ri=G(hn,2);{var Sa=a=>{var c=Tl();gt(c,21,()=>e(C),p=>p[e(A)],(p,M)=>{var E=Ol(),K=x(E,!0);b(E);var oe={};de(()=>{ye(K,e(M)[e(A)]),oe!==(oe=e(M)[e(A)])&&(E.value=(E.__value=e(M)[e(A)])??"")}),z(p,E)}),b(c),_t(c,p=>He=p,()=>He),de(()=>{De(c,"name",o()),c.required=d(),c.multiple=R(),c.disabled=v(),De(c,"id",ur)}),z(a,c)};me(ri,a=>{o()&&!St()&&a(Sa)})}var Yt=G(ri,2);Yt.__mousedown=[Mi],Yt.__click=$n;var ni=x(Yt);{var Ia=a=>{var c=Ue(),p=Ce(c);$e(p,At),z(a,c)};me(ni,a=>{At()&&a(Ia)})}var Dt=G(ni,2);let ii;var ai=x(Dt);{var Fa=a=>{var c=Ue(),p=Ce(c);$e(p,Sr,()=>e(C),()=>e(N)),z(a,c)},Ca=a=>{var c=Ue(),p=Ce(c);{var M=E=>{var K=Ue(),oe=Ce(K);$e(oe,en,()=>e(C),()=>hl),z(E,K)};me(p,E=>{e(C).length&&E(M)},!0)}z(a,c)};me(ai,a=>{e(C).length&&R()&&e(bt)?a(Fa):a(Ca,!1)})}var _n=G(ai,2),Se=x(_n);Qi(Se);let si;Se.__keydown=ha,Se.__keyup=_a,Se.__input=[xl,C,R],_t(Se,a=>Ft=a,()=>Ft),b(_n),b(Dt),kn(Dt,(a,c)=>Ee()?.(a,c),()=>({items:e(C),flipDurationMs:e(It),type:u(),dragDisabled:e(bt)}));var Br=G(Dt,2);let li;var oi=x(Br);{var Ma=a=>{var c=Bl();let p;var M=x(c);$e(M,tn,()=>e(C),()=>e(D)),b(c),de(E=>p=xe(c,1,"sv-btn-indicator svelte-d96dy0",null,p,E),[()=>({"sv-has-selection":e(C).length})]),z(a,c)};me(oi,a=>{j()&&!v()&&a(Ma)})}var ci=G(oi,2);{var Da=a=>{var c=Rl();z(a,c)};me(ci,a=>{j()&&a(Da)})}var gn=G(ci,2);let ui;var Oa=x(gn);$e(Oa,rn,()=>e(ge)),b(gn),b(Br);var Ta=G(Br,2);{var Ba=a=>{var c=Ue(),p=Ce(c);$e(p,Ir),z(a,c)};me(Ta,a=>{Ir()&&a(Ba)})}b(Yt);var Qt=G(Yt,2);let di;Qt.__mousedown=[Mi],Qt.__click=$n;var Ra=x(Qt);{var La=a=>{var c=Wl(),p=Ce(c);{var M=se=>{var be=Ue(),Ie=Ce(be);$e(Ie,Wt),z(se,be)};me(p,se=>{Wt()&&se(M)})}var E=G(p,2);let K;var oe=x(E);let ie;var ue=x(oe);{var we=se=>{{const be=(Je,wt=ke)=>{const at=re(()=>e(le)[wt()]||{});var Rr=Ue(),Tt=Ce(Rr);{var Lr=xt=>{var Ze=Ll(),Bt=x(Ze),st=x(Bt,!0);b(Bt),b(Ze),de(()=>ye(st,e(at).label)),z(xt,Ze)},Nr=xt=>{var Ze=Nl();let Bt;var st=x(Ze);$e(st,tt,()=>e(at),()=>e(D)),b(Ze),de(Xe=>{De(Ze,"data-pos",wt()),Bt=xe(Ze,1,`sv-item--wrap in-dropdown ${qt()??""}`,"svelte-d96dy0",Bt,Xe)},[()=>({"sv-dd-item-active":e(Z)===wt(),"is-selected":e(at).$selected||V.has(e(at)[e(A)]),"is-disabled":e(at)[Y()]})]),z(xt,Ze)};me(Tt,xt=>{e(at).$isGroupHeader?xt(Lr):xt(Nr,!1)})}z(Je,Rr)};let Ie=re(()=>vn().shift()),vt=re(()=>e(le).length||0);_t(ml(se,{get maxHeight(){return e(Ie)},get itemHeight(){return Qr()},get itemCount(){return e(vt)},get scrollToIndex(){return e(Z)},children:be,$$slots:{default:!0}}),Je=>on=Je,()=>on)}},ft=se=>{var be=Ue(),Ie=Ce(be);{var vt=Je=>{var wt=Ue(),at=Ce(wt);gt(at,17,()=>e(le),yr,(Rr,Tt,Lr)=>{var Nr=Ue(),xt=Ce(Nr);{var Ze=st=>{var Xe=zl(),mr=x(Xe),pn=x(mr,!0);b(mr),b(Xe),de(()=>ye(pn,e(Tt).label)),z(st,Xe)},Bt=st=>{var Xe=Pl();De(Xe,"data-pos",Lr);let mr;var pn=x(Xe);$e(pn,tt,()=>e(Tt),()=>e(D)),b(Xe),de(Na=>mr=xe(Xe,1,`sv-item--wrap in-dropdown ${qt()??""}`,"svelte-d96dy0",mr,Na),[()=>({"sv-dd-item-active":e(Z)===Lr,"is-selected":e(Tt).$selected,"is-disabled":e(Tt)[Y()]})]),z(st,Xe)};me(xt,st=>{e(Tt).$isGroupHeader?st(Ze):st(Bt,!1)})}z(Rr,Nr)}),z(Je,wt)};me(Ie,Je=>{Ye()===!1&&Je(vt)},!0)}z(se,be)};me(ue,se=>{Ye()&&e(je)?se(we):se(ft,!1)})}var _r=G(ue,2);{var gr=se=>{var be=Hl(),Ie=x(be),vt=x(Ie),Je=x(vt,!0);b(vt),b(Ie),b(be),de(()=>{xe(Ie,1,`sv-item--wrap in-dropdown ${qt()??""}`,"svelte-d96dy0"),ye(Je,e(yt))}),z(se,be)};me(_r,se=>{(e(le).length===0&&(!L()||!e(D))||e(ut))&&se(gr)})}b(oe),_t(oe,se=>Ct=se,()=>Ct),b(E),_t(E,se=>f(je,se),()=>e(je));var mn=G(E,2);{var Ot=se=>{var be=Ul(),Ie=x(be);let vt;Ie.__click=fa,Ie.__mousedown=[jl];var Je=x(Ie);$e(Je,cr,()=>e(Qe),()=>e(D),()=>e(N)),b(Ie),b(be),de((wt,at)=>{vt=xe(Ie,1,"creatable-row svelte-d96dy0",null,vt,wt),Ie.disabled=at},[()=>({active:(e(le).length?e(le).length:0)===e(Z),"is-disabled":e(cn)(e(D))}),()=>e(cn)(e(D))]),z(se,be)};me(mn,se=>{L()&&e(D)&&!e(ut)&&se(Ot)})}de((se,be)=>{K=xe(E,1,"sv-dropdown-scroll svelte-d96dy0",null,K,se),ie=xe(oe,1,"sv-dropdown-content",null,ie,be)},[()=>({"has-items":e(le).length>0,"is-virtual":Ye()}),()=>({"max-reached":e(ut)})]),z(a,c)};me(Ra,a=>{e(h)&&e(ot)&&a(La)})}return b(Qt),kn(Qt,a=>Gt()?.(a)),b(Tr),de((a,c,p,M,E,K)=>{ti=xe(Tr,1,ps(["svelecte",Zr()]),"svelte-d96dy0",ti,a),xe(Yt,1,`sv-control ${Fr()??""}`,"svelte-d96dy0"),ii=xe(Dt,1,"sv-control--selection svelte-d96dy0",null,ii,c),De(_n,"data-value",e(D)||e(Qn)),si=xe(Se,1,"sv-input--text svelte-d96dy0",null,si,p),De(Se,"id",u()),De(Se,"placeholder",e(D)?"":e(Qn)),De(Se,"inputmode",e(aa)),Se.readOnly=!F(),De(Se,"enterkeyhint",e(Jn)),Se.disabled=v(),De(Se,"aria-label",e(N).aria_label),De(Se,"aria-describedby",e(N).aria_describedby),li=xe(Br,1,"sv-buttons svelte-d96dy0",null,li,M),ui=xe(gn,1,"sv-btn-indicator svelte-d96dy0",null,ui,E),di=xe(Qt,1,`sv_dropdown ${Cr()??""} `,"svelte-d96dy0",di,K)},[()=>({"is-required":d(),"is-empty":e(C).length===0,"is-invalid":d()&&e(C).length===0,"is-tainted":e(rt),"is-valid":d()?e(C).length>0:!0,"is-focused":e(Ne),"is-open":e(ge),"is-disabled":v()}),()=>({"is-single":R()===!1,"has-items":e(C).length>0,"has-input":e(D).length}),()=>({"keep-value":!m()}),()=>({"is-loading":e(Ge)}),()=>({"sv-dropdown-opened":e(ge)}),()=>({"is-open":e(nt)})]),et("consider",Dt,ei),et("finalize",Dt,ei),et("focus",Se,ga),et("blur",Se,ma),et("paste",Se,pa),Xi(Se,()=>e(D),a=>f(D,a)),z(r,Tr),qn(ka)}Oi(["mousedown","click","keydown","keyup","input"]);function Di(r,t,n){if(!e(t).show)return;const{x:i,y:s}=n(r.clientX,r.clientY);f(t,{...e(t),x:i,y:s},!0)}function Vl(r,t,n,i){const s=$i(e(t)||e(n));i(s)}function Kl(r,t,n,i,s){e(t)>0&&(f(t,e(t)-1),n(e(i)[e(t)]),s(e(i)[e(t)]))}function Yl(r,t,n,i,s){e(t)<e(n).length-1&&(f(t,e(t)+1),i(e(n)[e(t)]),s(e(n)[e(t)]))}function Ql(r,t,n,i){r.key==="Enter"&&t(e(n)||e(i))}var Jl=(r,t)=>f(t,!e(t)),Zl=(r,t)=>t("disk"),Xl=(r,t)=>t("count"),$l=ae(`<div class="flex flex-col divide-y divide-gray-500 absolute w-36 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-1"><button class="w-full text-left px-3 py-2 hover:bg-gray-700 text-nowrap">By Disk Usage</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Total Files</button></div>`),eo=ae('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),to=ae('<div class="relative p-3 bg-gray-800 border border-gray-600 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),ro=ae('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),no=(r,t,n)=>t(e(n).path),io=ae('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),ao=ae('<div class="relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-600 rounded-lg overflow-hidden min-h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="flex flex-col gap-2 relative z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"><span> </span></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-xs text-gray-300"> </p></div></div></div>'),so=ae('<div class="flex"><span class="material-symbols-outlined text-4xl">subdirectory_arrow_right</span> <div class="flex grow relative px-2 py-1 bg-gray-700 border-gray-600 rounded overflow-hidden text-xs"><div class="flex flex-col w-full"><div class="absolute left-0 top-0 bottom-0 z-0 opacity-60"></div> <div class="relative z-10 flex items-center justify-between gap-1"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"> </div> <div class="flex items-center gap-4 text-sm font-semibold text-nowrap"> </div></div> <div class="relative z-10 flex justify-between text-gray-300"><div> </div> <div> </div></div></div></div></div>'),lo=ae('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"><!> <!></div>'),oo=ae('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-center"><div class="font-medium text-sm truncate max-w-[180px]"> </div></div> <div class="flex gap-2 items-center justify-between text-xs opacity-90"><div class="text-nowrap"> </div> <div> </div></div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),co=ae('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative"><button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_back_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_forward_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_upward</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">refresh</span></div></button> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div> <!></div> <div class="flex"><input placeholder="Path..." class="w-full truncate text-left"/></div> <div><div class="relative px-2 bg-gray-700 border border-gray-600 rounded overflow-hidden"><div class="absolute left-0 top-0 bottom-0 flex z-0" style="width: 100%"></div> <div class="relative z-10 pointer-events-none"><div class="flex items-center justify-end"><p class="text-xs"> </p></div></div></div></div> <!> <div class="grow"></div></div> <!>',1);function _o(r,t){Gn(t,!0);function n(h,k,S){const H="width:16px;height:16px;border:1px solid white;border-radius:3px;flex:none;",W=kt[0],A=kt[1],Q=kt[2],$=kt[3],ee=h.user==="All Users"?`background: linear-gradient(90deg, ${W} 0%, ${A} 33%, ${Q} 66%, ${$} 100%);`:`background: ${h.color};`;return`<div class="flex gap-2 items-center">
                <div class="border border-gray-400 rounded"
                  style="${H}${ee}"></div>
                <div>${h.user}</div>              
              </div>`}yl("color",n);function i(h){h.forEach((k,S)=>{y.has(k)||y.set(k,kt[S%kt.length])}),f(Y,Array.from(y.entries()).map(([k,S])=>({user:k,color:S})),!0)}function s(h){const k=y.get(h);if(k)return k;let S=0;for(let W=0;W<h.length;W++)S=S*31+h.charCodeAt(W)>>>0;const H=kt[S%kt.length];return y.set(h,H),H}let l=P(Re([])),o=P(Re([])),u=P(!1),d=P(Re(["/"])),v=P(0),_=P("disk"),g=P(!1),I=P("All Users"),T=P(Re([])),y=Re(new Map),Y=P(Re([])),B=P(void 0),F=P("/"),j=P(""),ce=P(!1);function ne(h){const k=U(h);f(j,k,!0),e(ce)?f(F,k,!0):f(F,J(k),!0)}function J(h,k=50){if(!h||h.length<=k)return h;const S=h.split("/");let H=S[S.length-1];for(let W=S.length-2;W>=0;W--){const A=S[W]+"/"+H;if(("..."+A).length>k)break;H=A}return"..."+H}function m(){f(ce,!0),e(j)&&f(F,e(j),!0)}function O(){f(ce,!1),e(F)&&!e(F).startsWith("...")&&f(j,e(F),!0),e(j)&&f(F,J(e(j)),!0)}function U(h){if(!h)return"/";let k=h.replace(/\\/g,"/");return k!=="/"&&(k=k.replace(/\/+$/,"")),k.startsWith("/")||(k="/"+k),k||"/"}let te=P(Re({show:!1,x:0,y:0})),Ee=P(null);const fe=8,R=10;function ve(h,k){const S=window.innerWidth,H=window.innerHeight,W=e(Ee)?.offsetWidth??200,A=e(Ee)?.offsetHeight??60,Q=W/2,$=fe+Q,ee=S-fe-Q,pe=fe+A+R,q=H-fe;return{x:Math.min(ee,Math.max($,h)),y:Math.min(q,Math.max(pe,k))}}function Te(h,k,S){const{x:H,y:W}=ve(h.clientX,h.clientY);f(te,{show:!0,x:H,y:W,username:k.username,value:er(k),percent:Math.round(S*10)/10},!0)}function We(){f(te,{show:!1,x:0,y:0},!0)}const L=h=>{const k=Number(h);return Number.isFinite(k)?k:0},Et=re(()=>{const h=e(_);return(e(l)?[...e(l)]:[]).sort((S,H)=>{let W,A;switch(h){case"disk":W=L(S?.total_disk),A=L(H?.total_disk);break;case"size":W=L(S?.total_size),A=L(H?.total_size);break;case"count":W=L(S?.total_count),A=L(H?.total_count);break}return A-W})});let Zt=re(()=>{const h=e(_),k=e(l)?.map(H=>{switch(h){case"disk":return L(H?.total_disk);case"size":return L(H?.total_size);case"count":return L(H?.total_count)}})??[],S=Math.max(0,...k);return S>0?S:1});const Xt=h=>{const S=L(h)/e(Zt)*100,H=Math.max(0,Math.min(100,S));return Math.round(H*10)/10},kr=h=>{switch(e(_)){case"disk":return"Disk Usage";case"count":return"Total Files"}},Ae=h=>{switch(e(_)){case"disk":return L(h?.total_disk);case"count":return L(h?.total_count)}};function $t(h){switch(e(_)){case"disk":return Rt(L(h?.total_disk));case"count":return L(h?.total_count).toLocaleString()}}function er(h){switch(e(_)){case"disk":return Rt(L(h?.disk));case"count":return L(h?.count).toLocaleString()}}const tr=h=>e(_)==="disk"?Number(h.disk):Number(h.count);function Ke(h){return Object.entries(h?.users??{}).sort(([,k],[,S])=>tr(k)-tr(S))}function Yr(h,k){let S=0,H=0,W=0,A="";const Q={};for(const $ of h??[]){S+=L($?.total_count),H+=L($?.total_size),W+=L($?.total_disk),typeof $?.modified=="string"&&$.modified&&(!A||$.modified>A)&&(A=$.modified);const ee=$?.users??{};for(const[pe,q]of Object.entries(ee)){const C=String(pe),V=Q[C]??{username:q?.username||C,count:0,size:0,disk:0};Q[C]={username:V.username,count:V.count+L(q?.count),size:V.size+L(q?.size),disk:V.disk+L(q?.disk)}}}return{path:k,total_count:S,total_size:H,total_disk:W,modified:A,users:Q}}const he=re(()=>Yr(e(l),e(F)));function jt(h){switch(e(_)){case"disk":return L(h.size);case"count":return 1}}const Ye=re(()=>(e(o)?[...e(o)]:[]).sort((k,S)=>jt(S)-jt(k))),Qr=re(()=>{const h=e(o)?.map(S=>jt(S))??[],k=Math.max(0,...h);return k>0?k:1}),Jr=h=>Math.round(jt(h)/e(Qr)*1e3)/10;function Zr(h){switch(e(_)){case"disk":return Rt(L(h.size));case"count":return"1"}}function Xr(h){let k=!1,S=null;return async(...H)=>{if(S=H,!k){k=!0;try{for(;S;){const W=S;S=null,await h(...W)}}finally{k=!1}}}}const _e=Xr(async h=>{f(u,!0);try{const k=e(I)==="All Users"?[]:[e(I)];f(l,await Cn.getFolders(h,k),!0),f(o,await Cn.getFiles(h,k),!0),e(T)&&e(T).length>0&&i(e(T))}finally{f(u,!1)}});function rr(h){e(d)[e(v)]!==h&&(f(d,e(d).slice(0,e(v)+1),!0),e(d).push(h),f(v,e(d).length-1))}function Er(h){f(_,h,!0),f(g,!1)}function Le(h){ne(h),rr(e(j)||e(F)),_e(e(j)||e(F))}function Be(){_e(e(j)||e(F))}function $r(){e(I)||f(I,"All Users"),Be()}Wn(async()=>{console.log("api url:",ea),f(T,await Cn.getUsers(),!0),e(T).splice(0,0,"All Users"),f(I,"All Users"),i(e(T)),f(j,e(F),!0),f(F,J(e(F)),!0),await Be()});var Ar=co(),nr=Ce(Ar),ir=x(nr),ar=x(ir);ar.__click=[Kl,v,ne,d,_e];var Ut=G(ar,2);Ut.__click=[Yl,v,d,ne,_e];var sr=G(Ut,2);sr.__click=[Vl,j,F,Le];var lr=G(sr,2);lr.__click=Be;var or=G(lr,2),At=x(or);At.__click=[Jl,g];var Sr=x(At),en=G(x(Sr));b(Sr),b(At);var tn=G(At,2);{var rn=h=>{var k=$l(),S=x(k);S.__click=[Zl,Er];var H=G(S,2);H.__click=[Xl,Er],b(k),z(h,k)};me(tn,h=>{e(g)&&h(rn)})}b(or);var Ir=G(or,2);ql(Ir,{get options(){return e(Y)},valueField:"user",renderer:"color",onChange:$r,class:"z-20 min-w-20 h-10 border rounded border-gray-600 bg-gray-800 text-white",get value(){return e(I)},set value(h){f(I,h,!0)}}),b(ir);var Wt=G(ir,2),tt=x(Wt);Qi(tt),tt.__keydown=[Ql,Le,j,F],_t(tt,h=>f(B,h),()=>e(B)),b(Wt);var cr=G(Wt,2),Gt=x(cr),St=x(Gt);gt(St,21,()=>Ke(e(he)),([h,k])=>h,(h,k)=>{var S=re(()=>gi(e(k),2));let H=()=>e(S)[0],W=()=>e(S)[1];const A=re(()=>e(_)==="disk"?W().disk:e(_)==="size"?W().size:W().count),Q=re(()=>e(_)==="disk"?e(he).total_disk:e(_)==="size"?e(he).total_size:e(he).total_count),$=re(()=>e(Q)>0?e(A)/e(Q)*100:0);var ee=eo();ee.__mousemove=[Di,te,ve],de((pe,q)=>{Nt(ee,`width: ${e($)??""}%; background-color: ${pe??""};`),De(ee,"aria-label",q)},[()=>s(H()),()=>`${W().username}: ${er(W())}`]),et("mouseenter",ee,pe=>Te(pe,W(),e($))),et("mouseleave",ee,We),z(h,ee)}),b(St);var Fr=G(St,2),Cr=x(Fr),qt=x(Cr),nn=x(qt);b(qt),b(Cr),b(Fr),b(Gt),b(cr);var an=G(cr,2);{var sn=h=>{var k=Ue(),S=Ce(k);{var H=A=>{var Q=ro();gt(Q,20,()=>Array(6),yr,($,ee)=>{var pe=to();z($,pe)}),b(Q),z(A,Q)},W=A=>{var Q=lo(),$=x(Q);gt($,17,()=>e(Et),yr,(pe,q)=>{var C=ao();C.__click=[no,Le,q];var V=x(C);gt(V,21,()=>Ke(e(q)),yr,(D,it)=>{var N=re(()=>gi(e(it),2));let Fe=()=>e(N)[0],Me=()=>e(N)[1];const dr=re(()=>e(_)==="disk"?Me().disk:Me().count),bt=re(()=>e(_)==="disk"?e(q).total_disk:e(q).total_count),Ge=re(()=>e(bt)>0?e(dr)/e(bt)*100:0);var Qe=io();Qe.__mousemove=[Di,te,ve],de((It,Vt)=>{Nt(Qe,`width: ${e(Ge)??""}%; background-color: ${It??""};`),De(Qe,"aria-label",Vt)},[()=>s(Fe()),()=>`${Me().username}: ${er(Me())}`]),et("mouseenter",Qe,It=>Te(It,Me(),e(Ge))),et("mouseleave",Qe,We),z(D,Qe)}),b(V);var ze=G(V,2),Ne=x(ze),Pe=x(Ne),rt=x(Pe),ge=x(rt,!0);b(rt),b(Pe);var nt=G(Pe,2),Z=x(nt,!0);b(nt),b(Ne);var ot=G(Ne,2),ct=x(ot),pt=x(ct);b(ct),b(ot),b(ze),b(C),de((D,it,N,Fe)=>{Nt(V,`width: ${D??""}%`),ye(ge,e(q).path),ye(Z,it),ye(pt,`${e(q).total_count??""} Files 
                â€¢ Last Modified: ${e(q).modified||"â€”"} 
                â€¢ ${N??""} 
                  (${Fe??""} on disk)`)},[()=>Xt(Ae(e(q))),()=>$t(e(q)),()=>Rt(e(q).total_size),()=>Rt(e(q).total_disk)]),z(pe,C)});var ee=G($,2);gt(ee,17,()=>e(Ye),yr,(pe,q)=>{const C=re(()=>s(e(q).owner));var V=so(),ze=G(x(V),2),Ne=x(ze),Pe=x(Ne),rt=G(Pe,2),ge=x(rt),nt=x(ge,!0);b(ge);var Z=G(ge,2),ot=x(Z,!0);b(Z),b(rt);var ct=G(rt,2),pt=x(ct),D=x(pt,!0);b(pt);var it=G(pt,2),N=x(it);b(it),b(ct),b(Ne),b(ze),b(V),de((Fe,Me)=>{Nt(Pe,`width: ${Fe??""}%; background-color: ${e(C)??""};`),ye(nt,e(q).path),ye(ot,Me),ye(D,e(q).owner),ye(N,`Last Modified: ${e(q).modified??""}`)},[()=>Jr(e(q)),()=>Zr(e(q))]),z(pe,V)}),b(Q),z(A,Q)};me(S,A=>{e(u)?A(H):A(W,!1)},!0)}z(h,k)};me(an,h=>{h(sn,!1)})}Rn(2),b(nr);var ln=G(nr,2);{var ur=h=>{var k=oo(),S=x(k),H=x(S),W=x(H),A=x(W,!0);b(W),b(H);var Q=G(H,2),$=x(Q),ee=x($,!0);b($);var pe=G($,2),q=x(pe);b(pe),b(Q),Rn(2),b(S),_t(S,C=>f(Ee,C),()=>e(Ee)),b(k),de(()=>{Nt(k,`
      left: ${e(te).x??""}px;
      top: ${e(te).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));
    `),ye(A,e(te).username),ye(ee,e(te).value),ye(q,`${e(te).percent??""}%`)}),z(h,k)};me(ln,h=>{e(te).show&&h(ur)})}de((h,k,S,H)=>{ar.disabled=e(v)===0,Ut.disabled=e(v)>=e(d).length-1,sr.disabled=h,ye(en,` ${k??""}`),tt.disabled=e(u),ye(nn,`${e(he).total_count??""} Files 
            â€¢ Last Modified: ${e(he).modified||"â€”"} 
            â€¢ ${S??""} (${H??""} on disk)`)},[()=>$i(e(F))===e(F),()=>kr(e(_)),()=>Rt(e(he).total_size),()=>Rt(e(he).total_disk)]),et("blur",tt,O),et("focus",tt,m),Xi(tt,()=>e(F),h=>f(F,h)),z(r,Ar),qn()}Oi(["click","keydown","mousemove"]);export{_o as component};
