import"../chunks/DsnmJJEf.js";import{o as Gn,a as za,d as Oi,e as pt,s as be}from"../chunks/BJVHLwmR.js";import{Y as Ti,aC as Bi,aD as Pa,l as Ri,d as Ha,j as Wr,h as Te,$ as pr,e as Tn,A as e,C as ja,g as Ua,H as Ga,i as fi,k as bn,t as zt,a0 as Li,a4 as Wa,m as Bn,o as qa,n as Yt,aE as vi,ax as Va,aF as hi,a8 as Ni,aG as Yr,p as zi,q as Ka,aH as Qr,aI as Ya,aJ as yn,aK as Pi,a2 as Hi,aL as Qa,a7 as Ja,aM as Za,I as ji,x as Ui,aN as Gi,aO as Xa,aw as fe,aP as $a,a5 as es,a3 as ts,ac as _i,aQ as rs,u as ns,w as Wi,v as qi,at as is,aR as as,aS as ss,aT as ls,aU as os,aV as cs,aW as us,aX as ds,aY as Se,aZ as fs,ap as Xe,a_ as vs,D as Ne,aa as Wn,ay as P,af as mt,f as ee,c as x,s as at,r as b,a as L,aA as Z,F as v,ad as qn,b as U,a$ as Vi,az as qe,av as De,b0 as Rn,b1 as gi}from"../chunks/svf7RUyD.js";import{p as y,b as It,i as _e}from"../chunks/DFK_xX9T.js";const hs=[];function wn(r,t=!1,n=!1){return qr(r,new Map,"",hs,null,n)}function qr(r,t,n,i,s=null,l=!1){if(typeof r=="object"&&r!==null){var o=t.get(r);if(o!==void 0)return o;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(Ti(r)){var u=Array(r.length);t.set(r,u),s!==null&&t.set(s,u);for(var d=0;d<r.length;d+=1){var f=r[d];d in r&&(u[d]=qr(f,t,n,i,null,l))}return u}if(Bi(r)===Pa){u={},t.set(r,u),s!==null&&t.set(s,u);for(var g in r)u[g]=qr(r[g],t,n,i,null,l);return u}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function"&&!l)return qr(r.toJSON(),t,n,i,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}let Vr=null;function br(r,t){return t}function _s(r,t,n){for(var i=r.items,s=[],l=t.length,o=0;o<l;o++)Qa(t[o].e,s,!0);var u=l>0&&s.length===0&&n!==null;if(u){var d=n.parentNode;Ja(d),d.append(n),i.clear(),ut(r,t[0].prev,t[l-1].next)}Za(s,()=>{for(var f=0;f<l;f++){var g=t[f];u||(i.delete(g.k),ut(r,g.prev,g.next)),Pi(g.e,!u)}})}function bt(r,t,n,i,s,l=null){var o=r,u={flags:t,items:new Map,first:null},d=(t&Gi)!==0;if(d){var f=r;o=Te?Wr(pr(f)):f.appendChild(Ri())}Te&&Tn();var g=null,h=!1,A=new Map,O=ja(()=>{var H=n();return Ti(H)?H:H==null?[]:Ni(H)}),w,q;function F(){gs(q,w,u,A,o,s,t,i,n),l!==null&&(w.length===0?g?zi(g):g=Bn(()=>l(o)):g!==null&&Ka(g,()=>{g=null}))}Ha(()=>{q??=ji,w=e(O);var H=w.length;if(h&&H===0)return;h=H===0;let j=!1;if(Te){var le=Ua(o)===Ga;le!==(H===0)&&(o=fi(),Wr(o),bn(!1),j=!0)}if(Te){for(var X=null,Y,m=0;m<H;m++){if(zt.nodeType===Li&&zt.data===Wa){o=zt,j=!0,bn(!1);break}var C=w[m],N=i(C,m);Y=Ln(zt,u,X,null,C,N,m,s,t,n),u.items.set(N,Y),X=Y}H>0&&Wr(fi())}if(Te)H===0&&l&&(g=Bn(()=>l(o)));else if(qa()){var R=new Set,Be=Yt;for(m=0;m<H;m+=1){C=w[m],N=i(C,m);var ye=u.items.get(N)??A.get(N);ye?(t&(Qr|Yr))!==0&&Ki(ye,C,m,t):(Y=Ln(null,u,null,null,C,N,m,s,t,n,!0),A.set(N,Y)),R.add(N)}for(const[T,we]of u.items)R.has(T)||Be.skipped_effects.add(we.e);Be.add_callback(F)}else F();j&&bn(!0),e(O)}),Te&&(o=zt)}function gs(r,t,n,i,s,l,o,u,d){var f=(o&Xa)!==0,g=(o&(Qr|Yr))!==0,h=t.length,A=n.items,O=n.first,w=O,q,F=null,H,j=[],le=[],X,Y,m,C;if(f)for(C=0;C<h;C+=1)X=t[C],Y=u(X,C),m=A.get(Y),m!==void 0&&(m.a?.measure(),(H??=new Set).add(m));for(C=0;C<h;C+=1){if(X=t[C],Y=u(X,C),m=A.get(Y),m===void 0){var N=i.get(Y);if(N!==void 0){i.delete(Y),A.set(Y,N);var R=F?F.next:w;ut(n,F,N),ut(n,N,R),xn(N,R,s),F=N}else{var Be=w?w.e.nodes_start:s;F=Ln(Be,n,F,F===null?n.first:F.next,X,Y,C,l,o,d)}A.set(Y,F),j=[],le=[],w=F.next;continue}if(g&&Ki(m,X,C,o),(m.e.f&yn)!==0&&(zi(m.e),f&&(m.a?.unfix(),(H??=new Set).delete(m))),m!==w){if(q!==void 0&&q.has(m)){if(j.length<le.length){var ye=le[0],T;F=ye.prev;var we=j[0],ze=j[j.length-1];for(T=0;T<j.length;T+=1)xn(j[T],ye,s);for(T=0;T<le.length;T+=1)q.delete(le[T]);ut(n,we.prev,ze.next),ut(n,F,we),ut(n,ze,ye),w=ye,F=ze,C-=1,j=[],le=[]}else q.delete(m),xn(m,w,s),ut(n,m.prev,m.next),ut(n,m,F===null?n.first:F.next),ut(n,F,m),F=m;continue}for(j=[],le=[];w!==null&&w.k!==Y;)(w.e.f&yn)===0&&(q??=new Set).add(w),le.push(w),w=w.next;if(w===null)continue;m=w}j.push(m),F=m,w=m.next}if(w!==null||q!==void 0){for(var $e=q===void 0?[]:Ni(q);w!==null;)(w.e.f&yn)===0&&$e.push(w),w=w.next;var ue=$e.length;if(ue>0){var wt=(o&Gi)!==0&&h===0?s:null;if(f){for(C=0;C<ue;C+=1)$e[C].a?.measure();for(C=0;C<ue;C+=1)$e[C].a?.fix()}_s(n,$e,wt)}}f&&Ui(()=>{if(H!==void 0)for(m of H)m.a?.apply()}),r.first=n.first&&n.first.e,r.last=F&&F.e;for(var Gt of i.values())Pi(Gt.e);i.clear()}function Ki(r,t,n,i){(i&Qr)!==0&&vi(r.v,t),(i&Yr)!==0?vi(r.i,n):r.i=n}function Ln(r,t,n,i,s,l,o,u,d,f,g){var h=Vr,A=(d&Qr)!==0,O=(d&Ya)===0,w=A?O?Va(s,!1,!1):hi(s):s,q=(d&Yr)===0?o:hi(o),F={i:q,v:w,k:l,a:null,e:null,prev:n,next:i};Vr=F;try{if(r===null){var H=document.createDocumentFragment();H.append(r=Ri())}return F.e=Bn(()=>u(r,w,q,f),Te),F.e.prev=n&&n.e,F.e.next=i&&i.e,n===null?g||(t.first=F):(n.next=F,n.e.next=F.e),i!==null&&(i.prev=F,i.e.prev=F.e),F}finally{Vr=h}}function xn(r,t,n){for(var i=r.next?r.next.e.nodes_start:n,s=t?t.e.nodes_start:n,l=r.e.nodes_start;l!==null&&l!==i;){var o=Hi(l);s.before(l),l=o}}function ut(r,t,n){t===null?r.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mi(r,t,n=!1,i=!1,s=!1){var l=r,o="";fe(()=>{var u=ji;if(o===(o=t()??"")){Te&&Tn();return}if(u.nodes_start!==null&&($a(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),o!==""){if(Te){zt.data;for(var d=Tn(),f=d;d!==null&&(d.nodeType!==Li||d.data!=="");)f=d,d=Hi(d);if(d===null)throw es(),ts;_i(zt,f),l=Wr(d);return}var g=o+"";n?g=`<svg>${g}</svg>`:i&&(g=`<math>${g}</math>`);var h=rs(g);if((n||i)&&(h=pr(h)),_i(pr(h),h.lastChild),n||i)for(;pr(h);)l.before(pr(h));else l.before(h)}})}function kn(r,t,n){ns(()=>{var i=Wi(()=>t(r,n?.())||{});if(n&&i?.update){var s=!1,l={};qi(()=>{var o=n();is(o),s&&as(l,o)&&(l=o,i.update(o))}),s=!0}if(i?.destroy)return()=>i.destroy()})}function Yi(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=Yi(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ms(){for(var r,t,n=0,i="",s=arguments.length;n<s;n++)(r=arguments[n])&&(t=Yi(r))&&(i&&(i+=" "),i+=t);return i}function ps(r){return typeof r=="object"?ms(r):r??""}const pi=[...` 	
\r\fÂ \v\uFEFF`];function bs(r,t,n){var i=r==null?"":""+r;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var l=s.length,o=0;(o=i.indexOf(s,o))>=0;){var u=o+l;(o===0||pi.includes(i[o-1]))&&(u===i.length||pi.includes(i[u]))?i=(o===0?"":i.substring(0,o))+i.substring(u+1):o=u}}return i===""?null:i}function ys(r,t){return r==null?null:String(r)}function Ae(r,t,n,i,s,l){var o=r.__className;if(Te||o!==n||o===void 0){var u=bs(n,i,l);(!Te||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):r.className=u),r.__className=n}else if(l&&s!==l)for(var d in l){var f=!!l[d];(s==null||f!==!!s[d])&&r.classList.toggle(d,f)}return l}function Pt(r,t,n,i){var s=r.__style;if(Te||s!==t){var l=ys(t);(!Te||l!==r.getAttribute("style"))&&(l==null?r.removeAttribute("style"):r.style.cssText=l),r.__style=t}return i}const ws=Symbol("is custom element"),xs=Symbol("is html");function Qi(r){if(Te){var t=!1,n=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var i=r.value;Oe(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;Oe(r,"checked",null),r.checked=s}}};r.__on_r=n,cs(n),us()}}function Oe(r,t,n,i){var s=ks(r);Te&&(s[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(r[ss]=n),n==null?r.removeAttribute(t):typeof n!="string"&&Es(r).includes(t)?r[t]=n:r.setAttribute(t,n))}function ks(r){return r.__attributes??={[ws]:r.nodeName.includes("-"),[xs]:r.namespaceURI===ls}}var bi=new Map;function Es(r){var t=r.getAttribute("is")||r.nodeName,n=bi.get(t);if(n)return n;bi.set(t,n=[]);for(var i,s=r,l=Element.prototype;l!==s;){i=os(s);for(var o in i)i[o].set&&n.push(o);s=Bi(s)}return n}const As=()=>performance.now(),yt={tick:r=>requestAnimationFrame(r),now:()=>As(),tasks:new Set};function Ji(){const r=yt.now();yt.tasks.forEach(t=>{t.c(r)||(yt.tasks.delete(t),t.f())}),yt.tasks.size!==0&&yt.tick(Ji)}function Ss(r){let t;return yt.tasks.size===0&&yt.tick(Ji),{promise:new Promise(n=>{yt.tasks.add(t={c:r,f:n})}),abort(){yt.tasks.delete(t)}}}function Is(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function yi(r){const t={},n=r.split(";");for(const i of n){const[s,l]=i.split(":");if(!s||l===void 0)break;const o=Is(s.trim());t[o]=l.trim()}return t}const Cs=r=>r;function Fs(r,t,n){var i=Vr,s,l,o,u=null;i.a??={element:r,measure(){s=this.element.getBoundingClientRect()},apply(){if(o?.abort(),l=this.element.getBoundingClientRect(),s.left!==l.left||s.right!==l.right||s.top!==l.top||s.bottom!==l.bottom){const d=t()(this.element,{from:s,to:l},n?.());o=Zi(this.element,d,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!r.getAnimations().length){var{position:d,width:f,height:g}=getComputedStyle(r);if(d!=="absolute"&&d!=="fixed"){var h=r.style;u={position:h.position,width:h.width,height:h.height,transform:h.transform},h.position="absolute",h.width=f,h.height=g;var A=r.getBoundingClientRect();if(s.left!==A.left||s.top!==A.top){var O=`translate(${s.left-A.left}px, ${s.top-A.top}px)`;h.transform=h.transform?`${h.transform} ${O}`:O}}}},unfix(){if(u){var d=r.style;d.position=u.position,d.width=u.width,d.height=u.height,d.transform=u.transform}}},i.a.element=r}function Zi(r,t,n,i,s){if(ds(t)){var l,o=!1;return Ui(()=>{if(!o){var q=t({direction:"in"});l=Zi(r,q,n,i,s)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!t?.duration)return s(),{abort:Se,deactivate:Se,reset:Se,t:()=>i};const{delay:u=0,css:d,tick:f,easing:g=Cs}=t;var h=[];if(f&&f(0,1),d){var A=yi(d(0,1));h.push(A,A)}var O=()=>1-i,w=r.animate(h,{duration:u,fill:"forwards"});return w.onfinish=()=>{w.cancel();var q=1-i,F=i-q,H=t.duration*Math.abs(F),j=[];if(H>0){var le=!1;if(d)for(var X=Math.ceil(H/16.666666666666668),Y=0;Y<=X;Y+=1){var m=q+F*g(Y/X),C=yi(d(m,1-m));j.push(C),le||=C.overflow==="hidden"}le&&(r.style.overflow="hidden"),O=()=>{var N=w.currentTime;return q+F*g(N/H)},f&&Ss(()=>{if(w.playState!=="running")return!1;var N=O();return f(N,1-N),!0})}w=r.animate(j,{duration:H,fill:"forwards"}),w.onfinish=()=>{O=()=>i,f?.(i,1-i),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=Se)},deactivate:()=>{s=Se},reset:()=>{},t:()=>O()}}function Xi(r,t,n=t){var i=new WeakSet;fs(r,"input",async s=>{var l=s?r.defaultValue:r.value;if(l=En(r)?An(l):l,n(l),Yt!==null&&i.add(Yt),await Xe(),l!==(l=t())){var o=r.selectionStart,u=r.selectionEnd;r.value=l??"",u!==null&&(r.selectionStart=o,r.selectionEnd=Math.min(u,r.value.length))}}),(Te&&r.defaultValue!==r.value||Wi(t)==null&&r.value)&&(n(En(r)?An(r.value):r.value),Yt!==null&&i.add(Yt)),qi(()=>{var s=t();if(r===document.activeElement){var l=vs??Yt;if(i.has(l))return}En(r)&&s===An(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function En(r){var t=r.type;return t==="number"||t==="range"}function An(r){return r===""?null:+r}function Nt(r,t=1){if(!+r)return"0 B";const n=1e3,i=t<0?0:t,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(r)/Math.log(n));return`${parseFloat((r/Math.pow(n,l)).toFixed(i))} ${s[l]}`}function $i(r){if(!r||typeof r!="string")return".";let t=r.trim();t=t.replace(/\\/g,"/");const n=/^[a-zA-Z]:/.test(t);if(n){if(/^[a-zA-Z]:$/.test(t)&&(t+="/"),/^[a-zA-Z]:\/$/.test(t))return t.replace(/\//g,"\\")}else if(t==="/")return"/";t=t.replace(/\/+$/,"");const i=t.split("/");if(i.length<=1)return".";i.pop();let s=i.join("/");return n&&/^[a-zA-Z]:$/.test(s)&&(s+="/"),s?(n&&(s=s.replace(/\//g,"\\")),s):n?"C:\\":"/"}const St=["#3B82F6","#22C55E","#EAB308","#F43F5E","#F59E0B","#0EA5E9","#10B981","#A855F7","#6366F1","#06B6D4","#84CC16","#EF4444","#F97316","#14B8A6","#8B5CF6","#7C3AED","#4F46E5","#0891B2","#16A34A","#A3E635","#BE123C","#EA580C","#0D9488","#9333EA","#6D28D9","#4338CA","#155E75","#166534","#65A30D","#9F1239","#C2410C","#0F766E","#7E22CE","#5B21B6","#3730A3","#0E7490","#15803D","#4D7C0F","#881337","#9A3412","#115E59","#6B21A8","#4C1D95","#1E40AF","#1D4ED8","#2563EB","#1F2937","#10A37F","#D97706","#22D3EE","#059669","#D946EF","#F43F3F","#E11D48","#FB7185","#111827"],ea="/api",Ms={username:"",token:"",profile:{}},wi=localStorage.getItem("state"),Sn=wi?JSON.parse(wi):Ms,Ds=Ne({username:Sn.username,token:Sn.token,profile:Sn.profile,searchText:"",currentWellbore:{wellbore:"WELLBORE"},currentWellId:"",wellboreList:[],currentWorkflowId:"",currentWorkflow:{},currentWell:{},wellboresRightPanel:"map",wellboresMainPanelVisibility:!0,wellboresRightPanelVisibility:!0,wellboresRightPanelExpanded:!1,wellboreItemRightPanel:"list",wellboreItemMainPanelVisibility:!0,wellboreItemRightPanelVisibility:!0,wellboreItemRightPanelExpanded:!1,workflowMainPanelVisibility:!0,nodePropertiesVisibility:!1,workflowNavigation:["Workflows"],isEngineer(){return this.profile.role==="AP_ENGINEER"||this.profile.role==="AP_ADMIN"},isAdmin(){return this.profile.role==="AP_ADMIN"}}),Nn=(r,t)=>t.some(n=>r instanceof n);let xi,ki;function Os(){return xi||(xi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ts(){return ki||(ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zn=new WeakMap,In=new WeakMap,Jr=new WeakMap;function Bs(r){const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",o)},l=()=>{n(jt(r.result)),s()},o=()=>{i(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",o)});return Jr.set(t,r),t}function Rs(r){if(zn.has(r))return;const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",o),r.removeEventListener("abort",o)},l=()=>{n(),s()},o=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",o),r.addEventListener("abort",o)});zn.set(r,t)}let Pn={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return zn.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ta(r){Pn=r(Pn)}function Ls(r){return Ts().includes(r)?function(...t){return r.apply(Hn(this),t),jt(this.request)}:function(...t){return jt(r.apply(Hn(this),t))}}function Ns(r){return typeof r=="function"?Ls(r):(r instanceof IDBTransaction&&Rs(r),Nn(r,Os())?new Proxy(r,Pn):r)}function jt(r){if(r instanceof IDBRequest)return Bs(r);if(In.has(r))return In.get(r);const t=Ns(r);return t!==r&&(In.set(r,t),Jr.set(t,r)),t}const Hn=r=>Jr.get(r);function zs(r,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const o=indexedDB.open(r,t),u=jt(o);return i&&o.addEventListener("upgradeneeded",d=>{i(jt(o.result),d.oldVersion,d.newVersion,jt(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Ps=["get","getKey","getAll","getAllKeys","count"],Hs=["put","add","delete","clear"],Cn=new Map;function Ei(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cn.get(t))return Cn.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Hs.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Ps.includes(n)))return;const l=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return Cn.set(t,l),l}ta(r=>({...r,get:(t,n,i)=>Ei(t,n)||r.get(t,n,i),has:(t,n)=>!!Ei(t,n)||r.has(t,n)}));const js=["continue","continuePrimaryKey","advance"],Ai={},jn=new WeakMap,ra=new WeakMap,Us={get(r,t){if(!js.includes(t))return r[t];let n=Ai[t];return n||(n=Ai[t]=function(...i){jn.set(this,ra.get(this)[t](...i))}),n}};async function*Gs(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const n=new Proxy(t,Us);for(ra.set(n,t),Jr.set(n,Hn(t));t;)yield n,t=await(jn.get(n)||t.continue()),jn.delete(n)}function Si(r,t){return t===Symbol.asyncIterator&&Nn(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Nn(r,[IDBIndex,IDBObjectStore])}ta(r=>({...r,get(t,n,i){return Si(t,n)?Gs:r.get(t,n,i)},has(t,n){return Si(t,n)||r.has(t,n)}}));const Ws="ApCacheDB",wr="ap",qs=2,Vs=60*1e3;async function na(){return zs(Ws,qs,{upgrade(r){r.objectStoreNames.contains(wr)||r.createObjectStore(wr)}})}async function Ks(r,t){await(await na()).put(wr,{data:t,timestamp:Date.now()},r)}async function Ys(r){const t=await na(),n=await t.get(wr,r);return n?Date.now()-n.timestamp>Vs?(await t.delete(wr,r),null):n.data:null}class Qs{baseUrl=`${ea}/`;error="";async request(t="",n="GET",i,s){try{this.error="";const l={method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ds.token}`}};if(i&&(l.body=JSON.stringify(i)),s){let f=await Ys(t);if(f)return f}const o=`${this.baseUrl}${t}`;console.log("fetching url:",o);const u=await fetch(o,l),d=await u.json();return u.ok?(await Ks(t,d),d):(u.status===401&&console.log("authentication failed."),this.error=d.detail||"Unknown API error",console.log(`API Error: ${this.error}`),null)}catch(l){return console.log("Fetch error:",l),this.error="API: Error in fetching data.",null}finally{}}async getUsers(){return await this.request("users","GET",void 0,!0)}async getFolders(t,n){let i=n.join(",");return await this.request(`folders?path=${t}&users=${i}`,"GET",void 0,!0)}async getFiles(t,n){let i=n.join(",");return await this.request(`files?path=${t}&users=${i}`,"GET",void 0,!0)}}const Fn=new Qs,K={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:void 0,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:void 0,i18n:{aria_label:"",aria_describedby:"",aria_selected:r=>r.length?`Option${r.length>1?"s":""} ${r.join(", ")} selected.`:"",aria_listActive:(r,t,n)=>`You are currently focused on option ${r[t]}. ${n} result${n>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",aria_removeItemLabel:(r,t)=>"Remove item",empty:"No options",nomatch:"No matching options",max:r=>`Maximum items ${r} selected`,fetchBefore:"Type to start searching",fetchQuery:(r,t)=>`Type at least ${r} character${r>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:r=>`${r} selected`,createRowLabel:r=>`Add '${r}'`,emptyCreatable:"Add new by typing"},requestFactory:void 0};function Js(r,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{r.apply(this,i)},t)}}function Zs(r,{url:t,parentValue:n,initial:i},s){n&&(t=t.replace("[parent]",encodeURIComponent(n))),r&&(t=t.replace("[query]",encodeURIComponent(r))),Array.isArray(i)&&i.length===0&&(i=null),i&&(t=t.replace("[query]","init"));const l=t[0]==="/"?new URL(t,window.location.origin):new URL(t);if(i){const d=Array.isArray(i)?i:[i];l.searchParams.append("init",d.join(","))}const o=new AbortController,u=Object.assign({},s,{signal:o.signal});return{request:new Request(l,u),controller:o}}var Ut=function(r,t){this.items=r,this.settings=t||{diacritics:!0}};Ut.prototype.tokenize=function(r,t,n){if(r=$s(String(r||"").toLowerCase()),!r||!r.length)return[];var i,s,l,o,u=[],d=r.split(/ +/);for(i=0,s=d.length;i<s;i++){if(l=el(d[i]),this.settings.diacritics)for(o in Ht)Ht.hasOwnProperty(o)&&(l=l.replace(new RegExp(o,"g"),Ht[o]));t?l="\\b"+l:n&&(l="\\b^"+l),u.push({string:d[i],regex:new RegExp(l,"i")})}return u};Ut.prototype.iterator=function(r,t){var n;Array.isArray(r)?n=Array.prototype.forEach||function(i){for(var s=0,l=this.length;s<l;s++)i(this[s],s,this)}:n=function(i){for(var s in this)this.hasOwnProperty(s)&&i(this[s],s,this)},n.apply(r,[t])};Ut.prototype.getScoreFunction=function(r,t){var n,i,s,l,o;n=this,r=n.prepareSearch(r,t),s=r.tokens,i=r.options.fields,l=s.length,o=r.options.nesting;var u=function(f,g){var h,A;return!f||(f=String(f||""),A=f.search(g.regex),A===-1)?0:(h=g.string.length/f.length,A===0&&(h+=.5),h)},d=(function(){var f=i.length;return f?f===1?function(g,h){return u(Un(h,i[0],o),g)}:function(g,h){for(var A=0,O=0;A<f;A++)O+=u(Un(h,i[A],o),g);return O/f}:function(){return 0}})();return l?l===1?function(f){return d(s[0],f)}:r.options.conjunction==="and"?function(f){for(var g,h=0,A=0;h<l;h++){if(g=d(s[h],f),g<=0)return 0;A+=g}return A/l}:function(f){for(var g=0,h=0;g<l;g++)h+=d(s[g],f);return h/l}:function(){return 0}};Ut.prototype.getSortFunction=function(r,t){var n,i,s,l,o,u,d,f,g,h,A;if(s=this,r=s.prepareSearch(r,t),A=!r.query&&t.sort_empty||t.sort,g=function(O,w){return O==="$score"?w.score:Un(s.items[w.id],O,t.nesting)},o=[],A)for(n=0,i=A.length;n<i;n++)(r.query||A[n].field!=="$score")&&o.push(A[n]);if(r.query){for(h=!0,n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){h=!1;break}h&&o.unshift({field:"$score",direction:"desc"})}else for(n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){o.splice(n,1);break}for(f=[],n=0,i=o.length;n<i;n++)f.push(o[n].direction==="desc"?-1:1);return u=o.length,u?u===1?(l=o[0].field,d=f[0],function(O,w){return d*Ii(g(l,O),g(l,w))}):function(O,w){var q,F,H;for(q=0;q<u;q++)if(H=o[q].field,F=f[q]*Ii(g(H,O),g(H,w)),F)return F;return 0}:null};Ut.prototype.prepareSearch=function(r,t){if(typeof r=="object")return r;t=Xs({},t);var n=t.fields,i=t.sort,s=t.sort_empty;return n&&!Array.isArray(n)&&(t.fields=[n]),i&&!Array.isArray(i)&&(t.sort=[i]),s&&!Array.isArray(s)&&(t.sort_empty=[s]),{options:t,query:String(r||"").toLowerCase(),tokens:this.tokenize(r,t.wordsOnly,t.startOnly),total:0,items:[]}};Ut.prototype.search=function(r,t){var n=this,i,s,l,o;return s=this.prepareSearch(r,t),t=s.options,r=s.query,o=t.score||n.getScoreFunction(s),r.length?n.iterator(n.items,function(u,d){i=o(u),(t.filter===!1||i>0)&&s.items.push({score:i,id:d})}):n.iterator(n.items,function(u,d){s.items.push({score:1,id:d})}),l=n.getSortFunction(s,t),l&&s.items.sort(l),s.total=s.items.length,typeof t.limit=="number"&&(s.items=s.items.slice(0,t.limit)),s};var Ii=function(r,t){return typeof r=="number"&&typeof t=="number"?r>t?1:r<t?-1:0:(r=Kr(String(r||"")),t=Kr(String(t||"")),r>t?1:t>r?-1:0)},Xs=function(r,t){var n,i,s,l;for(n=1,i=arguments.length;n<i;n++)if(l=arguments[n],!!l)for(s in l)l.hasOwnProperty(s)&&(r[s]=l[s]);return r},Un=function(r,t,n){if(!(!r||!t)){if(!n)return r[t];for(var i=t.split(".");i.length&&(r=r[i.shift()]););return r}},$s=function(r){return(r+"").replace(/^\s+|\s+$|/g,"")},el=function(r){return(r+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Ht={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"};const Kr=(function(){var r,t,n,i,s="",l={};for(n in Ht)if(Ht.hasOwnProperty(n))for(i=Ht[n].substring(2,Ht[n].length-1),s+=i,r=0,t=i.length;r<t;r++)l[i.charAt(r)]=n;var o=new RegExp("["+s+"]","g");return function(u){return u.replace(o,function(d){return l[d]}).toLowerCase()}})();let mr;function tl(r,t,n,i,s){const l=i(r,t,n);if(n==""||r.isSelected||s)return l;mr||(mr=document.createElement("div")),mr.innerHTML=l;const o=Kr(n);return(o.includes("|")?o.split("|").map(u=>u.trim()):o.split(" ")).filter(u=>u).forEach(u=>{ia(mr,u)}),mr.innerHTML}function ia(r,t){let n=0;if(r.nodeType===3){const s=Kr(r.data);let l=s.indexOf(t);if(l-=s.substr(0,l).toUpperCase().length-s.substr(0,l).length,l>=0){const o=document.createElement("span");o.className="highlight";const u=r.splitText(l);u.splitText(t.length);const d=u.cloneNode(!0);o.appendChild(d),u.parentNode.replaceChild(o,u),n=1}}else if(r.nodeType===1&&r.childNodes&&!/(script|style)/i.test(r.tagName)&&(r.className!=="highlight"||r.tagName!=="SPAN"))for(var i=0;i<r.childNodes.length;++i)i+=ia(r.childNodes[i],t);return n}function rl(){return navigator.userAgent.toLowerCase().includes("android")}function Mn(r){return(r||"").replace(/\t/g," ").trim().split(" ").filter(t=>t).join(" ")}function nl(r){return`${r}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function il(r){const t=r-1;return t*t*t+1}function al(r,{from:t,to:n},i={}){var{delay:s=0,duration:l=m=>Math.sqrt(m)*120,easing:o=il}=i,u=getComputedStyle(r),d=u.transform==="none"?"":u.transform,[f,g]=u.transformOrigin.split(" ").map(parseFloat);f/=r.clientWidth,g/=r.clientHeight;var h=sl(r),A=r.clientWidth/n.width/h,O=r.clientHeight/n.height/h,w=t.left+t.width*f,q=t.top+t.height*g,F=n.left+n.width*f,H=n.top+n.height*g,j=(w-F)*A,le=(q-H)*O,X=t.width/n.width,Y=t.height/n.height;return{delay:s,duration:typeof l=="function"?l(Math.sqrt(j*j+le*le)):l,easing:o,css:(m,C)=>{var N=C*j,R=C*le,Be=m+C*X,ye=m+C*Y;return`transform: ${d} translate(${N}px, ${R}px) scale(${Be}, ${ye});`}}}function sl(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var t=r,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function Dn(r,t){const n=window.getComputedStyle(r);let{groups:{value:i,unit:s}}=n[t].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),l=parseFloat(i);if(s!=="px"){const o=s==="rem"?document.documentElement:r.parentElement.parentElement;l=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*l}return l}function ll(r){const t=r.parentElement.parentElement.getBoundingClientRect(),n=r.getBoundingClientRect(),i={};return i.top=t.top<0,i.left=t.left<0,i.bottom=t.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight)&&t.top>n.height&&(window.innerHeight||document.documentElement.clientHeight)>n.height+50,i.right=t.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function Ci(r,t,n){if(!t)return;const i=ll(t);i.bottom&&!i.top?t.parentElement.style.bottom=t.parentElement.parentElement.clientHeight+1+"px":(!r||i.top||t.parentElement.style.bottom!=="")&&(t.parentElement.style.bottom="")}function jr({container:r,scrollContainer:t,virtualList:n,center:i},s){if(n||!r)return;const l=r.querySelector(`[data-pos="${s}"]`);if(!l)return;const o=l.getBoundingClientRect(),u=t.getBoundingClientRect(),d=l.offsetHeight/3,f=0;switch(!0){case l.offsetTop<t.scrollTop:t.scrollTop=l.offsetTop-d+f;break;case l.offsetTop+o.height>t.scrollTop+u.height:t.scrollTop=l.offsetTop+o.height-t.offsetHeight+d+f;break}}function ol(r,t,n,i){return{optionProps:[],optionsWithGroups:!1,valueField:r,labelField:t,optLabel:n,optItems:i}}function cl(r,t,n,i){let s=Array.isArray(t)?t:[t];return n&&(s=s.map(o=>o[i])),r.reduce((o,u)=>(s.includes(u[i])&&(u.$selected=!0,o.push(u)),o),[]).sort((o,u)=>s.indexOf(o[i])<s.indexOf(u[i])?-1:1)}function Fi(r,t,n){return typeof r[0]=="object"?JSON.parse(JSON.stringify(r)):r.map(i=>({[t||"value"]:i,[n||"text"]:i}))}function On(r,t){const n=r.reduce((i,s,l)=>s[t.optItems]?(s[t.optItems].length===0||(t.optionsWithGroups=!0,i.push({label:s[t.optLabel],$isGroupHeader:!0}),i.push(...s[t.optItems].map(o=>(o.$isGroupItem=!0,o)))),i):(i.push(s),i),[]);return ul(n,t),n}function ul(r,t){r.some(n=>n.$isGroupHeader?!1:(t.optionProps=dl(n),!0))}function dl(r){const t=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(r).filter(n=>!t.includes(n))}function fl(r,t,n,i,s={}){if(!s.keepSelectionInList&&n&&(r=r.filter(f=>!n.has(f[i.valueField])).filter((f,g,h)=>!(f.$isGroupHeader&&(h[g+1]&&h[g+1].$isGroupHeader||h.length<=1||h.length-1===g)))),s.disabled||!t)return r;const l=new Ut(r);(i.optionsWithGroups||s.skipSort)&&(l.getSortFunction=()=>null);let o="and";t.includes("|")&&(o="or",t=t.split("|").map(f=>f.trim()).join(" "));const u=l.search(t,{fields:s.fields||i.optionProps,sort:s.sort||vl(i.labelField),conjunction:s.conjunction||o,nesting:s.nesting||!1,wordsOnly:s.wordsOnly||!1,startOnly:s.startOnly||!1});return i.optionsWithGroups?u.items.reduce((f,g)=>{const h=r[g.id];if(n&&h.isSelected)return f;const A=f.push(h);if(h.$isGroupItem){const O=r.slice(0,g.id);let w=null;do w=O.pop(),w&&w.$isGroupHeader&&!f.includes(w)&&f.splice(A-1,0,w);while(w&&!w.$isGroupHeader)}return f},[]):u.items.map(f=>r[f.id])}function vl(r){return[{field:r,direction:"asc"}]}function Ur(r,t,n){const i=r==="value";let s=i?"value":"text";if(t&&t.length){const l=t[0][n]?t[0][n][0]:t[0];if(!l||typeof l=="string")return s;const o=i?0:1,u=i?["id","value","ID"]:["name","title","label"];s=Object.keys(l).filter(d=>u.includes(d)).concat([Object.keys(l)[o]]).shift()}return s}function hl(r,t){return r.bound_item=t,{destroy:()=>{}}}var _l=ee("<svelecte-list-row><!></svelecte-list-row>",2),gl=ee("<svelecte-list-viewport><svelecte-list-content></svelecte-list-content></svelecte-list-viewport>",2);function ml(r,t){Wn(t,!0);const n=y(t,"itemHeight",3,null);function i(){return e(A).firstElementChild?.offsetHeight||0}let s=t.itemCount,l=t.scrollToIndex,o=0,u=P(0),d=P(0),f=P(0),g=P(0),h=P(null),A=P(null),O=P(Ne(n())),w=Z(()=>`height:${e(g)}px;width:100%`),q=Z(()=>{const m=[];for(let C=e(u);C<e(d);C++)m.push({index:C});return m});function F(m){if(l=m,(m<0||m>t.itemCount)&&(m=0),e(u)<m&&m<e(d)-1)return;const C=m*e(O),N=C-e(h).clientHeight+e(O),R=t.itemCount*e(O),Be=Math.max(N,Math.min(C,o));o=Math.max(0,Math.min(R-e(h).clientHeight,Be)),e(h).scroll({top:o,behavior:"auto"})}async function H(m){!e(O)&&m&&e(d)===0&&(v(d,1),await Xe(),v(O,i(),!0)),s=m,v(g,Math.min(t.maxHeight,m*e(O)),!0),v(d,Math.min(m,Math.round(t.maxHeight/e(O))),!0),await Xe(),j()}async function j(){const{scrollTop:m}=e(h),C=e(u);let N=0,R=0;for(;N<t.itemCount;){if(R+e(O)>m){v(u,N,!0),v(f,R,!0);break}R+=e(O),N+=1}for(;N<t.itemCount&&(R+=e(O),N+=1,!(R>m+e(g))););if(v(d,N,!0),e(u)<C){let Be=0,ye=0;for(let we=e(u);we<C;we+=1){const ze=we-e(u);e(u)<=ze&&ze<e(d)&&(Be+=e(O),ye+=e(O))}const T=ye-Be;e(h).scrollTo(0,m+T)}}Gn(()=>{H(t.itemCount),e(h)?.addEventListener("scroll",j,{passive:!0})}),za(()=>{e(h)?.removeEventListener("scroll",j)}),mt(()=>{s!==t.itemCount&&H(t.itemCount)}),mt(()=>{l!==t.scrollToIndex&&F(t.scrollToIndex)});var le={resolveItemSize:i},X=gl();Ae(X,1,"svelte-1kwjasd");var Y=x(X);return Ae(Y,1,"svelte-1kwjasd"),bt(Y,21,()=>e(q),m=>m.index,(m,C)=>{var N=_l();Ae(N,1,"svelte-1kwjasd");var R=x(N);at(R,()=>t.children??Se,()=>e(C).index),b(N),L(m,N)}),b(Y),It(Y,m=>v(A,m),()=>e(A)),b(X),It(X,m=>v(h,m),()=>e(h)),fe(()=>{Pt(X,e(w)),Pt(Y,`padding-top: ${e(f)??""}px; height: ${t.itemCount*e(O)}px;`)}),L(r,X),qn(le)}const pl=(r,t=Se,n=Se)=>{var i=kl(),s=x(i,!0);b(i),fe(l=>be(s,l),[()=>n().collapsedSelection(t().length)]),L(r,i)},bl=(r,t=Se)=>{var n=Cl();L(r,n)};K.requestFactory=Zs;const yr={default(r){return nl(r[this.label])},html(r){return r[this.label]}},Gr=r=>({destroy:()=>{}});function yl(r,t){if(r instanceof Object)for(let n in r)yr[n]=r[n];else yr[r]=t}const wl=K;function Mi(r){r.preventDefault()}function xl(r,t,n){e(t).length===1&&n()}var kl=ee("<span> </span>"),El=r=>r.preventDefault(),Al=ee('<button class="sv-item--btn" tabindex="-1" type="button" data-action="deselect"><svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg></button>'),Sl=ee('<div class="sv-item--container"><div><div class="sv-item--content"><!></div></div> <!></div>'),Il=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>'),Cl=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>'),Fl=ee('<div class="sv-item--content"><!></div>'),Ml=ee('<span> </span> <span class="shortcut svelte-d96dy0"><kbd class="svelte-d96dy0"> </kbd>+<kbd class="svelte-d96dy0">Enter</kbd></span>',1),Dl=ee('<span id="aria-selection"> </span> <span id="aria-context"> </span>',1),Ol=ee("<option selected> </option>"),Tl=ee('<select size="1" class="sv-hidden-element" tabindex="-1" aria-hidden="true"></select>'),Bl=ee('<button type="button" data-action="deselect" tabindex="-1"><!></button>'),Rl=ee('<span class="sv-btn-separator svelte-d96dy0"></span>'),Ll=ee('<div class="sv-optgroup-header"><b> </b></div>'),Nl=ee("<div><!></div>"),zl=ee('<div class="sv-optgroup-header"><b> </b></div>'),Pl=ee("<div><!></div>"),Hl=ee('<div class="is-dropdown-row svelte-d96dy0"><div><div class="sv-item--content"> </div></div></div>'),jl=r=>r.preventDefault(),Ul=ee('<div class="is-dropdown-row svelte-d96dy0"><button type="button"><!></button></div>'),Gl=ee('<!> <div tabindex="-1"><div><!> <!></div></div> <!>',1),Wl=ee('<div role="none"><span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-d96dy0"><!></span> <!>  <div><!> <div><!> <span class="sv-input--sizer svelte-d96dy0"><input type="text" size="1" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" aria-autocomplete="list" tabindex="0"/></span></div>  <div><!> <!> <button type="button" data-action="toggle" tabindex="-1"><!></button></div> <!></div>  <div><!></div></div>');function ql(r,t){Wn(t,!0);const n=(a,c=Se,p=Se)=>{var S=qe(),k=De(S);bt(k,25,c,G=>G[e(I)],(G,se)=>{var $=Sl();$.__mousedown=[El];var de=x($);let Ee;var _t=x(de),hr=x(_t);mi(hr,()=>e(Yn)(e(se),!0)),b(_t),b(de);var _r=U(de,2);{var mn=Bt=>{var ie=Al();kn(ie,(pe,Fe)=>p()?.(pe,Fe),()=>e(se)),fe(pe=>Oe(ie,"aria-label",pe),[()=>e(z).aria_removeItemLabel(e(se),e(ke))]),L(Bt,ie)};_e(_r,Bt=>{T()&&Bt(mn)})}b($),fe(Bt=>Ee=Ae(de,1,"sv-item--wrap in-selection",null,Ee,Bt),[()=>({"is-multi":T()})]),Fs($,()=>al,()=>({duration:e(ln)})),L(G,$)}),L(a,S)},i=(a,c=Se,p=Se)=>{var S=qe(),k=De(S);{var G=se=>{var $=Il();L(se,$)};_e(k,se=>{e(B).length&&se(G)})}L(a,S)},s=(a,c=Se,p=Se)=>{var S=Fl(),k=x(S);mi(k,()=>tl(c(),!1,p(),e(Yn),le())),b(S),L(a,S)},l=(a,c=Se,p=Se,S=Se)=>{var k=Ml(),G=De(k);let se;var $=x(G,!0);b(G);var de=U(G,2),Ee=x(de),_t=x(Ee,!0);b(Ee),Rn(2),b(de),fe((hr,_r)=>{se=Ae(G,1,"svelte-d96dy0",null,se,hr),be($,_r),be(_t,e(cr))},[()=>({"is-loading":c()}),()=>S().createRowLabel(p())]),L(a,k)};let o=y(t,"name",3,""),u=y(t,"inputId",7,""),d=y(t,"required",3,!1),f=y(t,"disabled",7,!1),g=y(t,"options",23,()=>[]),h=y(t,"valueField",19,()=>K.valueField),A=y(t,"labelField",19,()=>K.labelField),O=y(t,"groupLabelField",19,()=>K.groupLabelField),w=y(t,"groupItemsField",19,()=>K.groupItemsField),q=y(t,"disabledField",19,()=>K.disabledField),F=y(t,"placeholder",19,()=>K.placeholder),H=y(t,"searchable",19,()=>K.searchable),j=y(t,"clearable",19,()=>K.clearable),le=y(t,"disableHighlight",3,!1),X=y(t,"highlightFirstItem",19,()=>K.highlightFirstItem),Y=y(t,"selectOnTab",19,()=>K.selectOnTab),m=y(t,"resetOnBlur",19,()=>K.resetOnBlur),C=y(t,"resetOnSelect",19,()=>K.resetOnSelect),N=y(t,"closeAfterSelect",19,()=>K.closeAfterSelect),R=y(t,"deselectMode",19,()=>K.deselectMode),Be=y(t,"dndzone",3,Gr),ye=y(t,"strictMode",3,!0),T=y(t,"multiple",19,()=>K.multiple),we=y(t,"max",19,()=>K.max),ze=y(t,"collapseSelection",19,()=>K.collapseSelection),$e=y(t,"keepSelectionInList",19,()=>K.keepSelectionInList),ue=y(t,"creatable",19,()=>K.creatable),wt=y(t,"creatablePrefix",19,()=>K.creatablePrefix),Gt=y(t,"allowEditing",19,()=>K.allowEditing),Qt=y(t,"keepCreated",19,()=>K.keepCreated),et=y(t,"delimiter",19,()=>K.delimiter),ge=y(t,"fetch",3,null),Jt=y(t,"fetchProps",19,()=>K.fetchProps),Zr=y(t,"fetchMode",3,"auto"),xr=y(t,"fetchCallback",19,()=>K.fetchCallback),st=y(t,"fetchResetOnBlur",7,!0),Xr=y(t,"fetchDebounceTime",19,()=>K.fetchDebounceTime),Ie=y(t,"minQuery",19,()=>K.minQuery),$r=y(t,"lazyDropdown",19,()=>K.lazyDropdown),Ve=y(t,"virtualList",19,()=>K.virtualList),Zt=y(t,"vlItemSize",19,()=>K.vlItemSize),Xt=y(t,"searchProps",3,null),en=y(t,"class",3,"svelecte-control"),kr=y(t,"i18n",3,null),me=y(t,"value",15),Ct=y(t,"readSelection",15),$t=y(t,"emitValues",3,!1),Pe=y(t,"valueAsObject",19,()=>K.valueAsObject),Re=y(t,"parentValue",3,void 0),Er=y(t,"onChange",3,a=>{}),er=y(t,"onFocus",3,a=>{}),Wt=y(t,"onBlur",3,a=>{}),Ar=y(t,"onCreateOption",3,a=>{}),tn=y(t,"onCreateFail",3,a=>{}),Sr=y(t,"onEnterKey",3,a=>{}),rn=y(t,"onFetch",3,a=>{}),Ir=y(t,"onFetchError",3,a=>{}),tr=y(t,"onInvalidValue",3,a=>{}),Ft=y(t,"prepend",3,void 0),rr=y(t,"collapsedSelection",3,pl),Cr=y(t,"selection",3,n),nr=y(t,"clearIcon",3,i),Fr=y(t,"toggleIcon",3,bl),ir=y(t,"append",3,void 0),ar=y(t,"listHeader",3,void 0),Mr=y(t,"option",3,s),nn=y(t,"createRow",3,l),sr=y(t,"positionResolver",3,Gr),lr=y(t,"anchor_element",3,void 0),an=y(t,"controlClass",3,void 0),_=y(t,"dropdownClass",3,void 0),E=y(t,"optionClass",3,void 0);function M(){Mt.focus()}function W(a,c){un(a),c&&fr()}function Q(a){return Tr(!a)}function oe(a){ge()&&(fn({init:!0,initValue:a,storedValue:st()}),st(!1))}const ce=o()?`sv-${o()}-select-${`${Math.random()}`.substring(2,6)}`:null;d()&&!o()&&console.warn("[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set"),ge()&&me()&&Pe()&&!ye()&&(!g()||g()&&g().length===0)&&g(Array.isArray(me())?me():[me()]),u()||u(ce?ce.replace("-select-","-input-"):`svelecte-input-${`${Math.random()}`.substring(2,12)}`);let ne=P(!1),xe=g(),te,J,Me=t.optionResolver?t.optionResolver(g(),new Set):Fi(g(),h(),A()),I=P(Ne(h()||Ur("value",Me,w()))),ke=P(Ne(A()||Ur("label",Me,w())));const Le=ol(e(I),e(ke),O(),w());let he=P(Ne(On(Me,Le))),tt=P(!1),He=Z(()=>e(tt)?[]:e(he));Me=void 0;let B=P(Ne(me()?cl(e(He),me(),Pe(),e(I)):[]));const re=e(B).reduce((a,c)=>(a.add(c[e(I)]),a),new Set);let Ke=e(B).filter(a=>a.$created),je=P(!1),Ye=P(!1),dt=P(!1),ve=P(!1),Qe=P(!1),V=P(Ne(X()?0:-1)),Je=P(!$r()),or=null,cr=P(void 0),D=P(""),lt=!1,z=Z(()=>Object.assign({},wl.i18n,kr()||{})),Ue=Z(()=>Zr()==="init"||ge()&&ge().includes("[query]")===!1),xt=ge()&&(me()||T()&&me()&&me().length)?Pe()?ye()===!1?wn(me()):null:JSON.parse(JSON.stringify(me())):null,sn=null,ur=P(ze()!==null),ft=P(!1),Dr=P(!1),ln=P(100),Or=!1,Vn=!1,Mt,Ge,Dt,We=P(null),on;mt(()=>{oa(h(),A())});let vt=Z(()=>we()!==0&&e(B).length==we());mt(()=>{ca(g())}),mt(()=>{me()!==void 0&&un(me())});let dr=null,ae=Z(()=>(e(B).length,e(He).length,!e(D)&&ge()&&!e(Ue)&&st()?[]:dr||(e(vt)?[]:fl(e(He),e(D),wa(e(D)),Le,Xt()||{}))));mt(()=>{let a=e(ae).length;ue()&&e(D)&&a++,a<=e(V)&&ht(0,{asc:!ue(),desc:ue()}),da(e(vt),e(ae))}),X()&&ht(0,{asc:!0});let cn=Z(()=>t.createFilter||(a=>Ke.includes(a))),Kn=Z(()=>t.createHandler||(({inputValue:a,labelField:c,valueField:p,prefix:S})=>({[p]:a,[c]:`${S}${a}`}))),Yn=Z(()=>typeof t.renderer=="function"?t.renderer:(yr[t.renderer]?yr[t.renderer]:yr.default).bind({label:e(ke)})),aa=Z(()=>H()?"text":"none"),Qn=Z(()=>e(B).length?"":F()),Jn=Z(()=>e(B).length>0&&T()===!1?null:"enter"),sa=Z(()=>e(z).aria_selected(e(B).map(a=>a[e(ke)]))),la=Z(()=>{if(e(B).length&&e(B).length===we())return e(z).max(we());const a=Math.min(e(V),e(ae).length-1);return ge()?e(ft)?e(z).fetchInit:e(ae).length?e(V)!==-1?e(z).aria_inputFocused():e(ae)[e(V)]?e(z).aria_listActive(e(ae)[a],e(ke),e(ae).filter(c=>!c.$isGroupHeader).length):"N/A."+e(V):Ie()>1?e(z).fetchQuery(Ie(),e(D).length):e(z).fetchBefore:e(ae).length?e(ve)&&e(V)!==-1&&!isNaN(e(V))?e(z).aria_listActive(e(ae)[a],e(ke),e(ae).filter(c=>!c.$isGroupHeader).length):e(z).aria_inputFocused():e(D).length?e(z).nomatch:e(z).empty});function oa(a,c){e(ne)&&(a&&e(I)!==a&&(Le.valueField=v(I,a,!0),re.size>0&&qt()),c&&(Le.labelField=v(ke,c,!0)))}function ca(a){if(xe!==a){if(a=On(Fi(a,e(I),e(ke)),Le),!h()){const c=Ur("value",a||null,w());!h()&&e(I)!==c&&(Le.valueField=v(I,c,!0),re.size>0&&qt())}if(!A()){const c=Ur("label",a||null,w());!A()&&e(ke)!==c&&(Le.labelField=c,v(ke,c,!0))}xe=a,v(he,t.optionResolver?t.optionResolver(a,re):a,!0)}}function ua(a,c){if(T()){if(a&&c?.length===a.length&&a.length>0)return Pe()?a.every((p,S)=>p[e(I)]===c[S][e(I)]):a.every((p,S)=>p===c[S])}else if(c&&a)return Pe()?c[e(I)]===a[e(I)]:c===a;return!1}function un(a,c){if(ua(te,a)&&!c?.skipEqualityCheck)return;const p=Array.isArray(a)&&a.length||T()===!1;if(a!==null&&p){if((T()&&!Array.isArray(a)||!T()&&Array.isArray(a))&&console.warn(`[Svelecte]: Passed 'value' property should ${T()?"be":"NOT be"} an array`),xt&&(!Array.isArray(xt)||xt.length))return;const S=Array.isArray(a)?a:[a],k=[],G=S.reduce(($,de)=>{if(Pe()&&(!ye()||ue()&&de.$created))return $.push(Object.fromEntries(Object.entries(de))),$;let Ee=e(He).find(_t=>Pe()?_t[e(I)]==de[e(I)]:_t[e(I)]==de);return!Ee&&!ye()&&(Ee=t.createHandler?e(Kn)({inputValue:de,valueField:e(I),labelField:e(ke),prefix:wt()}):{[e(I)]:de,[e(ke)]:de}),Ee&&(re.has(Ee[e(I)])||$.push(Ee),k.push(Ee[e(I)])),$},[]);if(e(B).forEach($=>!k.includes($[e(I)])&&Xn($)),!(G.every(dn)&&(T()?re.size===S.length:re.size===1))){console.warn('[Svelecte]: provided "value" property is invalid',a),Pe()&&ye()&&ge()&&console.warn("[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value"),qt(),te=T()?[]:null,me(te),Ct(te),tr()(a);return}}else qt();te=wn(a),T()&&!Array.isArray(a)&&(te=[],me(te)),Ct(Tr(!0))}function Tr(a){const c=a!==!0,p=e(B).map(S=>{if(c)return S[e(I)];const k={};for(let[G,se]of Object.entries(S))G[0]!=="$"&&(k[G]=se);return k});return T()?p:p.length?p.shift():null}mt(()=>{if(Re()!==void 0&&J!==Re()||Re()===void 0&&J!==Re()){const a=Re()===void 0?!1:!Re();qt(),me(T()?[]:null),f(a)}J=Re(),Vn=Re()!==void 0});function Ze(a){a&&!e(Ye)&&v(Ye,!0);const c=e(Je);!e(Je)&&a&&v(Je,!0),v(ve,a,!0),Xe().then(()=>{if(!c&&Ve())return Xe()}).then(()=>{sr()===Gr&&Ci(a,e(We)),a&&(X()&&(e(B).length===0||T())&&ht(0,{asc:!0}),!T()&&e(B).length&&v(V,e(He).findIndex(p=>p[e(I)]===e(B)[0][e(I)]),!0),jr({container:Dt,scrollContainer:e(We),virtualList:Ve(),center:!1},e(V))),Xe().then(()=>v(Qe,a,!0))}),or||(or=()=>sr()===Gr&&Ci(a,e(We))),document[a?"addEventListener":"removeEventListener"]("scroll",or,{passive:!0})}function da(a,c){if(!(ge()&&!e(Ue))){if(a){v(kt,e(z).max(we()),!0);return}v(kt,c.length!==e(He).length&&e(B).length!==e(He).length?ue()?e(z).emptyCreatable:e(z).nomatch:ue()?e(z).emptyCreatable:e(z).empty,!0)}}function fr(){const a=Tr(!0),c=Tr(!1);te=Pe()?a:c,me(te),Ct(a),Xe().then(()=>{Er()($t()?c:a),Ge&&Ge.dispatchEvent(new Event("change"))})}function vr(a,c){if(c=c||a.detail,!(f()||c[q()]||c.$isGroupHeader)){if(!c||T()&&e(vt))return!1;if(re.has(c[e(I)]))return!T()&&R()!=="toggle"?void 0:Br(c);if(typeof c=="string"){if(!ue()||(c=Mn(c),Ke.includes(c)||re.has(c)))return;v(Dr,!0),Promise.resolve().then(()=>e(Kn)({inputValue:c,valueField:e(I),labelField:e(ke),prefix:wt()})).then(p=>{v(Dr,!1),!ge()&&Ke.push(c),p.$created=!0,Qt()&&(e(he).push(p),p=e(he)[e(he).length-1]),Ar()(p),dn(p),Zn(),fr()}).catch(p=>{v(Dr,!1),tn()({input:c,error:p})});return}dn(c),Zn(),fr()}}function Zn(){(T()&&C()||!T())&&v(D,""),(N()===!0||N()==="auto"&&!T())&&Ze(!1),we()&&e(B).length==we()&&v(V,0)}function dn(a){if(a.$selected=!0,T())e(B).push(a),re.add(a[e(I)]);else{const c=e(B).shift();c&&(c.$selected=!1),v(B,[a],!0),re.clear(),re.add(a[e(I)]),Xe().then(()=>{const p=e(He).indexOf(a);v(V,p<0?0:p,!0)})}return t.optionResolver&&Xe().then(()=>{v(he,t.optionResolver(g(),re),!0)}),!0}function Br(a=null,c){f()||(a?(Xn(a,c),$e()!==!0&&Xe().then(()=>jr({scrollContainer:e(We),container:Dt,virtualList:Ve(),center:!1},e(V)))):qt(),fr())}function Xn(a,c){if(a.$created){if(!Qt()){Ke.splice(Ke.findIndex(k=>k===a[e(I)]),1);const S=e(he).findIndex(k=>k[e(I)]===a[e(I)]);S!==-1&&e(he).splice(S,1),v(he,e(he),!0)}c&&Gt()&&v(D,a[e(ke)].replace(wt(),""),!0)}a.$selected=!1;const p=a[e(I)];if(re.delete(p),e(B).splice(e(B).findIndex(S=>S[e(I)]==p),1),t.optionResolver){v(he,t.optionResolver(g(),re),!0);return}ge()&&!e(Ue)&&st()&&v(tt,!0)}function qt(){if(!(re.size===0||!T()&&R()==="none")){if(re.clear(),v(B,e(B).reduce((a,c)=>(c.$selected=!1,[]),[]),!0),Qt()||(Ke=[]),e(D)&&v(D,""),t.optionResolver){v(he,t.optionResolver(g(),re),!0);return}ge()&&!e(Ue)&&st()&&v(tt,!0)}}function fa(a){a.preventDefault(),!Ke.includes(e(D))&&vr(null,e(D))}function va(a){if(ue()&&et().indexOf(a.key)>-1){e(D).length>0&&vr(null,e(D)),a.preventDefault();return}const c=Y()&&e(ve)&&!a.shiftKey?"Tab":"No-tab";let p=sn?a.metaKey:a.ctrlKey,S=["PageUp","PageDown"].includes(a.key),k=!1,G=!1;switch(a.key){case"End":if(e(D).length!==0)return;ht(e(ae).length,{desc:!0});case"PageDown":if(S){const[de,Ee]=vn();v(V,Math.min(Math.ceil((Ee*e(V)+de)/Ee),e(ae).length+(ue()&&e(D)?1:0)),!0)}case"ArrowUp":if(a.preventDefault(),!e(ve)){Ze(!0);return}ht(e(V)-1,{desc:!0}),Xe().then(()=>jr({scrollContainer:e(We),container:Dt,virtualList:Ve(),center:!1},e(V)));break;case"Home":if(G=!0,e(D).length!==0||e(D).length===0&&e(ae).length===0)return;ht(0,{asc:!0});case"PageUp":if(S){const[de,Ee]=vn();v(V,Math.floor((Ee*e(V)-de)/Ee),!0)}case"ArrowDown":if(a.preventDefault(),!e(ve)){Ze(!0);return}const se=e(V)===null?-1:e(V);!G&&ht(se+1,{asc:!0}),Xe().then(()=>jr({scrollContainer:e(We),container:Dt,virtualList:Ve(),center:!1},e(V)));break;case"Escape":e(ve)&&(a.preventDefault(),a.stopPropagation()),e(D)||Ze(!1),v(D,"");break;case c:case"Enter":if(!e(ve)){a.key!==c&&Sr()(a);return}let $=p?null:e(ae)[e(V)];if(ue()&&!$&&e(D)){const de=e(cn)(Mn(e(D)));$=!$||p?Mn(e(D)):$,p=de}if(!p&&$&&vr(null,$),e(ae).length<=e(V)&&ht(e(ae).length-1),!$&&e(B).length){Ze(!1),a.key!==c&&Sr()(a);return}(a.key!==c||a.key===c&&Y()!=="select-navigate")&&a.preventDefault();break;case" ":!ge()&&!e(ve)&&(Ze(!0),a.preventDefault());break;case"Backspace":if(ze()==="always")return;k=!0;case"Delete":if(e(D)===""&&e(B).length){if(!T()&&R()==="none")return;p?Br():Br(e(B)[e(B).length-1],k),a.preventDefault()}default:!p&&!["Tab","Shift"].includes(a.key)&&!e(ve)&&!e(ft)&&Ze(!0)}}function $n(a){if(f())return;const c=a.target.closest("[data-action]");if(e(Ye)||v(Ye,!0),c?.dataset.action==="default")return;a.preventDefault();const p=a.target.closest("[data-pos]");if(!c&&!p)return xa(a.target);switch(c?.dataset.action||"select"){case"deselect":let k=c.bound_item;if(!k){const se=c.dataset.id;k=e(B).filter($=>$[e(I)]==se).shift()}Br(k),k&&!e(je)&&Mt.focus();break;case"select":const G=parseInt(p.dataset.pos);vr(null,e(ae)[G]);break;case"toggle":Ze(!e(ve));break}}function ha(a){if(rl()&&!e(Jn)&&a.key==="Enter")return!0;lt=["Enter","Escape"].includes(a.key)&&e(ve),va(a)}function _a(a){lt&&(a.stopImmediatePropagation(),a.preventDefault()),lt=!1}function ga(){v(je,!0),Ze(e(Ye)),e(dt)||v(dt,!0),ze()==="blur"&&!Or&&setTimeout(()=>{v(ur,!1)},100),er()(Mt)}function ma(){v(je,!1),Ze(!1),v(Ye,!1),m()?v(D,""):Ot&&!e(Ue)&&Ot.abort("blur"),ze()==="blur"&&!Or&&setTimeout(()=>{v(ur,!0)},100),Wt()(Mt)}function pa(a){if(ue()){a.preventDefault();const c=new RegExp("([^"+et()+"\\n]+)","g"),p=a.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),S=p.match(c);S.length===1&&p.indexOf(",")===-1&&v(D,S.pop().trim(),!0),S.forEach(k=>vr(null,k.trim()))}}function ei(a){Or=a.type==="consider",v(B,a.detail.items,!0),Or||(fr(),ze()==="blur"&&setTimeout(()=>{v(ur,!0)},200))}let Ot,Rr;mt(()=>{ya(e(D))}),mt(()=>{ba(ge(),Re())});let kt=P(Ne(ge()?e(Ue)?e(z).fetchInit:Ie()>1?e(z).fetchQuery(Ie(),0):e(z).fetchBefore:ue()?e(z).emptyCreatable:e(z).empty));function ba(a,c){if(!a){Rr=null;return}(e(Ue)||xt)&&(v(ft,!0),fn({init:!0})),Rr=Js(fn,Xr())}function ya(a){if(e(Ue)||e(vt)){v(kt,e(vt)?e(z).max(we()):e(z).fetchInit,!0);return}Rr&&(Ot?.abort(),v(ft,!0),e(D).length<Ie()&&v(ft,!1),!t.optionResolver&&st()&&(dr=[]),v(Qe,a.length>=Ie()?ue():!0,!0),v(kt,e(vt)?e(z).max(we()):Ie()<=1?e(z).fetchBefore:e(z).fetchQuery(Ie(),a.length),!0),Rr())}function fn(a={}){if(Ot?.abort(),a.init!==!0&&!e(D).length||Vn&&!Re()){v(ft,!1),st()&&v(he,t.optionResolver?t.optionResolver(g(),re):[],!0);return}if(e(D)&&e(D).length<Ie()){v(ft,!1);return}e(Ue)&&te&&(!T()||te?.length>0)&&(xt=te);const c=wn(xt||a.initValue);let p;if(c&&(p=Pe()?T()?c.map(k=>k[e(I)]):c[e(I)]:c),e(Ue))v(kt,e(z).fetchInit,!0);else if(c&&t.optionResolver){xt=null,v(kt,Ie()>1?e(z).fetchQuery(Ie(),e(D).length):e(z).fetchBefore,!0);return}const S=K.requestFactory(e(D),{parentValue:Re(),url:ge(),initial:p},typeof Jt()=="function"?Jt()():Jt());Ot?.abort(),Ot=S.controller,window.fetch(S.request).then(k=>k.json()).then(k=>(!Array.isArray(k)&&k?.error&&Ir()(k.error),Promise.resolve(xr()?xr()(k):k.data||k.items||k.options||k).then(G=>{Array.isArray(G)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",G),G=[]),v(tt,!1),dr=null,v(he,On(G,Le),!0),rn()(G),c&&(xt=null,un(c,{skipEqualityCheck:!0}),"storedValue"in a&&st(a.storedValue))}))).catch(k=>{if(k instanceof DOMException&&k.name==="AbortError")return!0;dr=null,v(he,[],!0),Ir()(k),console.warn("[Svelecte] Fetch Error:",k)}).then(k=>{k!==!0&&(v(kt,e(Ue)?e(z).empty:c?Ie()>1?e(z).fetchQuery(Ie(),0):e(z).fetchBefore:e(z).fetchEmpty,!0),Ot=null,v(ft,!1),e(je)&&Ze(!0),e(ve)&&!e(Qe)&&v(Qe,!0))})}function wa(a){return $e()?$e()===!0?a?re:null:a||T()?re:null:re}function ht(a,c={},p=0){const S=ue()&&e(D)?e(ae).length+1:e(ae).length;if(!(p>=2)){if(a<0&&(a=c.desc?S-1:0),(e(V)===null&&X()||a>=S)&&(a=0),e(ae)[a]?.$isGroupHeader){ht(c.asc?a+1:a-1,c,++p);return}v(V,a,!0)}}function xa(a){if(!f()){if(!e(je)){Mt.focus();return}a.tagName==="INPUT"&&e(D)||Ze(!e(ve))}}function vn(){return Ve()?[Dn(e(We),"maxHeight")-Dn(e(We),"paddingTop")-Dn(e(We),"paddingBottom"),on?.resolveItemSize()]:[e(We).offsetHeight,Dt.firstElementChild.offsetHeight]}Gn(()=>{v(ne,!0),sn=navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone",v(cr,sn?"âŒ˜":"Ctrl",!0),lr()&&(Ge=document.getElementById(lr()),Ge.className="sv-hidden-element",Ge.innerHTML="",Ge.tabIndex=-1,Ge.disabled=f(),Ge.required=d(),Ge.multiple=T(),!T()&&Ge.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),re.forEach(a=>{Ge.insertAdjacentHTML("beforeend",`<option value=${a} selected>${a}</option>`)})),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&v(ln,0)});var ka={focus:M,setSelection:W,getSelection:Q,refetchWith:oe},Lr=Wl();let ti;var hn=x(Lr),Ea=x(hn);{var Aa=a=>{var c=Dl(),p=De(c),S=x(p,!0);b(p);var k=U(p,2),G=x(k,!0);b(k),fe(()=>{be(S,e(sa)),be(G,e(la))}),L(a,c)};_e(Ea,a=>{e(je)&&a(Aa)})}b(hn);var ri=U(hn,2);{var Sa=a=>{var c=Tl();bt(c,21,()=>e(B),p=>p[e(I)],(p,S)=>{var k=Ol(),G=x(k,!0);b(k);var se={};fe(()=>{be(G,e(S)[e(I)]),se!==(se=e(S)[e(I)])&&(k.value=(k.__value=e(S)[e(I)])??"")}),L(p,k)}),b(c),It(c,p=>Ge=p,()=>Ge),fe(()=>{Oe(c,"name",o()),c.required=d(),c.multiple=T(),c.disabled=f(),Oe(c,"id",ce)}),L(a,c)};_e(ri,a=>{o()&&!lr()&&a(Sa)})}var Vt=U(ri,2);Vt.__mousedown=[Mi],Vt.__click=$n;var ni=x(Vt);{var Ia=a=>{var c=qe(),p=De(c);at(p,Ft),L(a,c)};_e(ni,a=>{Ft()&&a(Ia)})}var Tt=U(ni,2);let ii;var ai=x(Tt);{var Ca=a=>{var c=qe(),p=De(c);at(p,rr,()=>e(B),()=>e(z)),L(a,c)},Fa=a=>{var c=qe(),p=De(c);{var S=k=>{var G=qe(),se=De(G);at(se,Cr,()=>e(B),()=>hl),L(k,G)};_e(p,k=>{e(B).length&&k(S)},!0)}L(a,c)};_e(ai,a=>{e(B).length&&T()&&e(ur)?a(Ca):a(Fa,!1)})}var _n=U(ai,2),Ce=x(_n);Qi(Ce);let si;Ce.__keydown=ha,Ce.__keyup=_a,Ce.__input=[xl,B,T],It(Ce,a=>Mt=a,()=>Mt),b(_n),b(Tt),kn(Tt,(a,c)=>Be()?.(a,c),()=>({items:e(B),flipDurationMs:e(ln),type:u(),dragDisabled:e(ur)}));var Nr=U(Tt,2);let li;var oi=x(Nr);{var Ma=a=>{var c=Bl();let p;var S=x(c);at(S,nr,()=>e(B),()=>e(D)),b(c),fe(k=>p=Ae(c,1,"sv-btn-indicator svelte-d96dy0",null,p,k),[()=>({"sv-has-selection":e(B).length})]),L(a,c)};_e(oi,a=>{j()&&!f()&&a(Ma)})}var ci=U(oi,2);{var Da=a=>{var c=Rl();L(a,c)};_e(ci,a=>{j()&&a(Da)})}var gn=U(ci,2);let ui;var Oa=x(gn);at(Oa,Fr,()=>e(ve)),b(gn),b(Nr);var Ta=U(Nr,2);{var Ba=a=>{var c=qe(),p=De(c);at(p,ir),L(a,c)};_e(Ta,a=>{ir()&&a(Ba)})}b(Vt);var Kt=U(Vt,2);let di;Kt.__mousedown=[Mi],Kt.__click=$n;var Ra=x(Kt);{var La=a=>{var c=Gl(),p=De(c);{var S=ie=>{var pe=qe(),Fe=De(pe);at(Fe,ar),L(ie,pe)};_e(p,ie=>{ar()&&ie(S)})}var k=U(p,2);let G;var se=x(k);let $;var de=x(se);{var Ee=ie=>{{const pe=(rt,Et=Se)=>{const ot=Z(()=>e(ae)[Et()]||{});var zr=qe(),Rt=De(zr);{var Pr=At=>{var nt=Ll(),Lt=x(nt),ct=x(Lt,!0);b(Lt),b(nt),fe(()=>be(ct,e(ot).label)),L(At,nt)},Hr=At=>{var nt=Nl();let Lt;var ct=x(nt);at(ct,Mr,()=>e(ot),()=>e(D)),b(nt),fe(it=>{Oe(nt,"data-pos",Et()),Lt=Ae(nt,1,`sv-item--wrap in-dropdown ${E()??""}`,"svelte-d96dy0",Lt,it)},[()=>({"sv-dd-item-active":e(V)===Et(),"is-selected":e(ot).$selected||re.has(e(ot)[e(I)]),"is-disabled":e(ot)[q()]})]),L(At,nt)};_e(Rt,At=>{e(ot).$isGroupHeader?At(Pr):At(Hr,!1)})}L(rt,zr)};let Fe=Z(()=>vn().shift()),gt=Z(()=>e(ae).length||0);It(ml(ie,{get maxHeight(){return e(Fe)},get itemHeight(){return Zt()},get itemCount(){return e(gt)},get scrollToIndex(){return e(V)},children:pe,$$slots:{default:!0}}),rt=>on=rt,()=>on)}},_t=ie=>{var pe=qe(),Fe=De(pe);{var gt=rt=>{var Et=qe(),ot=De(Et);bt(ot,17,()=>e(ae),br,(zr,Rt,Pr)=>{var Hr=qe(),At=De(Hr);{var nt=ct=>{var it=zl(),gr=x(it),pn=x(gr,!0);b(gr),b(it),fe(()=>be(pn,e(Rt).label)),L(ct,it)},Lt=ct=>{var it=Pl();Oe(it,"data-pos",Pr);let gr;var pn=x(it);at(pn,Mr,()=>e(Rt),()=>e(D)),b(it),fe(Na=>gr=Ae(it,1,`sv-item--wrap in-dropdown ${E()??""}`,"svelte-d96dy0",gr,Na),[()=>({"sv-dd-item-active":e(V)===Pr,"is-selected":e(Rt).$selected,"is-disabled":e(Rt)[q()]})]),L(ct,it)};_e(At,ct=>{e(Rt).$isGroupHeader?ct(nt):ct(Lt,!1)})}L(zr,Hr)}),L(rt,Et)};_e(Fe,rt=>{Ve()===!1&&rt(gt)},!0)}L(ie,pe)};_e(de,ie=>{Ve()&&e(We)?ie(Ee):ie(_t,!1)})}var hr=U(de,2);{var _r=ie=>{var pe=Hl(),Fe=x(pe),gt=x(Fe),rt=x(gt,!0);b(gt),b(Fe),b(pe),fe(()=>{Ae(Fe,1,`sv-item--wrap in-dropdown ${E()??""}`,"svelte-d96dy0"),be(rt,e(kt))}),L(ie,pe)};_e(hr,ie=>{(e(ae).length===0&&(!ue()||!e(D))||e(vt))&&ie(_r)})}b(se),It(se,ie=>Dt=ie,()=>Dt),b(k),It(k,ie=>v(We,ie),()=>e(We));var mn=U(k,2);{var Bt=ie=>{var pe=Ul(),Fe=x(pe);let gt;Fe.__click=fa,Fe.__mousedown=[jl];var rt=x(Fe);at(rt,nn,()=>e(Dr),()=>e(D),()=>e(z)),b(Fe),b(pe),fe((Et,ot)=>{gt=Ae(Fe,1,"creatable-row svelte-d96dy0",null,gt,Et),Fe.disabled=ot},[()=>({active:(e(ae).length?e(ae).length:0)===e(V),"is-disabled":e(cn)(e(D))}),()=>e(cn)(e(D))]),L(ie,pe)};_e(mn,ie=>{ue()&&e(D)&&!e(vt)&&ie(Bt)})}fe((ie,pe)=>{G=Ae(k,1,"sv-dropdown-scroll svelte-d96dy0",null,G,ie),$=Ae(se,1,"sv-dropdown-content",null,$,pe)},[()=>({"has-items":e(ae).length>0,"is-virtual":Ve()}),()=>({"max-reached":e(vt)})]),L(a,c)};_e(Ra,a=>{e(ne)&&e(Je)&&a(La)})}return b(Kt),kn(Kt,a=>sr()?.(a)),b(Lr),fe((a,c,p,S,k,G)=>{ti=Ae(Lr,1,ps(["svelecte",en()]),"svelte-d96dy0",ti,a),Ae(Vt,1,`sv-control ${an()??""}`,"svelte-d96dy0"),ii=Ae(Tt,1,"sv-control--selection svelte-d96dy0",null,ii,c),Oe(_n,"data-value",e(D)||e(Qn)),si=Ae(Ce,1,"sv-input--text svelte-d96dy0",null,si,p),Oe(Ce,"id",u()),Oe(Ce,"placeholder",e(D)?"":e(Qn)),Oe(Ce,"inputmode",e(aa)),Ce.readOnly=!H(),Oe(Ce,"enterkeyhint",e(Jn)),Ce.disabled=f(),Oe(Ce,"aria-label",e(z).aria_label),Oe(Ce,"aria-describedby",e(z).aria_describedby),li=Ae(Nr,1,"sv-buttons svelte-d96dy0",null,li,S),ui=Ae(gn,1,"sv-btn-indicator svelte-d96dy0",null,ui,k),di=Ae(Kt,1,`sv_dropdown ${_()??""} `,"svelte-d96dy0",di,G)},[()=>({"is-required":d(),"is-empty":e(B).length===0,"is-invalid":d()&&e(B).length===0,"is-tainted":e(dt),"is-valid":d()?e(B).length>0:!0,"is-focused":e(je),"is-open":e(ve),"is-disabled":f()}),()=>({"is-single":T()===!1,"has-items":e(B).length>0,"has-input":e(D).length}),()=>({"keep-value":!m()}),()=>({"is-loading":e(ft)}),()=>({"sv-dropdown-opened":e(ve)}),()=>({"is-open":e(Qe)})]),pt("consider",Tt,ei),pt("finalize",Tt,ei),pt("focus",Ce,ga),pt("blur",Ce,ma),pt("paste",Ce,pa),Xi(Ce,()=>e(D),a=>v(D,a)),L(r,Lr),qn(ka)}Oi(["mousedown","click","keydown","keyup","input"]);function Di(r,t,n){if(!e(t).show)return;const{x:i,y:s}=n(r.clientX,r.clientY);v(t,{...e(t),x:i,y:s},!0)}function Vl(r,t,n){const i=$i(e(t));n(i)}function Kl(r,t,n,i,s){e(t)>0&&(v(t,e(t)-1),v(n,e(i)[e(t)],!0),s(e(n)))}function Yl(r,t,n,i,s){e(t)<e(n).length-1&&(v(t,e(t)+1),v(i,e(n)[e(t)],!0),s(e(i)))}function Ql(r,t,n){r.key==="Enter"&&t(e(n))}var Jl=(r,t)=>v(t,!e(t)),Zl=(r,t)=>t("disk"),Xl=(r,t)=>t("count"),$l=ee(`<div class="flex flex-col divide-y divide-gray-500 absolute w-36 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-1"><button class="w-full text-left px-3 py-2 hover:bg-gray-700 text-nowrap">By Disk Usage</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Total Files</button></div>`),eo=ee('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),to=ee('<div class="relative p-3 bg-gray-800 border border-gray-600 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),ro=ee('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),no=(r,t,n)=>t(e(n).path),io=ee('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),ao=ee('<div class="relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-600 rounded-lg overflow-hidden min-h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="flex flex-col gap-2 relative z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"><span> </span></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-xs text-gray-300"> </p></div></div></div>'),so=ee('<div class="flex"><span class="material-symbols-outlined text-4xl">subdirectory_arrow_right</span> <div class="flex grow relative px-2 py-1 bg-gray-700 border-gray-600 rounded overflow-hidden text-xs"><div class="flex flex-col w-full"><div class="absolute left-0 top-0 bottom-0 z-0 opacity-60"></div> <div class="relative z-10 flex items-center justify-between gap-1"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"> </div> <div class="flex items-center gap-4 text-sm font-semibold text-nowrap"> </div></div> <div class="relative z-10 flex justify-between text-gray-300"><div> </div> <div> </div></div></div></div></div>'),lo=ee('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"><!> <!></div>'),oo=ee('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-center"><div class="font-medium text-sm truncate max-w-[180px]"> </div></div> <div class="flex gap-2 items-center justify-between text-xs opacity-90"><div class="text-nowrap"> </div> <div> </div></div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),co=ee('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative"><button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_back_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_forward_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_upward</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">refresh</span></div></button> <div class="relative"><button class="btn w-36"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div> <!></div> <div class="flex"><input placeholder="Path..." class="grow"/></div> <div><div class="relative px-2 bg-gray-700 border border-gray-600 rounded overflow-hidden"><div class="absolute left-0 top-0 bottom-0 flex z-0" style="width: 100%"></div> <div class="relative z-10 pointer-events-none"><div class="flex items-center justify-end"><p class="text-xs"> </p></div></div></div></div> <!> <div class="grow"></div></div> <!>',1);function _o(r,t){Wn(t,!0);function n(_,E,M){const W="width:16px;height:16px;border:1px solid white;border-radius:3px;flex:none;",Q=St[0],oe=St[1],ce=St[2],ne=St[3],xe=_.user==="All Users"?`background: linear-gradient(90deg, ${Q} 0%, ${oe} 33%, ${ce} 66%, ${ne} 100%);`:`background: ${_.color};`;return`<div class="flex gap-2 items-center">
                <div class="border border-gray-400 rounded"
                  style="${W}${xe}"></div>
                <div>${_.user}</div>              
              </div>`}yl("color",n);let i=P("/"),s=P(Ne([])),l=P(Ne([])),o=P(!1),u=P(Ne(["/"])),d=P(0),f=P("disk"),g=P(!1),h=P("All Users"),A=P(Ne([])),O=Ne(new Map),w=P(Ne([]));function q(_){if(!_)return"/";let E=_.replace(/\\/g,"/");return E!=="/"&&(E=E.replace(/\/+$/,"")),E.startsWith("/")||(E="/"+E),E||"/"}function F(_){_.forEach((E,M)=>{O.has(E)||O.set(E,St[M%St.length])}),v(w,Array.from(O.entries()).map(([E,M])=>({user:E,color:M})),!0)}function H(_){const E=O.get(_);if(E)return E;let M=0;for(let Q=0;Q<_.length;Q++)M=M*31+_.charCodeAt(Q)>>>0;const W=St[M%St.length];return O.set(_,W),W}let j=P(Ne({show:!1,x:0,y:0})),le=P(void 0);const X=8,Y=10;function m(_,E){const M=window.innerWidth,W=window.innerHeight,Q=e(le)?.offsetWidth??200,oe=e(le)?.offsetHeight??60,ce=Q/2,ne=X+ce,xe=M-X-ce,te=X+oe+Y,J=W-X;return{x:Math.min(xe,Math.max(ne,_)),y:Math.min(J,Math.max(te,E))}}function C(_,E,M){const{x:W,y:Q}=m(_.clientX,_.clientY);v(j,{show:!0,x:W,y:Q,username:E.username,value:ue(E),percent:Math.round(M*10)/10},!0)}function N(){v(j,{show:!1,x:0,y:0},!0)}const R=_=>{const E=Number(_);return Number.isFinite(E)?E:0},Be=Z(()=>{const _=e(f);return(e(s)?[...e(s)]:[]).sort((M,W)=>{let Q,oe;switch(_){case"disk":Q=R(M?.total_disk),oe=R(W?.total_disk);break;case"size":Q=R(M?.total_size),oe=R(W?.total_size);break;case"count":Q=R(M?.total_count),oe=R(W?.total_count);break}return oe-Q})});let ye=Z(()=>{const _=e(f),E=e(s)?.map(W=>{switch(_){case"disk":return R(W?.total_disk);case"size":return R(W?.total_size);case"count":return R(W?.total_count)}})??[],M=Math.max(0,...E);return M>0?M:1});const T=_=>{const M=R(_)/e(ye)*100,W=Math.max(0,Math.min(100,M));return Math.round(W*10)/10},we=_=>{switch(e(f)){case"disk":return"Disk Usage";case"count":return"Total Files"}},ze=_=>{switch(e(f)){case"disk":return R(_?.total_disk);case"count":return R(_?.total_count)}};function $e(_){switch(e(f)){case"disk":return Nt(R(_?.total_disk));case"count":return R(_?.total_count).toLocaleString()}}function ue(_){switch(e(f)){case"disk":return Nt(R(_?.disk));case"count":return R(_?.count).toLocaleString()}}const wt=_=>e(f)==="disk"?Number(_.disk):Number(_.count);function Gt(_){return Object.entries(_?.users??{}).sort(([,E],[,M])=>wt(E)-wt(M))}function Qt(_,E){let M=0,W=0,Q=0,oe="";const ce={};for(const ne of _??[]){M+=R(ne?.total_count),W+=R(ne?.total_size),Q+=R(ne?.total_disk),typeof ne?.modified=="string"&&ne.modified&&(!oe||ne.modified>oe)&&(oe=ne.modified);const xe=ne?.users??{};for(const[te,J]of Object.entries(xe)){const Me=String(te),I=ce[Me]??{username:J?.username||Me,count:0,size:0,disk:0};ce[Me]={username:I.username,count:I.count+R(J?.count),size:I.size+R(J?.size),disk:I.disk+R(J?.disk)}}}return{path:E,total_count:M,total_size:W,total_disk:Q,modified:oe,users:ce}}const et=Z(()=>Qt(e(s),e(i)));function ge(_){switch(e(f)){case"disk":return R(_.size);case"count":return 1}}const Jt=Z(()=>(e(l)?[...e(l)]:[]).sort((E,M)=>ge(M)-ge(E))),Zr=Z(()=>{const _=e(l)?.map(M=>ge(M))??[],E=Math.max(0,..._);return E>0?E:1}),xr=_=>Math.round(ge(_)/e(Zr)*1e3)/10;function st(_){switch(e(f)){case"disk":return Nt(R(_.size));case"count":return"1"}}function Xr(_){let E=!1,M=null;return async(...W)=>{if(M=W,!E){E=!0;try{for(;M;){const Q=M;M=null,await _(...Q)}}finally{E=!1}}}}const Ie=Xr(async _=>{v(o,!0);try{const E=e(h)==="All Users"?[]:[e(h)];v(s,await Fn.getFolders(e(i),E),!0),v(l,await Fn.getFiles(e(i),E),!0),e(A)&&e(A).length>0&&F(e(A))}finally{v(o,!1)}});function $r(_){e(u)[e(d)]!==_&&(v(u,e(u).slice(0,e(d)+1),!0),e(u).push(_),v(d,e(u).length-1))}function Ve(_){v(f,_,!0),v(g,!1)}function Zt(_){v(i,q(_),!0),$r(e(i)),Ie(e(i))}function Xt(){Ie(e(i))}function en(){e(h)||v(h,"All Users"),Xt()}Gn(async()=>{console.log("api url:",ea),v(A,await Fn.getUsers(),!0),e(A).splice(0,0,"All Users"),v(h,"All Users"),F(e(A)),await Xt()});var kr=co(),me=De(kr),Ct=x(me),$t=x(Ct);$t.__click=[Kl,d,i,u,Ie];var Pe=U($t,2);Pe.__click=[Yl,d,u,i,Ie];var Re=U(Pe,2);Re.__click=[Vl,i,Zt];var Er=U(Re,2);Er.__click=Xt;var er=U(Er,2),Wt=x(er);Wt.__click=[Jl,g];var Ar=x(Wt),tn=U(x(Ar));b(Ar),b(Wt);var Sr=U(Wt,2);{var rn=_=>{var E=$l(),M=x(E);M.__click=[Zl,Ve];var W=U(M,2);W.__click=[Xl,Ve],b(E),L(_,E)};_e(Sr,_=>{e(g)&&_(rn)})}b(er);var Ir=U(er,2);ql(Ir,{get options(){return e(w)},valueField:"user",renderer:"color",onChange:en,class:"z-20 min-w-20 h-10 border rounded border-gray-600 bg-gray-800 text-white",get value(){return e(h)},set value(_){v(h,_,!0)}}),b(Ct);var tr=U(Ct,2),Ft=x(tr);Qi(Ft),Ft.__keydown=[Ql,Zt,i],b(tr);var rr=U(tr,2),Cr=x(rr),nr=x(Cr);bt(nr,21,()=>Gt(e(et)),([_,E])=>_,(_,E)=>{var M=Z(()=>gi(e(E),2));let W=()=>e(M)[0],Q=()=>e(M)[1];const oe=Z(()=>e(f)==="disk"?Q().disk:e(f)==="size"?Q().size:Q().count),ce=Z(()=>e(f)==="disk"?e(et).total_disk:e(f)==="size"?e(et).total_size:e(et).total_count),ne=Z(()=>e(ce)>0?e(oe)/e(ce)*100:0);var xe=eo();xe.__mousemove=[Di,j,m],fe((te,J)=>{Pt(xe,`width: ${e(ne)??""}%; background-color: ${te??""};`),Oe(xe,"aria-label",J)},[()=>H(W()),()=>`${Q().username}: ${ue(Q())}`]),pt("mouseenter",xe,te=>C(te,Q(),e(ne))),pt("mouseleave",xe,N),L(_,xe)}),b(nr);var Fr=U(nr,2),ir=x(Fr),ar=x(ir),Mr=x(ar);b(ar),b(ir),b(Fr),b(Cr),b(rr);var nn=U(rr,2);{var sr=_=>{var E=qe(),M=De(E);{var W=oe=>{var ce=ro();bt(ce,20,()=>Array(6),br,(ne,xe)=>{var te=to();L(ne,te)}),b(ce),L(oe,ce)},Q=oe=>{var ce=lo(),ne=x(ce);bt(ne,17,()=>e(Be),br,(te,J)=>{var Me=ao();Me.__click=[no,Zt,J];var I=x(Me);bt(I,21,()=>Gt(e(J)),br,(dt,ve)=>{var Qe=Z(()=>gi(e(ve),2));let V=()=>e(Qe)[0],Je=()=>e(Qe)[1];const or=Z(()=>e(f)==="disk"?Je().disk:Je().count),cr=Z(()=>e(f)==="disk"?e(J).total_disk:e(J).total_count),D=Z(()=>e(cr)>0?e(or)/e(cr)*100:0);var lt=io();lt.__mousemove=[Di,j,m],fe((z,Ue)=>{Pt(lt,`width: ${e(D)??""}%; background-color: ${z??""};`),Oe(lt,"aria-label",Ue)},[()=>H(V()),()=>`${Je().username}: ${ue(Je())}`]),pt("mouseenter",lt,z=>C(z,Je(),e(D))),pt("mouseleave",lt,N),L(dt,lt)}),b(I);var ke=U(I,2),Le=x(ke),he=x(Le),tt=x(he),He=x(tt,!0);b(tt),b(he);var B=U(he,2),re=x(B,!0);b(B),b(Le);var Ke=U(Le,2),je=x(Ke),Ye=x(je);b(je),b(Ke),b(ke),b(Me),fe((dt,ve,Qe,V)=>{Pt(I,`width: ${dt??""}%`),be(He,e(J).path),be(re,ve),be(Ye,`${e(J).total_count??""} Files 
                â€¢ Last Modified: ${e(J).modified||"â€”"} 
                â€¢ ${Qe??""} 
                  (${V??""} on disk)`)},[()=>T(ze(e(J))),()=>$e(e(J)),()=>Nt(e(J).total_size),()=>Nt(e(J).total_disk)]),L(te,Me)});var xe=U(ne,2);bt(xe,17,()=>e(Jt),br,(te,J)=>{const Me=Z(()=>H(e(J).owner));var I=so(),ke=U(x(I),2),Le=x(ke),he=x(Le),tt=U(he,2),He=x(tt),B=x(He,!0);b(He);var re=U(He,2),Ke=x(re,!0);b(re),b(tt);var je=U(tt,2),Ye=x(je),dt=x(Ye,!0);b(Ye);var ve=U(Ye,2),Qe=x(ve);b(ve),b(je),b(Le),b(ke),b(I),fe((V,Je)=>{Pt(he,`width: ${V??""}%; background-color: ${e(Me)??""};`),be(B,e(J).path),be(Ke,Je),be(dt,e(J).owner),be(Qe,`Last Modified: ${e(J).modified??""}`)},[()=>xr(e(J)),()=>st(e(J))]),L(te,I)}),b(ce),L(oe,ce)};_e(M,oe=>{e(o)?oe(W):oe(Q,!1)},!0)}L(_,E)};_e(nn,_=>{_(sr,!1)})}Rn(2),b(me);var lr=U(me,2);{var an=_=>{var E=oo(),M=x(E),W=x(M),Q=x(W),oe=x(Q,!0);b(Q),b(W);var ce=U(W,2),ne=x(ce),xe=x(ne,!0);b(ne);var te=U(ne,2),J=x(te);b(te),b(ce),Rn(2),b(M),It(M,Me=>v(le,Me),()=>e(le)),b(E),fe(()=>{Pt(E,`
      left: ${e(j).x??""}px;
      top: ${e(j).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));
    `),be(oe,e(j).username),be(xe,e(j).value),be(J,`${e(j).percent??""}%`)}),L(_,E)};_e(lr,_=>{e(j).show&&_(an)})}fe((_,E,M,W)=>{$t.disabled=e(d)===0,Pe.disabled=e(d)>=e(u).length-1,Re.disabled=_,be(tn,` ${E??""}`),Oe(Ft,"aria-busy",e(o)),be(Mr,`${e(et).total_count??""} Files 
            â€¢ Last Modified: ${e(et).modified||"â€”"} 
            â€¢ ${M??""} (${W??""} on disk)`)},[()=>$i(e(i))===e(i),()=>we(e(f)),()=>Nt(e(et).total_size),()=>Nt(e(et).total_disk)]),Xi(Ft,()=>e(i),_=>v(i,_)),L(r,kr),qn()}Oi(["click","keydown","mousemove"]);export{_o as component};
