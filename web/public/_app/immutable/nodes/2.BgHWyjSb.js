import"../chunks/DsnmJJEf.js";import{o as Un,a as Na,d as Oi,e as wt,s as we}from"../chunks/BJVHLwmR.js";import{Y as Ti,aC as zi,aD as Pa,l as Bi,d as Ha,j as qr,h as Be,$ as wr,e as On,A as e,C as ja,g as Ua,H as qa,i as fi,k as mn,t as jt,a0 as Ri,a4 as Ga,m as Tn,o as Wa,n as $t,aE as vi,ax as Va,aF as hi,a8 as Li,aG as Kr,p as Ni,q as Ka,aH as Qr,aI as Qa,aJ as pn,aK as Pi,a2 as Hi,aL as Ya,a7 as Ja,aM as Za,I as ji,x as Ui,aN as qi,aO as Xa,aw as ce,aP as $a,a5 as es,a3 as ts,ac as _i,aQ as rs,u as ns,w as Gi,v as Wi,at as is,aR as as,aS as ss,aT as ls,aU as os,aV as cs,aW as us,aX as ds,aY as ke,aZ as fs,ap as Qe,a_ as vs,D as Ne,aa as qn,ay as H,af as yt,f as X,c as k,s as tt,r as b,a as R,aA as K,F as v,ad as Gn,b as P,a$ as Vi,az as qe,av as Me,b0 as zn,b1 as gi}from"../chunks/svf7RUyD.js";import{p as y,b as Ut,i as de}from"../chunks/DFK_xX9T.js";const hs=[];function bn(r,t=!1,n=!1){return Gr(r,new Map,"",hs,null,n)}function Gr(r,t,n,i,s=null,l=!1){if(typeof r=="object"&&r!==null){var o=t.get(r);if(o!==void 0)return o;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(Ti(r)){var u=Array(r.length);t.set(r,u),s!==null&&t.set(s,u);for(var d=0;d<r.length;d+=1){var f=r[d];d in r&&(u[d]=Gr(f,t,n,i,null,l))}return u}if(zi(r)===Pa){u={},t.set(r,u),s!==null&&t.set(s,u);for(var _ in r)u[_]=Gr(r[_],t,n,i,null,l);return u}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function"&&!l)return Gr(r.toJSON(),t,n,i,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}let Wr=null;function xr(r,t){return t}function _s(r,t,n){for(var i=r.items,s=[],l=t.length,o=0;o<l;o++)Ya(t[o].e,s,!0);var u=l>0&&s.length===0&&n!==null;if(u){var d=n.parentNode;Ja(d),d.append(n),i.clear(),ut(r,t[0].prev,t[l-1].next)}Za(s,()=>{for(var f=0;f<l;f++){var _=t[f];u||(i.delete(_.k),ut(r,_.prev,_.next)),Pi(_.e,!u)}})}function xt(r,t,n,i,s,l=null){var o=r,u={flags:t,items:new Map,first:null},d=(t&qi)!==0;if(d){var f=r;o=Be?qr(wr(f)):f.appendChild(Bi())}Be&&On();var _=null,h=!1,I=new Map,T=ja(()=>{var N=n();return Ti(N)?N:N==null?[]:Li(N)}),w,j;function E(){gs(j,w,u,I,o,s,t,i,n),l!==null&&(w.length===0?_?Ni(_):_=Tn(()=>l(o)):_!==null&&Ka(_,()=>{_=null}))}Ha(()=>{j??=ji,w=e(T);var N=w.length;if(h&&N===0)return;h=N===0;let Q=!1;if(Be){var F=Ua(o)===qa;F!==(N===0)&&(o=fi(),qr(o),mn(!1),Q=!0)}if(Be){for(var te=null,W,m=0;m<N;m++){if(jt.nodeType===Ri&&jt.data===Ga){o=jt,Q=!0,mn(!1);break}var C=w[m],L=i(C,m);W=Bn(jt,u,te,null,C,L,m,s,t,n),u.items.set(L,W),te=W}N>0&&qr(fi())}if(Be)N===0&&l&&(_=Tn(()=>l(o)));else if(Wa()){var se=new Set,Te=$t;for(m=0;m<N;m+=1){C=w[m],L=i(C,m);var fe=u.items.get(L)??I.get(L);fe?(t&(Qr|Kr))!==0&&Ki(fe,C,m,t):(W=Bn(null,u,null,null,C,L,m,s,t,n,!0),I.set(L,W)),se.add(L)}for(const[D,ne]of u.items)se.has(D)||Te.skipped_effects.add(ne.e);Te.add_callback(E)}else E();Q&&mn(!0),e(T)}),Be&&(o=jt)}function gs(r,t,n,i,s,l,o,u,d){var f=(o&Xa)!==0,_=(o&(Qr|Kr))!==0,h=t.length,I=n.items,T=n.first,w=T,j,E=null,N,Q=[],F=[],te,W,m,C;if(f)for(C=0;C<h;C+=1)te=t[C],W=u(te,C),m=I.get(W),m!==void 0&&(m.a?.measure(),(N??=new Set).add(m));for(C=0;C<h;C+=1){if(te=t[C],W=u(te,C),m=I.get(W),m===void 0){var L=i.get(W);if(L!==void 0){i.delete(W),I.set(W,L);var se=E?E.next:w;ut(n,E,L),ut(n,L,se),yn(L,se,s),E=L}else{var Te=w?w.e.nodes_start:s;E=Bn(Te,n,E,E===null?n.first:E.next,te,W,C,l,o,d)}I.set(W,E),Q=[],F=[],w=E.next;continue}if(_&&Ki(m,te,C,o),(m.e.f&pn)!==0&&(Ni(m.e),f&&(m.a?.unfix(),(N??=new Set).delete(m))),m!==w){if(j!==void 0&&j.has(m)){if(Q.length<F.length){var fe=F[0],D;E=fe.prev;var ne=Q[0],Ce=Q[Q.length-1];for(D=0;D<Q.length;D+=1)yn(Q[D],fe,s);for(D=0;D<F.length;D+=1)j.delete(F[D]);ut(n,ne.prev,Ce.next),ut(n,E,ne),ut(n,Ce,fe),w=fe,E=Ce,C-=1,Q=[],F=[]}else j.delete(m),yn(m,w,s),ut(n,m.prev,m.next),ut(n,m,E===null?n.first:E.next),ut(n,E,m),E=m;continue}for(Q=[],F=[];w!==null&&w.k!==W;)(w.e.f&pn)===0&&(j??=new Set).add(w),F.push(w),w=w.next;if(w===null)continue;m=w}Q.push(m),E=m,w=m.next}if(w!==null||j!==void 0){for(var Ye=j===void 0?[]:Li(j);w!==null;)(w.e.f&pn)===0&&Ye.push(w),w=w.next;var ue=Ye.length;if(ue>0){var Ft=(o&qi)!==0&&h===0?s:null;if(f){for(C=0;C<ue;C+=1)Ye[C].a?.measure();for(C=0;C<ue;C+=1)Ye[C].a?.fix()}_s(n,Ye,Ft)}}f&&Ui(()=>{if(N!==void 0)for(m of N)m.a?.apply()}),r.first=n.first&&n.first.e,r.last=E&&E.e;for(var er of i.values())Pi(er.e);i.clear()}function Ki(r,t,n,i){(i&Qr)!==0&&vi(r.v,t),(i&Kr)!==0?vi(r.i,n):r.i=n}function Bn(r,t,n,i,s,l,o,u,d,f,_){var h=Wr,I=(d&Qr)!==0,T=(d&Qa)===0,w=I?T?Va(s,!1,!1):hi(s):s,j=(d&Kr)===0?o:hi(o),E={i:j,v:w,k:l,a:null,e:null,prev:n,next:i};Wr=E;try{if(r===null){var N=document.createDocumentFragment();N.append(r=Bi())}return E.e=Tn(()=>u(r,w,j,f),Be),E.e.prev=n&&n.e,E.e.next=i&&i.e,n===null?_||(t.first=E):(n.next=E,n.e.next=E.e),i!==null&&(i.prev=E,i.e.prev=E.e),E}finally{Wr=h}}function yn(r,t,n){for(var i=r.next?r.next.e.nodes_start:n,s=t?t.e.nodes_start:n,l=r.e.nodes_start;l!==null&&l!==i;){var o=Hi(l);s.before(l),l=o}}function ut(r,t,n){t===null?r.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mi(r,t,n=!1,i=!1,s=!1){var l=r,o="";ce(()=>{var u=ji;if(o===(o=t()??"")){Be&&On();return}if(u.nodes_start!==null&&($a(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),o!==""){if(Be){jt.data;for(var d=On(),f=d;d!==null&&(d.nodeType!==Ri||d.data!=="");)f=d,d=Hi(d);if(d===null)throw es(),ts;_i(jt,f),l=qr(d);return}var _=o+"";n?_=`<svg>${_}</svg>`:i&&(_=`<math>${_}</math>`);var h=rs(_);if((n||i)&&(h=wr(h)),_i(wr(h),h.lastChild),n||i)for(;wr(h);)l.before(wr(h));else l.before(h)}})}function wn(r,t,n){ns(()=>{var i=Gi(()=>t(r,n?.())||{});if(n&&i?.update){var s=!1,l={};Wi(()=>{var o=n();is(o),s&&as(l,o)&&(l=o,i.update(o))}),s=!0}if(i?.destroy)return()=>i.destroy()})}function Qi(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=Qi(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function ms(){for(var r,t,n=0,i="",s=arguments.length;n<s;n++)(r=arguments[n])&&(t=Qi(r))&&(i&&(i+=" "),i+=t);return i}function ps(r){return typeof r=="object"?ms(r):r??""}const pi=[...` 	
\r\fÂ \v\uFEFF`];function bs(r,t,n){var i=r==null?"":""+r;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var l=s.length,o=0;(o=i.indexOf(s,o))>=0;){var u=o+l;(o===0||pi.includes(i[o-1]))&&(u===i.length||pi.includes(i[u]))?i=(o===0?"":i.substring(0,o))+i.substring(u+1):o=u}}return i===""?null:i}function ys(r,t){return r==null?null:String(r)}function xe(r,t,n,i,s,l){var o=r.__className;if(Be||o!==n||o===void 0){var u=bs(n,i,l);(!Be||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):r.className=u),r.__className=n}else if(l&&s!==l)for(var d in l){var f=!!l[d];(s==null||f!==!!s[d])&&r.classList.toggle(d,f)}return l}function qt(r,t,n,i){var s=r.__style;if(Be||s!==t){var l=ys(t);(!Be||l!==r.getAttribute("style"))&&(l==null?r.removeAttribute("style"):r.style.cssText=l),r.__style=t}return i}const ws=Symbol("is custom element"),xs=Symbol("is html");function Yi(r){if(Be){var t=!1,n=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var i=r.value;Oe(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;Oe(r,"checked",null),r.checked=s}}};r.__on_r=n,cs(n),us()}}function Oe(r,t,n,i){var s=ks(r);Be&&(s[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(r[ss]=n),n==null?r.removeAttribute(t):typeof n!="string"&&Es(r).includes(t)?r[t]=n:r.setAttribute(t,n))}function ks(r){return r.__attributes??={[ws]:r.nodeName.includes("-"),[xs]:r.namespaceURI===ls}}var bi=new Map;function Es(r){var t=r.getAttribute("is")||r.nodeName,n=bi.get(t);if(n)return n;bi.set(t,n=[]);for(var i,s=r,l=Element.prototype;l!==s;){i=os(s);for(var o in i)i[o].set&&n.push(o);s=zi(s)}return n}const Ss=()=>performance.now(),kt={tick:r=>requestAnimationFrame(r),now:()=>Ss(),tasks:new Set};function Ji(){const r=kt.now();kt.tasks.forEach(t=>{t.c(r)||(kt.tasks.delete(t),t.f())}),kt.tasks.size!==0&&kt.tick(Ji)}function As(r){let t;return kt.tasks.size===0&&kt.tick(Ji),{promise:new Promise(n=>{kt.tasks.add(t={c:r,f:n})}),abort(){kt.tasks.delete(t)}}}function Is(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function yi(r){const t={},n=r.split(";");for(const i of n){const[s,l]=i.split(":");if(!s||l===void 0)break;const o=Is(s.trim());t[o]=l.trim()}return t}const Cs=r=>r;function Fs(r,t,n){var i=Wr,s,l,o,u=null;i.a??={element:r,measure(){s=this.element.getBoundingClientRect()},apply(){if(o?.abort(),l=this.element.getBoundingClientRect(),s.left!==l.left||s.right!==l.right||s.top!==l.top||s.bottom!==l.bottom){const d=t()(this.element,{from:s,to:l},n?.());o=Zi(this.element,d,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!r.getAnimations().length){var{position:d,width:f,height:_}=getComputedStyle(r);if(d!=="absolute"&&d!=="fixed"){var h=r.style;u={position:h.position,width:h.width,height:h.height,transform:h.transform},h.position="absolute",h.width=f,h.height=_;var I=r.getBoundingClientRect();if(s.left!==I.left||s.top!==I.top){var T=`translate(${s.left-I.left}px, ${s.top-I.top}px)`;h.transform=h.transform?`${h.transform} ${T}`:T}}}},unfix(){if(u){var d=r.style;d.position=u.position,d.width=u.width,d.height=u.height,d.transform=u.transform}}},i.a.element=r}function Zi(r,t,n,i,s){if(ds(t)){var l,o=!1;return Ui(()=>{if(!o){var j=t({direction:"in"});l=Zi(r,j,n,i,s)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!t?.duration)return s(),{abort:ke,deactivate:ke,reset:ke,t:()=>i};const{delay:u=0,css:d,tick:f,easing:_=Cs}=t;var h=[];if(f&&f(0,1),d){var I=yi(d(0,1));h.push(I,I)}var T=()=>1-i,w=r.animate(h,{duration:u,fill:"forwards"});return w.onfinish=()=>{w.cancel();var j=1-i,E=i-j,N=t.duration*Math.abs(E),Q=[];if(N>0){var F=!1;if(d)for(var te=Math.ceil(N/16.666666666666668),W=0;W<=te;W+=1){var m=j+E*_(W/te),C=yi(d(m,1-m));Q.push(C),F||=C.overflow==="hidden"}F&&(r.style.overflow="hidden"),T=()=>{var L=w.currentTime;return j+E*_(L/N)},f&&As(()=>{if(w.playState!=="running")return!1;var L=T();return f(L,1-L),!0})}w=r.animate(Q,{duration:N,fill:"forwards"}),w.onfinish=()=>{T=()=>i,f?.(i,1-i),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=ke)},deactivate:()=>{s=ke},reset:()=>{},t:()=>T()}}function Xi(r,t,n=t){var i=new WeakSet;fs(r,"input",async s=>{var l=s?r.defaultValue:r.value;if(l=xn(r)?kn(l):l,n(l),$t!==null&&i.add($t),await Qe(),l!==(l=t())){var o=r.selectionStart,u=r.selectionEnd;r.value=l??"",u!==null&&(r.selectionStart=o,r.selectionEnd=Math.min(u,r.value.length))}}),(Be&&r.defaultValue!==r.value||Gi(t)==null&&r.value)&&(n(xn(r)?kn(r.value):r.value),$t!==null&&i.add($t)),Wi(()=>{var s=t();if(r===document.activeElement){var l=vs??$t;if(i.has(l))return}xn(r)&&s===kn(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function xn(r){var t=r.type;return t==="number"||t==="range"}function kn(r){return r===""?null:+r}function ct(r,t=1){if(!+r)return"0 B";const n=1e3,i=t<0?0:t,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(r)/Math.log(n));return`${parseFloat((r/Math.pow(n,l)).toFixed(i))} ${s[l]}`}function $i(r){if(!r||typeof r!="string")return".";let t=r.trim();t=t.replace(/\\/g,"/");const n=/^[a-zA-Z]:/.test(t);if(n){if(/^[a-zA-Z]:$/.test(t)&&(t+="/"),/^[a-zA-Z]:\/$/.test(t))return t.replace(/\//g,"\\")}else if(t==="/")return"/";t=t.replace(/\/+$/,"");const i=t.split("/");if(i.length<=1)return".";i.pop();let s=i.join("/");return n&&/^[a-zA-Z]:$/.test(s)&&(s+="/"),s?(n&&(s=s.replace(/\//g,"\\")),s):n?"C:\\":"/"}function Ds(r){return r?r.charAt(0).toUpperCase()+r.slice(1):""}const Pr=["#3B82F6","#22C55E","#EAB308","#F43F5E","#F59E0B","#0EA5E9","#10B981","#A855F7","#6366F1","#06B6D4","#84CC16","#EF4444","#F97316","#14B8A6","#8B5CF6","#7C3AED","#4F46E5","#0891B2","#16A34A","#A3E635","#BE123C","#EA580C","#0D9488","#9333EA","#6D28D9","#4338CA","#155E75","#166534","#65A30D","#9F1239","#C2410C","#0F766E","#7E22CE","#5B21B6","#3730A3","#0E7490","#15803D","#4D7C0F","#881337","#9A3412","#115E59","#6B21A8","#4C1D95","#1E40AF","#1D4ED8","#2563EB","#1F2937","#10A37F","#D97706","#22D3EE","#059669","#D946EF","#F43F3F","#E11D48","#FB7185","#111827"],ea="/api",Ms={username:"",token:"",profile:{}},wi=localStorage.getItem("state"),En=wi?JSON.parse(wi):Ms,Os=Ne({username:En.username,token:En.token,profile:En.profile,searchText:"",currentWellbore:{wellbore:"WELLBORE"},currentWellId:"",wellboreList:[],currentWorkflowId:"",currentWorkflow:{},currentWell:{},wellboresRightPanel:"map",wellboresMainPanelVisibility:!0,wellboresRightPanelVisibility:!0,wellboresRightPanelExpanded:!1,wellboreItemRightPanel:"list",wellboreItemMainPanelVisibility:!0,wellboreItemRightPanelVisibility:!0,wellboreItemRightPanelExpanded:!1,workflowMainPanelVisibility:!0,nodePropertiesVisibility:!1,workflowNavigation:["Workflows"],isEngineer(){return this.profile.role==="AP_ENGINEER"||this.profile.role==="AP_ADMIN"},isAdmin(){return this.profile.role==="AP_ADMIN"}}),Rn=(r,t)=>t.some(n=>r instanceof n);let xi,ki;function Ts(){return xi||(xi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zs(){return ki||(ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ln=new WeakMap,Sn=new WeakMap,Yr=new WeakMap;function Bs(r){const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",o)},l=()=>{n(Wt(r.result)),s()},o=()=>{i(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",o)});return Yr.set(t,r),t}function Rs(r){if(Ln.has(r))return;const t=new Promise((n,i)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",o),r.removeEventListener("abort",o)},l=()=>{n(),s()},o=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",o),r.addEventListener("abort",o)});Ln.set(r,t)}let Nn={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ln.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ta(r){Nn=r(Nn)}function Ls(r){return zs().includes(r)?function(...t){return r.apply(Pn(this),t),Wt(this.request)}:function(...t){return Wt(r.apply(Pn(this),t))}}function Ns(r){return typeof r=="function"?Ls(r):(r instanceof IDBTransaction&&Rs(r),Rn(r,Ts())?new Proxy(r,Nn):r)}function Wt(r){if(r instanceof IDBRequest)return Bs(r);if(Sn.has(r))return Sn.get(r);const t=Ns(r);return t!==r&&(Sn.set(r,t),Yr.set(t,r)),t}const Pn=r=>Yr.get(r);function Ps(r,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const o=indexedDB.open(r,t),u=Wt(o);return i&&o.addEventListener("upgradeneeded",d=>{i(Wt(o.result),d.oldVersion,d.newVersion,Wt(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Hs=["get","getKey","getAll","getAllKeys","count"],js=["put","add","delete","clear"],An=new Map;function Ei(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(An.get(t))return An.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=js.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Hs.includes(n)))return;const l=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return An.set(t,l),l}ta(r=>({...r,get:(t,n,i)=>Ei(t,n)||r.get(t,n,i),has:(t,n)=>!!Ei(t,n)||r.has(t,n)}));const Us=["continue","continuePrimaryKey","advance"],Si={},Hn=new WeakMap,ra=new WeakMap,qs={get(r,t){if(!Us.includes(t))return r[t];let n=Si[t];return n||(n=Si[t]=function(...i){Hn.set(this,ra.get(this)[t](...i))}),n}};async function*Gs(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const n=new Proxy(t,qs);for(ra.set(n,t),Yr.set(n,Pn(t));t;)yield n,t=await(Hn.get(n)||t.continue()),Hn.delete(n)}function Ai(r,t){return t===Symbol.asyncIterator&&Rn(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Rn(r,[IDBIndex,IDBObjectStore])}ta(r=>({...r,get(t,n,i){return Ai(t,n)?Gs:r.get(t,n,i)},has(t,n){return Ai(t,n)||r.has(t,n)}}));const Ws="ApCacheDB",kr="ap",Vs=2,Ks=60*1e3;async function na(){return Ps(Ws,Vs,{upgrade(r){r.objectStoreNames.contains(kr)||r.createObjectStore(kr)}})}async function Qs(r,t){await(await na()).put(kr,{data:t,timestamp:Date.now()},r)}async function Ys(r){const t=await na(),n=await t.get(kr,r);return n?Date.now()-n.timestamp>Ks?(await t.delete(kr,r),null):n.data:null}class Js{baseUrl=`${ea}/`;error="";async request(t="",n="GET",i,s){try{this.error="";const l={method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Os.token}`}};if(i&&(l.body=JSON.stringify(i)),s){let f=await Ys(t);if(f)return f}const o=`${this.baseUrl}${t}`;console.log("fetching url:",o);const u=await fetch(o,l),d=await u.json();return u.ok?(await Qs(t,d),d):(u.status===401&&console.log("authentication failed."),this.error=d.detail||"Unknown API error",console.log(`API Error: ${this.error}`),null)}catch(l){return console.log("Fetch error:",l),this.error="API: Error in fetching data.",null}finally{}}async getUsers(){return await this.request("users","GET",void 0,!0)}async getFolders(t,n){let i=n.join(",");return await this.request(`folders?path=${t}&users=${i}`,"GET",void 0,!0)}async getFiles(t,n){let i=n.join(",");return await this.request(`files?path=${t}&users=${i}`,"GET",void 0,!0)}}const In=new Js,G={valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:!1,resetOnBlur:!0,resetOnSelect:!0,fetchProps:{},fetchResetOnBlur:!0,fetchDebounceTime:300,multiple:!1,closeAfterSelect:"auto",deselectMode:"toggle",max:0,collapseSelection:null,keepSelectionInList:"auto",creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:void 0,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:void 0,i18n:{aria_label:"",aria_describedby:"",aria_selected:r=>r.length?`Option${r.length>1?"s":""} ${r.join(", ")} selected.`:"",aria_listActive:(r,t,n)=>`You are currently focused on option ${r[t]}. ${n} result${n>1?"s":""} available.`,aria_inputFocused:()=>"Select is focused, type to refine list, press down to scroll through the list",aria_removeItemLabel:(r,t)=>"Remove item",empty:"No options",nomatch:"No matching options",max:r=>`Maximum items ${r} selected`,fetchBefore:"Type to start searching",fetchQuery:(r,t)=>`Type at least ${r} character${r>1?"s":""} to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:r=>`${r} selected`,createRowLabel:r=>`Add '${r}'`,emptyCreatable:"Add new by typing"},requestFactory:void 0};function Zs(r,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{r.apply(this,i)},t)}}function Xs(r,{url:t,parentValue:n,initial:i},s){n&&(t=t.replace("[parent]",encodeURIComponent(n))),r&&(t=t.replace("[query]",encodeURIComponent(r))),Array.isArray(i)&&i.length===0&&(i=null),i&&(t=t.replace("[query]","init"));const l=t[0]==="/"?new URL(t,window.location.origin):new URL(t);if(i){const d=Array.isArray(i)?i:[i];l.searchParams.append("init",d.join(","))}const o=new AbortController,u=Object.assign({},s,{signal:o.signal});return{request:new Request(l,u),controller:o}}var Vt=function(r,t){this.items=r,this.settings=t||{diacritics:!0}};Vt.prototype.tokenize=function(r,t,n){if(r=el(String(r||"").toLowerCase()),!r||!r.length)return[];var i,s,l,o,u=[],d=r.split(/ +/);for(i=0,s=d.length;i<s;i++){if(l=tl(d[i]),this.settings.diacritics)for(o in Gt)Gt.hasOwnProperty(o)&&(l=l.replace(new RegExp(o,"g"),Gt[o]));t?l="\\b"+l:n&&(l="\\b^"+l),u.push({string:d[i],regex:new RegExp(l,"i")})}return u};Vt.prototype.iterator=function(r,t){var n;Array.isArray(r)?n=Array.prototype.forEach||function(i){for(var s=0,l=this.length;s<l;s++)i(this[s],s,this)}:n=function(i){for(var s in this)this.hasOwnProperty(s)&&i(this[s],s,this)},n.apply(r,[t])};Vt.prototype.getScoreFunction=function(r,t){var n,i,s,l,o;n=this,r=n.prepareSearch(r,t),s=r.tokens,i=r.options.fields,l=s.length,o=r.options.nesting;var u=function(f,_){var h,I;return!f||(f=String(f||""),I=f.search(_.regex),I===-1)?0:(h=_.string.length/f.length,I===0&&(h+=.5),h)},d=(function(){var f=i.length;return f?f===1?function(_,h){return u(jn(h,i[0],o),_)}:function(_,h){for(var I=0,T=0;I<f;I++)T+=u(jn(h,i[I],o),_);return T/f}:function(){return 0}})();return l?l===1?function(f){return d(s[0],f)}:r.options.conjunction==="and"?function(f){for(var _,h=0,I=0;h<l;h++){if(_=d(s[h],f),_<=0)return 0;I+=_}return I/l}:function(f){for(var _=0,h=0;_<l;_++)h+=d(s[_],f);return h/l}:function(){return 0}};Vt.prototype.getSortFunction=function(r,t){var n,i,s,l,o,u,d,f,_,h,I;if(s=this,r=s.prepareSearch(r,t),I=!r.query&&t.sort_empty||t.sort,_=function(T,w){return T==="$score"?w.score:jn(s.items[w.id],T,t.nesting)},o=[],I)for(n=0,i=I.length;n<i;n++)(r.query||I[n].field!=="$score")&&o.push(I[n]);if(r.query){for(h=!0,n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){h=!1;break}h&&o.unshift({field:"$score",direction:"desc"})}else for(n=0,i=o.length;n<i;n++)if(o[n].field==="$score"){o.splice(n,1);break}for(f=[],n=0,i=o.length;n<i;n++)f.push(o[n].direction==="desc"?-1:1);return u=o.length,u?u===1?(l=o[0].field,d=f[0],function(T,w){return d*Ii(_(l,T),_(l,w))}):function(T,w){var j,E,N;for(j=0;j<u;j++)if(N=o[j].field,E=f[j]*Ii(_(N,T),_(N,w)),E)return E;return 0}:null};Vt.prototype.prepareSearch=function(r,t){if(typeof r=="object")return r;t=$s({},t);var n=t.fields,i=t.sort,s=t.sort_empty;return n&&!Array.isArray(n)&&(t.fields=[n]),i&&!Array.isArray(i)&&(t.sort=[i]),s&&!Array.isArray(s)&&(t.sort_empty=[s]),{options:t,query:String(r||"").toLowerCase(),tokens:this.tokenize(r,t.wordsOnly,t.startOnly),total:0,items:[]}};Vt.prototype.search=function(r,t){var n=this,i,s,l,o;return s=this.prepareSearch(r,t),t=s.options,r=s.query,o=t.score||n.getScoreFunction(s),r.length?n.iterator(n.items,function(u,d){i=o(u),(t.filter===!1||i>0)&&s.items.push({score:i,id:d})}):n.iterator(n.items,function(u,d){s.items.push({score:1,id:d})}),l=n.getSortFunction(s,t),l&&s.items.sort(l),s.total=s.items.length,typeof t.limit=="number"&&(s.items=s.items.slice(0,t.limit)),s};var Ii=function(r,t){return typeof r=="number"&&typeof t=="number"?r>t?1:r<t?-1:0:(r=Vr(String(r||"")),t=Vr(String(t||"")),r>t?1:t>r?-1:0)},$s=function(r,t){var n,i,s,l;for(n=1,i=arguments.length;n<i;n++)if(l=arguments[n],!!l)for(s in l)l.hasOwnProperty(s)&&(r[s]=l[s]);return r},jn=function(r,t,n){if(!(!r||!t)){if(!n)return r[t];for(var i=t.split(".");i.length&&(r=r[i.shift()]););return r}},el=function(r){return(r+"").replace(/^\s+|\s+$|/g,"")},tl=function(r){return(r+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},Gt={a:"[aá¸€á¸Ä‚ÄƒÃ‚Ã¢ÇÇŽÈºâ±¥È¦È§áº áº¡Ã„Ã¤Ã€Ã ÃÃ¡Ä€ÄÃƒÃ£Ã…Ã¥Ä…Ä„ÃƒÄ…Ä„]",b:"[bâ¢Î²Î’Bà¸¿ðŒá›’]",c:"[cÄ†Ä‡ÄˆÄ‰ÄŒÄÄŠÄ‹CÌ„cÌ„Ã‡Ã§á¸ˆá¸‰È»È¼Æ‡ÆˆÉ•á´„ï¼£ï½ƒ]",d:"[dÄŽÄá¸Šá¸‹á¸á¸‘á¸Œá¸á¸’á¸“á¸Žá¸ÄÄ‘DÌ¦dÌ¦Æ‰É–ÆŠÉ—Æ‹ÆŒáµ­á¶á¶‘È¡á´…ï¼¤ï½„Ã°]",e:"[eÃ‰Ã©ÃˆÃ¨ÃŠÃªá¸˜á¸™ÄšÄ›Ä”Ä•áº¼áº½á¸šá¸›áººáº»Ä–Ä—Ã‹Ã«Ä’Ä“È¨È©Ä˜Ä™á¶’É†É‡È„È…áº¾áº¿á»€á»á»„á»…á»‚á»ƒá¸œá¸á¸–á¸—á¸”á¸•È†È‡áº¸áº¹á»†á»‡â±¸á´‡ï¼¥ï½…É˜ÇÆÆÎµ]",f:"[fÆ‘Æ’á¸žá¸Ÿ]",g:"[gÉ¢â‚²Ç¤Ç¥ÄœÄÄžÄŸÄ¢Ä£Æ“É Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áº–áº–á¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ•]",i:"[iÃÃ­ÃŒÃ¬Ä¬Ä­ÃŽÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»ˆá»‰ÈˆÈ‰ÈŠÈ‹á»Šá»‹á¸¬á¸­Æ—É¨É¨Ì†áµ»á¶–Ä°iIÄ±Éªï¼©ï½‰]",j:"[jÈ·Ä´ÄµÉˆÉ‰ÊÉŸÊ²]",k:"[kÆ˜Æ™ê€êá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â‚­]",l:"[lÅÅ‚Ä½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿Å€È½Æšâ± â±¡â±¢É«É¬á¶…É­È´ÊŸï¼¬ï½Œ]",n:"[nÅƒÅ„Ç¸Ç¹Å‡ÅˆÃ‘Ã±á¹„á¹…Å…Å†á¹†á¹‡á¹Šá¹‹á¹ˆá¹‰NÌˆnÌˆÆÉ²È Æžáµ°á¶‡É³ÈµÉ´ï¼®ï½ŽÅŠÅ‹]",o:"[oÃ˜Ã¸Ã–Ã¶Ã“Ã³Ã’Ã²Ã”Ã´Ç‘Ç’ÅÅ‘ÅŽÅÈ®È¯á»Œá»ÆŸÉµÆ Æ¡á»Žá»ÅŒÅÃ•ÃµÇªÇ«ÈŒÈÕ•Ö…]",p:"[pá¹”á¹•á¹–á¹—â±£áµ½Æ¤Æ¥áµ±]",q:"[qê–ê—Ê ÉŠÉ‹ê˜ê™qÌƒ]",r:"[rÅ”Å•ÉŒÉÅ˜Å™Å–Å—á¹˜á¹™ÈÈ‘È’È“á¹šá¹›â±¤É½]",s:"[sÅšÅ›á¹ á¹¡á¹¢á¹£êž¨êž©ÅœÅÅ Å¡ÅžÅŸÈ˜È™SÌˆsÌˆ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊˆÈšÈ›á¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­É„Ê‰á»¤á»¥ÃœÃ¼ÃšÃºÃ™Ã¹Ã›Ã»Ç“Ç”Å°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³È”È•âˆª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Ê‹êžêŸâ±±Ê‹]",w:"[wáº‚áºƒáº€áºÅ´Åµáº„áº…áº†áº‡áºˆáº‰]",x:"[xáºŒáºáºŠáº‹Ï‡]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºŽáºá»´á»µÉŽÉÆ³Æ´]",z:"[zÅ¹Åºáºáº‘Å½Å¾Å»Å¼áº’áº“áº”áº•ÆµÆ¶]"};const Vr=(function(){var r,t,n,i,s="",l={};for(n in Gt)if(Gt.hasOwnProperty(n))for(i=Gt[n].substring(2,Gt[n].length-1),s+=i,r=0,t=i.length;r<t;r++)l[i.charAt(r)]=n;var o=new RegExp("["+s+"]","g");return function(u){return u.replace(o,function(d){return l[d]}).toLowerCase()}})();let yr;function rl(r,t,n,i,s){const l=i(r,t,n);if(n==""||r.isSelected||s)return l;yr||(yr=document.createElement("div")),yr.innerHTML=l;const o=Vr(n);return(o.includes("|")?o.split("|").map(u=>u.trim()):o.split(" ")).filter(u=>u).forEach(u=>{ia(yr,u)}),yr.innerHTML}function ia(r,t){let n=0;if(r.nodeType===3){const s=Vr(r.data);let l=s.indexOf(t);if(l-=s.substr(0,l).toUpperCase().length-s.substr(0,l).length,l>=0){const o=document.createElement("span");o.className="highlight";const u=r.splitText(l);u.splitText(t.length);const d=u.cloneNode(!0);o.appendChild(d),u.parentNode.replaceChild(o,u),n=1}}else if(r.nodeType===1&&r.childNodes&&!/(script|style)/i.test(r.tagName)&&(r.className!=="highlight"||r.tagName!=="SPAN"))for(var i=0;i<r.childNodes.length;++i)i+=ia(r.childNodes[i],t);return n}function nl(){return navigator.userAgent.toLowerCase().includes("android")}function Cn(r){return(r||"").replace(/\t/g," ").trim().split(" ").filter(t=>t).join(" ")}function il(r){return`${r}`.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function al(r){const t=r-1;return t*t*t+1}function sl(r,{from:t,to:n},i={}){var{delay:s=0,duration:l=m=>Math.sqrt(m)*120,easing:o=al}=i,u=getComputedStyle(r),d=u.transform==="none"?"":u.transform,[f,_]=u.transformOrigin.split(" ").map(parseFloat);f/=r.clientWidth,_/=r.clientHeight;var h=ll(r),I=r.clientWidth/n.width/h,T=r.clientHeight/n.height/h,w=t.left+t.width*f,j=t.top+t.height*_,E=n.left+n.width*f,N=n.top+n.height*_,Q=(w-E)*I,F=(j-N)*T,te=t.width/n.width,W=t.height/n.height;return{delay:s,duration:typeof l=="function"?l(Math.sqrt(Q*Q+F*F)):l,easing:o,css:(m,C)=>{var L=C*Q,se=C*F,Te=m+C*te,fe=m+C*W;return`transform: ${d} translate(${L}px, ${se}px) scale(${Te}, ${fe});`}}}function ll(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var t=r,n=1;t!==null;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}function Fn(r,t){const n=window.getComputedStyle(r);let{groups:{value:i,unit:s}}=n[t].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/),l=parseFloat(i);if(s!=="px"){const o=s==="rem"?document.documentElement:r.parentElement.parentElement;l=parseFloat(window.getComputedStyle(o).fontSize.match(/\d+/).shift())*l}return l}function ol(r){const t=r.parentElement.parentElement.getBoundingClientRect(),n=r.getBoundingClientRect(),i={};return i.top=t.top<0,i.left=t.left<0,i.bottom=t.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight)&&t.top>n.height&&(window.innerHeight||document.documentElement.clientHeight)>n.height+50,i.right=t.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function Ci(r,t,n){if(!t)return;const i=ol(t);i.bottom&&!i.top?t.parentElement.style.bottom=t.parentElement.parentElement.clientHeight+1+"px":(!r||i.top||t.parentElement.style.bottom!=="")&&(t.parentElement.style.bottom="")}function Hr({container:r,scrollContainer:t,virtualList:n,center:i},s){if(n||!r)return;const l=r.querySelector(`[data-pos="${s}"]`);if(!l)return;const o=l.getBoundingClientRect(),u=t.getBoundingClientRect(),d=l.offsetHeight/3,f=0;switch(!0){case l.offsetTop<t.scrollTop:t.scrollTop=l.offsetTop-d+f;break;case l.offsetTop+o.height>t.scrollTop+u.height:t.scrollTop=l.offsetTop+o.height-t.offsetHeight+d+f;break}}function cl(r,t,n,i){return{optionProps:[],optionsWithGroups:!1,valueField:r,labelField:t,optLabel:n,optItems:i}}function ul(r,t,n,i){let s=Array.isArray(t)?t:[t];return n&&(s=s.map(o=>o[i])),r.reduce((o,u)=>(s.includes(u[i])&&(u.$selected=!0,o.push(u)),o),[]).sort((o,u)=>s.indexOf(o[i])<s.indexOf(u[i])?-1:1)}function Fi(r,t,n){return typeof r[0]=="object"?JSON.parse(JSON.stringify(r)):r.map(i=>({[t||"value"]:i,[n||"text"]:i}))}function Dn(r,t){const n=r.reduce((i,s,l)=>s[t.optItems]?(s[t.optItems].length===0||(t.optionsWithGroups=!0,i.push({label:s[t.optLabel],$isGroupHeader:!0}),i.push(...s[t.optItems].map(o=>(o.$isGroupItem=!0,o)))),i):(i.push(s),i),[]);return dl(n,t),n}function dl(r,t){r.some(n=>n.$isGroupHeader?!1:(t.optionProps=fl(n),!0))}function fl(r){const t=["$disabled","$isGroupHeader","$isGroupItem","$created","$selected"];return Object.keys(r).filter(n=>!t.includes(n))}function vl(r,t,n,i,s={}){if(!s.keepSelectionInList&&n&&(r=r.filter(f=>!n.has(f[i.valueField])).filter((f,_,h)=>!(f.$isGroupHeader&&(h[_+1]&&h[_+1].$isGroupHeader||h.length<=1||h.length-1===_)))),s.disabled||!t)return r;const l=new Vt(r);(i.optionsWithGroups||s.skipSort)&&(l.getSortFunction=()=>null);let o="and";t.includes("|")&&(o="or",t=t.split("|").map(f=>f.trim()).join(" "));const u=l.search(t,{fields:s.fields||i.optionProps,sort:s.sort||hl(i.labelField),conjunction:s.conjunction||o,nesting:s.nesting||!1,wordsOnly:s.wordsOnly||!1,startOnly:s.startOnly||!1});return i.optionsWithGroups?u.items.reduce((f,_)=>{const h=r[_.id];if(n&&h.isSelected)return f;const I=f.push(h);if(h.$isGroupItem){const T=r.slice(0,_.id);let w=null;do w=T.pop(),w&&w.$isGroupHeader&&!f.includes(w)&&f.splice(I-1,0,w);while(w&&!w.$isGroupHeader)}return f},[]):u.items.map(f=>r[f.id])}function hl(r){return[{field:r,direction:"asc"}]}function jr(r,t,n){const i=r==="value";let s=i?"value":"text";if(t&&t.length){const l=t[0][n]?t[0][n][0]:t[0];if(!l||typeof l=="string")return s;const o=i?0:1,u=i?["id","value","ID"]:["name","title","label"];s=Object.keys(l).filter(d=>u.includes(d)).concat([Object.keys(l)[o]]).shift()}return s}function _l(r,t){return r.bound_item=t,{destroy:()=>{}}}var gl=X("<svelecte-list-row><!></svelecte-list-row>",2),ml=X("<svelecte-list-viewport><svelecte-list-content></svelecte-list-content></svelecte-list-viewport>",2);function pl(r,t){qn(t,!0);const n=y(t,"itemHeight",3,null);function i(){return e(I).firstElementChild?.offsetHeight||0}let s=t.itemCount,l=t.scrollToIndex,o=0,u=H(0),d=H(0),f=H(0),_=H(0),h=H(null),I=H(null),T=H(Ne(n())),w=K(()=>`height:${e(_)}px;width:100%`),j=K(()=>{const m=[];for(let C=e(u);C<e(d);C++)m.push({index:C});return m});function E(m){if(l=m,(m<0||m>t.itemCount)&&(m=0),e(u)<m&&m<e(d)-1)return;const C=m*e(T),L=C-e(h).clientHeight+e(T),se=t.itemCount*e(T),Te=Math.max(L,Math.min(C,o));o=Math.max(0,Math.min(se-e(h).clientHeight,Te)),e(h).scroll({top:o,behavior:"auto"})}async function N(m){!e(T)&&m&&e(d)===0&&(v(d,1),await Qe(),v(T,i(),!0)),s=m,v(_,Math.min(t.maxHeight,m*e(T)),!0),v(d,Math.min(m,Math.round(t.maxHeight/e(T))),!0),await Qe(),Q()}async function Q(){const{scrollTop:m}=e(h),C=e(u);let L=0,se=0;for(;L<t.itemCount;){if(se+e(T)>m){v(u,L,!0),v(f,se,!0);break}se+=e(T),L+=1}for(;L<t.itemCount&&(se+=e(T),L+=1,!(se>m+e(_))););if(v(d,L,!0),e(u)<C){let Te=0,fe=0;for(let ne=e(u);ne<C;ne+=1){const Ce=ne-e(u);e(u)<=Ce&&Ce<e(d)&&(Te+=e(T),fe+=e(T))}const D=fe-Te;e(h).scrollTo(0,m+D)}}Un(()=>{N(t.itemCount),e(h)?.addEventListener("scroll",Q,{passive:!0})}),Na(()=>{e(h)?.removeEventListener("scroll",Q)}),yt(()=>{s!==t.itemCount&&N(t.itemCount)}),yt(()=>{l!==t.scrollToIndex&&E(t.scrollToIndex)});var F={resolveItemSize:i},te=ml();xe(te,1,"svelte-1kwjasd");var W=k(te);return xe(W,1,"svelte-1kwjasd"),xt(W,21,()=>e(j),m=>m.index,(m,C)=>{var L=gl();xe(L,1,"svelte-1kwjasd");var se=k(L);tt(se,()=>t.children??ke,()=>e(C).index),b(L),R(m,L)}),b(W),Ut(W,m=>v(I,m),()=>e(I)),b(te),Ut(te,m=>v(h,m),()=>e(h)),ce(()=>{qt(te,e(w)),qt(W,`padding-top: ${e(f)??""}px; height: ${t.itemCount*e(T)}px;`)}),R(r,te),Gn(F)}const bl=(r,t=ke,n=ke)=>{var i=kl(),s=k(i,!0);b(i),ce(l=>we(s,l),[()=>n().collapsedSelection(t().length)]),R(r,i)},yl=(r,t=ke)=>{var n=Cl();R(r,n)};G.requestFactory=Xs;const Mn={default(r){return il(r[this.label])},html(r){return r[this.label]}},Ur=r=>({destroy:()=>{}}),wl=G;function Di(r){r.preventDefault()}function xl(r,t,n){e(t).length===1&&n()}var kl=X("<span> </span>"),El=r=>r.preventDefault(),Sl=X('<button class="sv-item--btn" tabindex="-1" type="button" data-action="deselect"><svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg></button>'),Al=X('<div class="sv-item--container"><div><div class="sv-item--content"><!></div></div> <!></div>'),Il=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>'),Cl=Vi('<svg class="indicator-icon svelte-d96dy0" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>'),Fl=X('<div class="sv-item--content"><!></div>'),Dl=X('<span> </span> <span class="shortcut svelte-d96dy0"><kbd class="svelte-d96dy0"> </kbd>+<kbd class="svelte-d96dy0">Enter</kbd></span>',1),Ml=X('<span id="aria-selection"> </span> <span id="aria-context"> </span>',1),Ol=X("<option selected> </option>"),Tl=X('<select size="1" class="sv-hidden-element" tabindex="-1" aria-hidden="true"></select>'),zl=X('<button type="button" data-action="deselect" tabindex="-1"><!></button>'),Bl=X('<span class="sv-btn-separator svelte-d96dy0"></span>'),Rl=X('<div class="sv-optgroup-header"><b> </b></div>'),Ll=X("<div><!></div>"),Nl=X('<div class="sv-optgroup-header"><b> </b></div>'),Pl=X("<div><!></div>"),Hl=X('<div class="is-dropdown-row svelte-d96dy0"><div><div class="sv-item--content"> </div></div></div>'),jl=r=>r.preventDefault(),Ul=X('<div class="is-dropdown-row svelte-d96dy0"><button type="button"><!></button></div>'),ql=X('<!> <div tabindex="-1"><div><!> <!></div></div> <!>',1),Gl=X('<div role="none"><span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-d96dy0"><!></span> <!>  <div><!> <div><!> <span class="sv-input--sizer svelte-d96dy0"><input type="text" size="1" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" aria-autocomplete="list" tabindex="0"/></span></div>  <div><!> <!> <button type="button" data-action="toggle" tabindex="-1"><!></button></div> <!></div>  <div><!></div></div>');function Wl(r,t){qn(t,!0);const n=(a,c=ke,p=ke)=>{var A=qe(),x=Me(A);xt(x,25,c,q=>q[e(B)],(q,ae)=>{var Z=Al();Z.__mousedown=[El];var oe=k(Z);let ye;var pt=k(oe),mr=k(pt);mi(mr,()=>e(Qn)(e(ae),!0)),b(pt),b(oe);var pr=P(oe,2);{var _n=Nt=>{var re=Sl();wn(re,(_e,Ie)=>p()?.(_e,Ie),()=>e(ae)),ce(_e=>Oe(re,"aria-label",_e),[()=>e(U).aria_removeItemLabel(e(ae),e(pe))]),R(Nt,re)};de(pr,Nt=>{D()&&Nt(_n)})}b(Z),ce(Nt=>ye=xe(oe,1,"sv-item--wrap in-selection",null,ye,Nt),[()=>({"is-multi":D()})]),Fs(Z,()=>sl,()=>({duration:e(an)})),R(q,Z)}),R(a,A)},i=(a,c=ke,p=ke)=>{var A=qe(),x=Me(A);{var q=ae=>{var Z=Il();R(ae,Z)};de(x,ae=>{e(O).length&&ae(q)})}R(a,A)},s=(a,c=ke,p=ke)=>{var A=Fl(),x=k(A);mi(x,()=>rl(c(),!1,p(),e(Qn),F())),b(A),R(a,A)},l=(a,c=ke,p=ke,A=ke)=>{var x=Dl(),q=Me(x);let ae;var Z=k(q,!0);b(q);var oe=P(q,2),ye=k(oe),pt=k(ye,!0);b(ye),zn(2),b(oe),ce((mr,pr)=>{ae=xe(q,1,"svelte-d96dy0",null,ae,mr),we(Z,pr),we(pt,e(Wn))},[()=>({"is-loading":c()}),()=>A().createRowLabel(p())]),R(a,x)};let o=y(t,"name",3,""),u=y(t,"inputId",7,""),d=y(t,"required",3,!1),f=y(t,"disabled",7,!1),_=y(t,"options",23,()=>[]),h=y(t,"valueField",19,()=>G.valueField),I=y(t,"labelField",19,()=>G.labelField),T=y(t,"groupLabelField",19,()=>G.groupLabelField),w=y(t,"groupItemsField",19,()=>G.groupItemsField),j=y(t,"disabledField",19,()=>G.disabledField),E=y(t,"placeholder",19,()=>G.placeholder),N=y(t,"searchable",19,()=>G.searchable),Q=y(t,"clearable",19,()=>G.clearable),F=y(t,"disableHighlight",3,!1),te=y(t,"highlightFirstItem",19,()=>G.highlightFirstItem),W=y(t,"selectOnTab",19,()=>G.selectOnTab),m=y(t,"resetOnBlur",19,()=>G.resetOnBlur),C=y(t,"resetOnSelect",19,()=>G.resetOnSelect),L=y(t,"closeAfterSelect",19,()=>G.closeAfterSelect),se=y(t,"deselectMode",19,()=>G.deselectMode),Te=y(t,"dndzone",3,Ur),fe=y(t,"strictMode",3,!0),D=y(t,"multiple",19,()=>G.multiple),ne=y(t,"max",19,()=>G.max),Ce=y(t,"collapseSelection",19,()=>G.collapseSelection),Ye=y(t,"keepSelectionInList",19,()=>G.keepSelectionInList),ue=y(t,"creatable",19,()=>G.creatable),Ft=y(t,"creatablePrefix",19,()=>G.creatablePrefix),er=y(t,"allowEditing",19,()=>G.allowEditing),tr=y(t,"keepCreated",19,()=>G.keepCreated),Dt=y(t,"delimiter",19,()=>G.delimiter),Ee=y(t,"fetch",3,null),Mt=y(t,"fetchProps",19,()=>G.fetchProps),rr=y(t,"fetchMode",3,"auto"),Kt=y(t,"fetchCallback",19,()=>G.fetchCallback),Je=y(t,"fetchResetOnBlur",7,!0),nr=y(t,"fetchDebounceTime",19,()=>G.fetchDebounceTime),Fe=y(t,"minQuery",19,()=>G.minQuery),ir=y(t,"lazyDropdown",19,()=>G.lazyDropdown),Pe=y(t,"virtualList",19,()=>G.virtualList),ar=y(t,"vlItemSize",19,()=>G.vlItemSize),Er=y(t,"searchProps",3,null),sr=y(t,"class",3,"svelecte-control"),Qt=y(t,"i18n",3,null),ge=y(t,"value",15),lr=y(t,"readSelection",15),Jr=y(t,"emitValues",3,!1),Ge=y(t,"valueAsObject",19,()=>G.valueAsObject),He=y(t,"parentValue",3,void 0),or=y(t,"onChange",3,a=>{}),Yt=y(t,"onFocus",3,a=>{}),cr=y(t,"onBlur",3,a=>{}),Sr=y(t,"onCreateOption",3,a=>{}),ur=y(t,"onCreateFail",3,a=>{}),dr=y(t,"onEnterKey",3,a=>{}),Ar=y(t,"onFetch",3,a=>{}),fr=y(t,"onFetchError",3,a=>{}),Zr=y(t,"onInvalidValue",3,a=>{}),Ir=y(t,"prepend",3,void 0),Xr=y(t,"collapsedSelection",3,bl),$r=y(t,"selection",3,n),en=y(t,"clearIcon",3,i),g=y(t,"toggleIcon",3,yl),S=y(t,"append",3,void 0),z=y(t,"listHeader",3,void 0),V=y(t,"option",3,s),J=y(t,"createRow",3,l),le=y(t,"positionResolver",3,Ur),ve=y(t,"anchor_element",3,void 0),me=y(t,"controlClass",3,void 0),ze=y(t,"dropdownClass",3,void 0),De=y(t,"optionClass",3,void 0);function $(){zt.focus()}function We(a,c){on(a),c&&_r()}function Re(a){return Mr(!a)}function Ot(a){Ee()&&(un({init:!0,initValue:a,storedValue:Je()}),Je(!1))}const rt=o()?`sv-${o()}-select-${`${Math.random()}`.substring(2,6)}`:null;d()&&!o()&&console.warn("[Svelecte]: 'required' prop has no effect when 'name' prop is NOT set"),Ee()&&ge()&&Ge()&&!fe()&&(!_()||_()&&_().length===0)&&_(Array.isArray(ge())?ge():[ge()]),u()||u(rt?rt.replace("-select-","-input-"):`svelecte-input-${`${Math.random()}`.substring(2,12)}`);let nt=H(!1),dt=_(),Se,Et,ft=t.optionResolver?t.optionResolver(_(),new Set):Fi(_(),h(),I()),B=H(Ne(h()||jr("value",ft,w()))),pe=H(Ne(I()||jr("label",ft,w())));const Ve=cl(e(B),e(pe),T(),w());let he=H(Ne(Dn(ft,Ve))),it=H(!1),Le=K(()=>e(it)?[]:e(he));ft=void 0;let O=H(Ne(ge()?ul(e(Le),ge(),Ge(),e(B)):[]));const Y=e(O).reduce((a,c)=>(a.add(c[e(B)]),a),new Set);let vt=e(O).filter(a=>a.$created),at=H(!1),ht=H(!1),st=H(!1),be=H(!1),Tt=H(!1),ee=H(Ne(te()?0:-1)),Cr=H(!ir()),tn=null,Wn=H(void 0),M=H(""),rn=!1,U=K(()=>Object.assign({},wl.i18n,Qt()||{})),Ze=K(()=>rr()==="init"||Ee()&&Ee().includes("[query]")===!1),St=Ee()&&(ge()||D()&&ge()&&ge().length)?Ge()?fe()===!1?bn(ge()):null:JSON.parse(JSON.stringify(ge())):null,nn=null,vr=H(Ce()!==null),_t=H(!1),Fr=H(!1),an=H(100),Dr=!1,Vn=!1,zt,je,Bt,Ue=H(null),sn;yt(()=>{oa(h(),I())});let gt=K(()=>ne()!==0&&e(O).length==ne());yt(()=>{ca(_())}),yt(()=>{ge()!==void 0&&on(ge())});let hr=null,ie=K(()=>(e(O).length,e(Le).length,!e(M)&&Ee()&&!e(Ze)&&Je()?[]:hr||(e(gt)?[]:vl(e(Le),e(M),wa(e(M)),Ve,Er()||{}))));yt(()=>{let a=e(ie).length;ue()&&e(M)&&a++,a<=e(ee)&&mt(0,{asc:!ue(),desc:ue()}),da(e(gt),e(ie))}),te()&&mt(0,{asc:!0});let ln=K(()=>t.createFilter||(a=>vt.includes(a))),Kn=K(()=>t.createHandler||(({inputValue:a,labelField:c,valueField:p,prefix:A})=>({[p]:a,[c]:`${A}${a}`}))),Qn=K(()=>typeof t.renderer=="function"?t.renderer:(Mn[t.renderer]?Mn[t.renderer]:Mn.default).bind({label:e(pe)})),aa=K(()=>N()?"text":"none"),Yn=K(()=>e(O).length?"":E()),Jn=K(()=>e(O).length>0&&D()===!1?null:"enter"),sa=K(()=>e(U).aria_selected(e(O).map(a=>a[e(pe)]))),la=K(()=>{if(e(O).length&&e(O).length===ne())return e(U).max(ne());const a=Math.min(e(ee),e(ie).length-1);return Ee()?e(_t)?e(U).fetchInit:e(ie).length?e(ee)!==-1?e(U).aria_inputFocused():e(ie)[e(ee)]?e(U).aria_listActive(e(ie)[a],e(pe),e(ie).filter(c=>!c.$isGroupHeader).length):"N/A."+e(ee):Fe()>1?e(U).fetchQuery(Fe(),e(M).length):e(U).fetchBefore:e(ie).length?e(be)&&e(ee)!==-1&&!isNaN(e(ee))?e(U).aria_listActive(e(ie)[a],e(pe),e(ie).filter(c=>!c.$isGroupHeader).length):e(U).aria_inputFocused():e(M).length?e(U).nomatch:e(U).empty});function oa(a,c){e(nt)&&(a&&e(B)!==a&&(Ve.valueField=v(B,a,!0),Y.size>0&&Jt()),c&&(Ve.labelField=v(pe,c,!0)))}function ca(a){if(dt!==a){if(a=Dn(Fi(a,e(B),e(pe)),Ve),!h()){const c=jr("value",a||null,w());!h()&&e(B)!==c&&(Ve.valueField=v(B,c,!0),Y.size>0&&Jt())}if(!I()){const c=jr("label",a||null,w());!I()&&e(pe)!==c&&(Ve.labelField=c,v(pe,c,!0))}dt=a,v(he,t.optionResolver?t.optionResolver(a,Y):a,!0)}}function ua(a,c){if(D()){if(a&&c?.length===a.length&&a.length>0)return Ge()?a.every((p,A)=>p[e(B)]===c[A][e(B)]):a.every((p,A)=>p===c[A])}else if(c&&a)return Ge()?c[e(B)]===a[e(B)]:c===a;return!1}function on(a,c){if(ua(Se,a)&&!c?.skipEqualityCheck)return;const p=Array.isArray(a)&&a.length||D()===!1;if(a!==null&&p){if((D()&&!Array.isArray(a)||!D()&&Array.isArray(a))&&console.warn(`[Svelecte]: Passed 'value' property should ${D()?"be":"NOT be"} an array`),St&&(!Array.isArray(St)||St.length))return;const A=Array.isArray(a)?a:[a],x=[],q=A.reduce((Z,oe)=>{if(Ge()&&(!fe()||ue()&&oe.$created))return Z.push(Object.fromEntries(Object.entries(oe))),Z;let ye=e(Le).find(pt=>Ge()?pt[e(B)]==oe[e(B)]:pt[e(B)]==oe);return!ye&&!fe()&&(ye=t.createHandler?e(Kn)({inputValue:oe,valueField:e(B),labelField:e(pe),prefix:Ft()}):{[e(B)]:oe,[e(pe)]:oe}),ye&&(Y.has(ye[e(B)])||Z.push(ye),x.push(ye[e(B)])),Z},[]);if(e(O).forEach(Z=>!x.includes(Z[e(B)])&&Xn(Z)),!(q.every(cn)&&(D()?Y.size===A.length:Y.size===1))){console.warn('[Svelecte]: provided "value" property is invalid',a),Ge()&&fe()&&Ee()&&console.warn("[Svelecte]: with 'fetch' and 'valueAsObject' set make sure 'strictMode' is set to false to be to set initial value"),Jt(),Se=D()?[]:null,ge(Se),lr(Se),Zr()(a);return}}else Jt();Se=bn(a),D()&&!Array.isArray(a)&&(Se=[],ge(Se)),lr(Mr(!0))}function Mr(a){const c=a!==!0,p=e(O).map(A=>{if(c)return A[e(B)];const x={};for(let[q,ae]of Object.entries(A))q[0]!=="$"&&(x[q]=ae);return x});return D()?p:p.length?p.shift():null}yt(()=>{if(He()!==void 0&&Et!==He()||He()===void 0&&Et!==He()){const a=He()===void 0?!1:!He();Jt(),ge(D()?[]:null),f(a)}Et=He(),Vn=He()!==void 0});function Ke(a){a&&!e(ht)&&v(ht,!0);const c=e(Cr);!e(Cr)&&a&&v(Cr,!0),v(be,a,!0),Qe().then(()=>{if(!c&&Pe())return Qe()}).then(()=>{le()===Ur&&Ci(a,e(Ue)),a&&(te()&&(e(O).length===0||D())&&mt(0,{asc:!0}),!D()&&e(O).length&&v(ee,e(Le).findIndex(p=>p[e(B)]===e(O)[0][e(B)]),!0),Hr({container:Bt,scrollContainer:e(Ue),virtualList:Pe(),center:!1},e(ee))),Qe().then(()=>v(Tt,a,!0))}),tn||(tn=()=>le()===Ur&&Ci(a,e(Ue))),document[a?"addEventListener":"removeEventListener"]("scroll",tn,{passive:!0})}function da(a,c){if(!(Ee()&&!e(Ze))){if(a){v(At,e(U).max(ne()),!0);return}v(At,c.length!==e(Le).length&&e(O).length!==e(Le).length?ue()?e(U).emptyCreatable:e(U).nomatch:ue()?e(U).emptyCreatable:e(U).empty,!0)}}function _r(){const a=Mr(!0),c=Mr(!1);Se=Ge()?a:c,ge(Se),lr(a),Qe().then(()=>{or()(Jr()?c:a),je&&je.dispatchEvent(new Event("change"))})}function gr(a,c){if(c=c||a.detail,!(f()||c[j()]||c.$isGroupHeader)){if(!c||D()&&e(gt))return!1;if(Y.has(c[e(B)]))return!D()&&se()!=="toggle"?void 0:Or(c);if(typeof c=="string"){if(!ue()||(c=Cn(c),vt.includes(c)||Y.has(c)))return;v(Fr,!0),Promise.resolve().then(()=>e(Kn)({inputValue:c,valueField:e(B),labelField:e(pe),prefix:Ft()})).then(p=>{v(Fr,!1),!Ee()&&vt.push(c),p.$created=!0,tr()&&(e(he).push(p),p=e(he)[e(he).length-1]),Sr()(p),cn(p),Zn(),_r()}).catch(p=>{v(Fr,!1),ur()({input:c,error:p})});return}cn(c),Zn(),_r()}}function Zn(){(D()&&C()||!D())&&v(M,""),(L()===!0||L()==="auto"&&!D())&&Ke(!1),ne()&&e(O).length==ne()&&v(ee,0)}function cn(a){if(a.$selected=!0,D())e(O).push(a),Y.add(a[e(B)]);else{const c=e(O).shift();c&&(c.$selected=!1),v(O,[a],!0),Y.clear(),Y.add(a[e(B)]),Qe().then(()=>{const p=e(Le).indexOf(a);v(ee,p<0?0:p,!0)})}return t.optionResolver&&Qe().then(()=>{v(he,t.optionResolver(_(),Y),!0)}),!0}function Or(a=null,c){f()||(a?(Xn(a,c),Ye()!==!0&&Qe().then(()=>Hr({scrollContainer:e(Ue),container:Bt,virtualList:Pe(),center:!1},e(ee)))):Jt(),_r())}function Xn(a,c){if(a.$created){if(!tr()){vt.splice(vt.findIndex(x=>x===a[e(B)]),1);const A=e(he).findIndex(x=>x[e(B)]===a[e(B)]);A!==-1&&e(he).splice(A,1),v(he,e(he),!0)}c&&er()&&v(M,a[e(pe)].replace(Ft(),""),!0)}a.$selected=!1;const p=a[e(B)];if(Y.delete(p),e(O).splice(e(O).findIndex(A=>A[e(B)]==p),1),t.optionResolver){v(he,t.optionResolver(_(),Y),!0);return}Ee()&&!e(Ze)&&Je()&&v(it,!0)}function Jt(){if(!(Y.size===0||!D()&&se()==="none")){if(Y.clear(),v(O,e(O).reduce((a,c)=>(c.$selected=!1,[]),[]),!0),tr()||(vt=[]),e(M)&&v(M,""),t.optionResolver){v(he,t.optionResolver(_(),Y),!0);return}Ee()&&!e(Ze)&&Je()&&v(it,!0)}}function fa(a){a.preventDefault(),!vt.includes(e(M))&&gr(null,e(M))}function va(a){if(ue()&&Dt().indexOf(a.key)>-1){e(M).length>0&&gr(null,e(M)),a.preventDefault();return}const c=W()&&e(be)&&!a.shiftKey?"Tab":"No-tab";let p=nn?a.metaKey:a.ctrlKey,A=["PageUp","PageDown"].includes(a.key),x=!1,q=!1;switch(a.key){case"End":if(e(M).length!==0)return;mt(e(ie).length,{desc:!0});case"PageDown":if(A){const[oe,ye]=dn();v(ee,Math.min(Math.ceil((ye*e(ee)+oe)/ye),e(ie).length+(ue()&&e(M)?1:0)),!0)}case"ArrowUp":if(a.preventDefault(),!e(be)){Ke(!0);return}mt(e(ee)-1,{desc:!0}),Qe().then(()=>Hr({scrollContainer:e(Ue),container:Bt,virtualList:Pe(),center:!1},e(ee)));break;case"Home":if(q=!0,e(M).length!==0||e(M).length===0&&e(ie).length===0)return;mt(0,{asc:!0});case"PageUp":if(A){const[oe,ye]=dn();v(ee,Math.floor((ye*e(ee)-oe)/ye),!0)}case"ArrowDown":if(a.preventDefault(),!e(be)){Ke(!0);return}const ae=e(ee)===null?-1:e(ee);!q&&mt(ae+1,{asc:!0}),Qe().then(()=>Hr({scrollContainer:e(Ue),container:Bt,virtualList:Pe(),center:!1},e(ee)));break;case"Escape":e(be)&&(a.preventDefault(),a.stopPropagation()),e(M)||Ke(!1),v(M,"");break;case c:case"Enter":if(!e(be)){a.key!==c&&dr()(a);return}let Z=p?null:e(ie)[e(ee)];if(ue()&&!Z&&e(M)){const oe=e(ln)(Cn(e(M)));Z=!Z||p?Cn(e(M)):Z,p=oe}if(!p&&Z&&gr(null,Z),e(ie).length<=e(ee)&&mt(e(ie).length-1),!Z&&e(O).length){Ke(!1),a.key!==c&&dr()(a);return}(a.key!==c||a.key===c&&W()!=="select-navigate")&&a.preventDefault();break;case" ":!Ee()&&!e(be)&&(Ke(!0),a.preventDefault());break;case"Backspace":if(Ce()==="always")return;x=!0;case"Delete":if(e(M)===""&&e(O).length){if(!D()&&se()==="none")return;p?Or():Or(e(O)[e(O).length-1],x),a.preventDefault()}default:!p&&!["Tab","Shift"].includes(a.key)&&!e(be)&&!e(_t)&&Ke(!0)}}function $n(a){if(f())return;const c=a.target.closest("[data-action]");if(e(ht)||v(ht,!0),c?.dataset.action==="default")return;a.preventDefault();const p=a.target.closest("[data-pos]");if(!c&&!p)return xa(a.target);switch(c?.dataset.action||"select"){case"deselect":let x=c.bound_item;if(!x){const ae=c.dataset.id;x=e(O).filter(Z=>Z[e(B)]==ae).shift()}Or(x),x&&!e(at)&&zt.focus();break;case"select":const q=parseInt(p.dataset.pos);gr(null,e(ie)[q]);break;case"toggle":Ke(!e(be));break}}function ha(a){if(nl()&&!e(Jn)&&a.key==="Enter")return!0;rn=["Enter","Escape"].includes(a.key)&&e(be),va(a)}function _a(a){rn&&(a.stopImmediatePropagation(),a.preventDefault()),rn=!1}function ga(){v(at,!0),Ke(e(ht)),e(st)||v(st,!0),Ce()==="blur"&&!Dr&&setTimeout(()=>{v(vr,!1)},100),Yt()(zt)}function ma(){v(at,!1),Ke(!1),v(ht,!1),m()?v(M,""):Rt&&!e(Ze)&&Rt.abort("blur"),Ce()==="blur"&&!Dr&&setTimeout(()=>{v(vr,!0)},100),cr()(zt)}function pa(a){if(ue()){a.preventDefault();const c=new RegExp("([^"+Dt()+"\\n]+)","g"),p=a.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),A=p.match(c);A.length===1&&p.indexOf(",")===-1&&v(M,A.pop().trim(),!0),A.forEach(x=>gr(null,x.trim()))}}function ei(a){Dr=a.type==="consider",v(O,a.detail.items,!0),Dr||(_r(),Ce()==="blur"&&setTimeout(()=>{v(vr,!0)},200))}let Rt,Tr;yt(()=>{ya(e(M))}),yt(()=>{ba(Ee(),He())});let At=H(Ne(Ee()?e(Ze)?e(U).fetchInit:Fe()>1?e(U).fetchQuery(Fe(),0):e(U).fetchBefore:ue()?e(U).emptyCreatable:e(U).empty));function ba(a,c){if(!a){Tr=null;return}(e(Ze)||St)&&(v(_t,!0),un({init:!0})),Tr=Zs(un,nr())}function ya(a){if(e(Ze)||e(gt)){v(At,e(gt)?e(U).max(ne()):e(U).fetchInit,!0);return}Tr&&(Rt?.abort(),v(_t,!0),e(M).length<Fe()&&v(_t,!1),!t.optionResolver&&Je()&&(hr=[]),v(Tt,a.length>=Fe()?ue():!0,!0),v(At,e(gt)?e(U).max(ne()):Fe()<=1?e(U).fetchBefore:e(U).fetchQuery(Fe(),a.length),!0),Tr())}function un(a={}){if(Rt?.abort(),a.init!==!0&&!e(M).length||Vn&&!He()){v(_t,!1),Je()&&v(he,t.optionResolver?t.optionResolver(_(),Y):[],!0);return}if(e(M)&&e(M).length<Fe()){v(_t,!1);return}e(Ze)&&Se&&(!D()||Se?.length>0)&&(St=Se);const c=bn(St||a.initValue);let p;if(c&&(p=Ge()?D()?c.map(x=>x[e(B)]):c[e(B)]:c),e(Ze))v(At,e(U).fetchInit,!0);else if(c&&t.optionResolver){St=null,v(At,Fe()>1?e(U).fetchQuery(Fe(),e(M).length):e(U).fetchBefore,!0);return}const A=G.requestFactory(e(M),{parentValue:He(),url:Ee(),initial:p},typeof Mt()=="function"?Mt()():Mt());Rt?.abort(),Rt=A.controller,window.fetch(A.request).then(x=>x.json()).then(x=>(!Array.isArray(x)&&x?.error&&fr()(x.error),Promise.resolve(Kt()?Kt()(x):x.data||x.items||x.options||x).then(q=>{Array.isArray(q)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",q),q=[]),v(it,!1),hr=null,v(he,Dn(q,Ve),!0),Ar()(q),c&&(St=null,on(c,{skipEqualityCheck:!0}),"storedValue"in a&&Je(a.storedValue))}))).catch(x=>{if(x instanceof DOMException&&x.name==="AbortError")return!0;hr=null,v(he,[],!0),fr()(x),console.warn("[Svelecte] Fetch Error:",x)}).then(x=>{x!==!0&&(v(At,e(Ze)?e(U).empty:c?Fe()>1?e(U).fetchQuery(Fe(),0):e(U).fetchBefore:e(U).fetchEmpty,!0),Rt=null,v(_t,!1),e(at)&&Ke(!0),e(be)&&!e(Tt)&&v(Tt,!0))})}function wa(a){return Ye()?Ye()===!0?a?Y:null:a||D()?Y:null:Y}function mt(a,c={},p=0){const A=ue()&&e(M)?e(ie).length+1:e(ie).length;if(!(p>=2)){if(a<0&&(a=c.desc?A-1:0),(e(ee)===null&&te()||a>=A)&&(a=0),e(ie)[a]?.$isGroupHeader){mt(c.asc?a+1:a-1,c,++p);return}v(ee,a,!0)}}function xa(a){if(!f()){if(!e(at)){zt.focus();return}a.tagName==="INPUT"&&e(M)||Ke(!e(be))}}function dn(){return Pe()?[Fn(e(Ue),"maxHeight")-Fn(e(Ue),"paddingTop")-Fn(e(Ue),"paddingBottom"),sn?.resolveItemSize()]:[e(Ue).offsetHeight,Bt.firstElementChild.offsetHeight]}Un(()=>{v(nt,!0),nn=navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone",v(Wn,nn?"âŒ˜":"Ctrl",!0),ve()&&(je=document.getElementById(ve()),je.className="sv-hidden-element",je.innerHTML="",je.tabIndex=-1,je.disabled=f(),je.required=d(),je.multiple=D(),!D()&&je.insertAdjacentHTML("beforeend",'<option value="" selected>Empty</option>'),Y.forEach(a=>{je.insertAdjacentHTML("beforeend",`<option value=${a} selected>${a}</option>`)})),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&v(an,0)});var ka={focus:$,setSelection:We,getSelection:Re,refetchWith:Ot},zr=Gl();let ti;var fn=k(zr),Ea=k(fn);{var Sa=a=>{var c=Ml(),p=Me(c),A=k(p,!0);b(p);var x=P(p,2),q=k(x,!0);b(x),ce(()=>{we(A,e(sa)),we(q,e(la))}),R(a,c)};de(Ea,a=>{e(at)&&a(Sa)})}b(fn);var ri=P(fn,2);{var Aa=a=>{var c=Tl();xt(c,21,()=>e(O),p=>p[e(B)],(p,A)=>{var x=Ol(),q=k(x,!0);b(x);var ae={};ce(()=>{we(q,e(A)[e(B)]),ae!==(ae=e(A)[e(B)])&&(x.value=(x.__value=e(A)[e(B)])??"")}),R(p,x)}),b(c),Ut(c,p=>je=p,()=>je),ce(()=>{Oe(c,"name",o()),c.required=d(),c.multiple=D(),c.disabled=f(),Oe(c,"id",rt)}),R(a,c)};de(ri,a=>{o()&&!ve()&&a(Aa)})}var Zt=P(ri,2);Zt.__mousedown=[Di],Zt.__click=$n;var ni=k(Zt);{var Ia=a=>{var c=qe(),p=Me(c);tt(p,Ir),R(a,c)};de(ni,a=>{Ir()&&a(Ia)})}var Lt=P(ni,2);let ii;var ai=k(Lt);{var Ca=a=>{var c=qe(),p=Me(c);tt(p,Xr,()=>e(O),()=>e(U)),R(a,c)},Fa=a=>{var c=qe(),p=Me(c);{var A=x=>{var q=qe(),ae=Me(q);tt(ae,$r,()=>e(O),()=>_l),R(x,q)};de(p,x=>{e(O).length&&x(A)},!0)}R(a,c)};de(ai,a=>{e(O).length&&D()&&e(vr)?a(Ca):a(Fa,!1)})}var vn=P(ai,2),Ae=k(vn);Yi(Ae);let si;Ae.__keydown=ha,Ae.__keyup=_a,Ae.__input=[xl,O,D],Ut(Ae,a=>zt=a,()=>zt),b(vn),b(Lt),wn(Lt,(a,c)=>Te()?.(a,c),()=>({items:e(O),flipDurationMs:e(an),type:u(),dragDisabled:e(vr)}));var Br=P(Lt,2);let li;var oi=k(Br);{var Da=a=>{var c=zl();let p;var A=k(c);tt(A,en,()=>e(O),()=>e(M)),b(c),ce(x=>p=xe(c,1,"sv-btn-indicator svelte-d96dy0",null,p,x),[()=>({"sv-has-selection":e(O).length})]),R(a,c)};de(oi,a=>{Q()&&!f()&&a(Da)})}var ci=P(oi,2);{var Ma=a=>{var c=Bl();R(a,c)};de(ci,a=>{Q()&&a(Ma)})}var hn=P(ci,2);let ui;var Oa=k(hn);tt(Oa,g,()=>e(be)),b(hn),b(Br);var Ta=P(Br,2);{var za=a=>{var c=qe(),p=Me(c);tt(p,S),R(a,c)};de(Ta,a=>{S()&&a(za)})}b(Zt);var Xt=P(Zt,2);let di;Xt.__mousedown=[Di],Xt.__click=$n;var Ba=k(Xt);{var Ra=a=>{var c=ql(),p=Me(c);{var A=re=>{var _e=qe(),Ie=Me(_e);tt(Ie,z),R(re,_e)};de(p,re=>{z()&&re(A)})}var x=P(p,2);let q;var ae=k(x);let Z;var oe=k(ae);{var ye=re=>{{const _e=(Xe,It=ke)=>{const lt=K(()=>e(ie)[It()]||{});var Rr=qe(),Pt=Me(Rr);{var Lr=Ct=>{var $e=Rl(),Ht=k($e),ot=k(Ht,!0);b(Ht),b($e),ce(()=>we(ot,e(lt).label)),R(Ct,$e)},Nr=Ct=>{var $e=Ll();let Ht;var ot=k($e);tt(ot,V,()=>e(lt),()=>e(M)),b($e),ce(et=>{Oe($e,"data-pos",It()),Ht=xe($e,1,`sv-item--wrap in-dropdown ${De()??""}`,"svelte-d96dy0",Ht,et)},[()=>({"sv-dd-item-active":e(ee)===It(),"is-selected":e(lt).$selected||Y.has(e(lt)[e(B)]),"is-disabled":e(lt)[j()]})]),R(Ct,$e)};de(Pt,Ct=>{e(lt).$isGroupHeader?Ct(Lr):Ct(Nr,!1)})}R(Xe,Rr)};let Ie=K(()=>dn().shift()),bt=K(()=>e(ie).length||0);Ut(pl(re,{get maxHeight(){return e(Ie)},get itemHeight(){return ar()},get itemCount(){return e(bt)},get scrollToIndex(){return e(ee)},children:_e,$$slots:{default:!0}}),Xe=>sn=Xe,()=>sn)}},pt=re=>{var _e=qe(),Ie=Me(_e);{var bt=Xe=>{var It=qe(),lt=Me(It);xt(lt,17,()=>e(ie),xr,(Rr,Pt,Lr)=>{var Nr=qe(),Ct=Me(Nr);{var $e=ot=>{var et=Nl(),br=k(et),gn=k(br,!0);b(br),b(et),ce(()=>we(gn,e(Pt).label)),R(ot,et)},Ht=ot=>{var et=Pl();Oe(et,"data-pos",Lr);let br;var gn=k(et);tt(gn,V,()=>e(Pt),()=>e(M)),b(et),ce(La=>br=xe(et,1,`sv-item--wrap in-dropdown ${De()??""}`,"svelte-d96dy0",br,La),[()=>({"sv-dd-item-active":e(ee)===Lr,"is-selected":e(Pt).$selected,"is-disabled":e(Pt)[j()]})]),R(ot,et)};de(Ct,ot=>{e(Pt).$isGroupHeader?ot($e):ot(Ht,!1)})}R(Rr,Nr)}),R(Xe,It)};de(Ie,Xe=>{Pe()===!1&&Xe(bt)},!0)}R(re,_e)};de(oe,re=>{Pe()&&e(Ue)?re(ye):re(pt,!1)})}var mr=P(oe,2);{var pr=re=>{var _e=Hl(),Ie=k(_e),bt=k(Ie),Xe=k(bt,!0);b(bt),b(Ie),b(_e),ce(()=>{xe(Ie,1,`sv-item--wrap in-dropdown ${De()??""}`,"svelte-d96dy0"),we(Xe,e(At))}),R(re,_e)};de(mr,re=>{(e(ie).length===0&&(!ue()||!e(M))||e(gt))&&re(pr)})}b(ae),Ut(ae,re=>Bt=re,()=>Bt),b(x),Ut(x,re=>v(Ue,re),()=>e(Ue));var _n=P(x,2);{var Nt=re=>{var _e=Ul(),Ie=k(_e);let bt;Ie.__click=fa,Ie.__mousedown=[jl];var Xe=k(Ie);tt(Xe,J,()=>e(Fr),()=>e(M),()=>e(U)),b(Ie),b(_e),ce((It,lt)=>{bt=xe(Ie,1,"creatable-row svelte-d96dy0",null,bt,It),Ie.disabled=lt},[()=>({active:(e(ie).length?e(ie).length:0)===e(ee),"is-disabled":e(ln)(e(M))}),()=>e(ln)(e(M))]),R(re,_e)};de(_n,re=>{ue()&&e(M)&&!e(gt)&&re(Nt)})}ce((re,_e)=>{q=xe(x,1,"sv-dropdown-scroll svelte-d96dy0",null,q,re),Z=xe(ae,1,"sv-dropdown-content",null,Z,_e)},[()=>({"has-items":e(ie).length>0,"is-virtual":Pe()}),()=>({"max-reached":e(gt)})]),R(a,c)};de(Ba,a=>{e(nt)&&e(Cr)&&a(Ra)})}return b(Xt),wn(Xt,a=>le()?.(a)),b(zr),ce((a,c,p,A,x,q)=>{ti=xe(zr,1,ps(["svelecte",sr()]),"svelte-d96dy0",ti,a),xe(Zt,1,`sv-control ${me()??""}`,"svelte-d96dy0"),ii=xe(Lt,1,"sv-control--selection svelte-d96dy0",null,ii,c),Oe(vn,"data-value",e(M)||e(Yn)),si=xe(Ae,1,"sv-input--text svelte-d96dy0",null,si,p),Oe(Ae,"id",u()),Oe(Ae,"placeholder",e(M)?"":e(Yn)),Oe(Ae,"inputmode",e(aa)),Ae.readOnly=!N(),Oe(Ae,"enterkeyhint",e(Jn)),Ae.disabled=f(),Oe(Ae,"aria-label",e(U).aria_label),Oe(Ae,"aria-describedby",e(U).aria_describedby),li=xe(Br,1,"sv-buttons svelte-d96dy0",null,li,A),ui=xe(hn,1,"sv-btn-indicator svelte-d96dy0",null,ui,x),di=xe(Xt,1,`sv_dropdown ${ze()??""} `,"svelte-d96dy0",di,q)},[()=>({"is-required":d(),"is-empty":e(O).length===0,"is-invalid":d()&&e(O).length===0,"is-tainted":e(st),"is-valid":d()?e(O).length>0:!0,"is-focused":e(at),"is-open":e(be),"is-disabled":f()}),()=>({"is-single":D()===!1,"has-items":e(O).length>0,"has-input":e(M).length}),()=>({"keep-value":!m()}),()=>({"is-loading":e(_t)}),()=>({"sv-dropdown-opened":e(be)}),()=>({"is-open":e(Tt)})]),wt("consider",Lt,ei),wt("finalize",Lt,ei),wt("focus",Ae,ga),wt("blur",Ae,ma),wt("paste",Ae,pa),Xi(Ae,()=>e(M),a=>v(M,a)),R(r,zr),Gn(ka)}Oi(["mousedown","click","keydown","keyup","input"]);function Mi(r,t){e(t).show&&v(t,{...e(t),x:r.clientX,y:r.clientY},!0)}function Vl(r,t,n){const i=$i(e(t));n(i)}function Kl(r,t,n,i,s){e(t)>0&&(v(t,e(t)-1),v(n,e(i)[e(t)],!0),s(e(n)))}function Ql(r,t,n,i,s){e(t)<e(n).length-1&&(v(t,e(t)+1),v(i,e(n)[e(t)],!0),s(e(i)))}function Yl(r,t,n){r.key==="Enter"&&t(e(n))}var Jl=(r,t)=>v(t,!e(t)),Zl=(r,t)=>t("disk"),Xl=(r,t)=>t("size"),$l=(r,t)=>t("count"),eo=X(`<div class="flex flex-col divide-y divide-gray-500 absolute w-24 rounded border
           border-gray-500 bg-gray-800 shadow-lg z-20 overflow-hidden mt-1"><button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Disk</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Size</button> <button class="w-full text-left px-3 py-2 hover:bg-gray-700">By Count</button></div>`),to=X('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),ro=X('<div class="relative p-3 bg-gray-800 border border-gray-600 rounded-lg animate-pulse min-h-16 h-16"><div class="flex items-center justify-between gap-4"><div class="h-4 bg-gray-700 rounded w-3/4"></div> <div class="h-3 bg-gray-700 rounded w-12"></div></div> <div class="flex gap-2 mt-2"><div class="h-3 bg-gray-700 rounded w-16"></div> <div class="h-3 bg-gray-700 rounded w-20"></div> <div class="h-3 bg-gray-700 rounded w-24"></div></div></div>'),no=X('<div class="flex flex-col gap-2 overflow-y-auto"></div>'),io=(r,t,n)=>t(e(n).path),ao=X('<div class="h-full transition-all duration-300 min-w-[0.5px] hover:opacity-90"></div>'),so=X('<div class="relative px-2 py-1 cursor-pointer hover:opacity-95 bg-gray-700 border border-gray-600 rounded-lg overflow-hidden min-h-16"><div class="absolute left-0 top-0 bottom-0 flex z-0"></div> <div class="flex flex-col gap-2 relative z-10 pointer-events-none"><div class="flex items-center justify-between gap-4"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"><span> </span></div> <span class="text-nowrap font-bold"> </span></div> <div class="flex justify-end"><p class="text-xs text-gray-300"> </p></div></div></div>'),lo=X('<div class="flex"><span class="material-symbols-outlined text-4xl">subdirectory_arrow_right</span> <div class="flex grow relative px-2 py-1 bg-gray-700 border-gray-600 rounded overflow-hidden text-xs"><div class="flex flex-col w-full"><div class="absolute left-0 top-0 bottom-0 z-0 opacity-60"></div> <div class="relative z-10 flex items-center justify-between gap-1"><div class="w-full overflow-hidden text-ellipsis whitespace-nowrap"> </div> <div class="flex items-center gap-4 text-sm font-semibold text-nowrap"> </div></div> <div class="relative z-10 flex justify-end text-gray-300"> </div></div></div></div>'),oo=X('<div class="flex flex-col gap-2 overflow-y-auto transition-opacity duration-200 p-4"><!> <!></div>'),co=X('<div class="fixed z-50 pointer-events-none"><div class="relative rounded-xl border border-white/10 bg-black/90 text-white shadow-xl px-3 py-2"><div class="flex items-center justify-between gap-3"><div class="font-medium text-sm truncate max-w-[180px]"> </div> <div class="text-xs opacity-80"> </div></div> <div class="text-xs opacity-90 mt-1"> </div> <div class="absolute left-1/2 top-full -translate-x-1/2 mt-[-4px]"><div class="w-2 h-2 rotate-45 bg-black/90 border border-white/10 border-l-0 border-t-0"></div></div></div></div>'),uo=X('<div class="flex flex-col h-screen min-h-0 gap-2 p-2"><div class="flex gap-2 items-center relative"><button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_back_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_forward_ios</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">arrow_upward</span></div></button> <button class="btn"><div class="flex items-center"><span class="material-symbols-outlined">refresh</span></div></button> <div class="relative"><button class="btn w-24"><div class="flex items-center gap-2"><span class="material-symbols-outlined">sort</span> </div></button> <!></div>  <!></div> <div class="flex"><input placeholder="Path..." class="grow"/></div> <div><div class="relative px-2 bg-gray-700 border border-gray-600 rounded overflow-hidden"><div class="absolute left-0 top-0 bottom-0 flex z-0" style="width: 100%"></div> <div class="relative z-10 pointer-events-none"><div class="flex items-center justify-end"><p class="text-xs"> </p></div></div></div></div> <!> <div class="grow"></div></div> <!>',1);function go(r,t){qn(t,!0);let n=H("/"),i=H(Ne([])),s=H(Ne([])),l=H(!1),o=H(Ne([e(n)])),u=H(0),d=H("disk"),f=H(!1),_=H("All Users"),h=H(Ne([])),I=Ne(new Map);function T(g){if(!g)return"/";let S=g.replace(/\\/g,"/");return S!=="/"&&(S=S.replace(/\/+$/,"")),S.startsWith("/")||(S="/"+S),S||"/"}function w(g){g.forEach((S,z)=>{I.has(S)||I.set(S,Pr[z%Pr.length])})}function j(g){const S=I.get(g);if(S)return S;let z=0;for(let J=0;J<g.length;J++)z=z*31+g.charCodeAt(J)>>>0;const V=Pr[z%Pr.length];return I.set(g,V),V}let E=H(Ne({show:!1,x:0,y:0}));function N(g,S,z){v(E,{show:!0,x:g.clientX,y:g.clientY,username:S.username,value:se(S),percent:Math.round(z*10)/10},!0)}function Q(){v(E,{show:!1,x:0,y:0},!0)}const F=g=>{const S=Number(g);return Number.isFinite(S)?S:0},te=K(()=>{const g=e(d);return(e(i)?[...e(i)]:[]).sort((z,V)=>{let J,le;switch(g){case"disk":J=F(z?.total_disk),le=F(V?.total_disk);break;case"size":J=F(z?.total_size),le=F(V?.total_size);break;case"count":J=F(z?.total_count),le=F(V?.total_count);break}return le-J})});let W=K(()=>{const g=e(d),S=e(i)?.map(V=>{switch(g){case"disk":return F(V?.total_disk);case"size":return F(V?.total_size);case"count":return F(V?.total_count)}})??[],z=Math.max(0,...S);return z>0?z:1});const m=g=>{const z=F(g)/e(W)*100,V=Math.max(0,Math.min(100,z));return Math.round(V*10)/10},C=g=>{switch(e(d)){case"disk":return F(g?.total_disk);case"size":return F(g?.total_size);case"count":return F(g?.total_count)}};function L(g){switch(e(d)){case"disk":return ct(F(g?.total_disk));case"size":return ct(F(g?.total_size));case"count":return F(g?.total_count).toLocaleString()}}function se(g){switch(e(d)){case"disk":return ct(F(g?.disk));case"size":return ct(F(g?.size));case"count":return F(g?.count).toLocaleString()}}const Te=g=>e(d)==="disk"?Number(g.disk):e(d)==="size"?Number(g.size):Number(g.count);function fe(g){return Object.entries(g?.users??{}).sort(([,S],[,z])=>Te(S)-Te(z))}function D(g,S){let z=0,V=0,J=0,le="";const ve={};for(const me of g??[]){z+=F(me?.total_count),V+=F(me?.total_size),J+=F(me?.total_disk),typeof me?.modified=="string"&&me.modified&&(!le||me.modified>le)&&(le=me.modified);const ze=me?.users??{};for(const[De,$]of Object.entries(ze)){const We=String(De),Re=ve[We]??{username:$?.username||We,count:0,size:0,disk:0};ve[We]={username:Re.username,count:Re.count+F($?.count),size:Re.size+F($?.size),disk:Re.disk+F($?.disk)}}}return{path:S,total_count:z,total_size:V,total_disk:J,modified:le,users:ve}}const ne=K(()=>D(e(i),e(n)));function Ce(g){switch(e(d)){case"disk":case"size":return F(g.size);case"count":return 1}}const Ye=K(()=>(e(s)?[...e(s)]:[]).sort((S,z)=>Ce(z)-Ce(S))),ue=K(()=>{const g=e(s)?.map(z=>Ce(z))??[],S=Math.max(0,...g);return S>0?S:1}),Ft=g=>Math.round(Ce(g)/e(ue)*1e3)/10;function er(g){switch(e(d)){case"disk":case"size":return ct(F(g.size));case"count":return"1"}}function tr(g){let S=!1,z=null;return async(...V)=>{if(z=V,!S){S=!0;try{for(;z;){const J=z;z=null,await g(...J)}}finally{S=!1}}}}const Dt=tr(async g=>{v(l,!0);try{const S=e(_)==="All Users"?[]:[e(_)];v(i,await In.getFolders(e(n),S),!0),v(s,await In.getFiles(e(n),S),!0),e(h)&&e(h).length>0&&w(e(h))}finally{v(l,!1)}});function Ee(g){e(o)[e(u)]!==g&&(v(o,e(o).slice(0,e(u)+1),!0),e(o).push(g),v(u,e(o).length-1))}function Mt(g){v(d,g,!0),v(f,!1)}function rr(g){v(n,T(g),!0),Ee(e(n)),Dt(e(n))}function Kt(){Dt(e(n))}Un(async()=>{console.log("api url:",ea),v(h,await In.getUsers(),!0),e(h).splice(0,0,"All Users"),v(_,"All Users"),w(e(h)),await Kt()});var Je=uo(),nr=Me(Je),Fe=k(nr),ir=k(Fe);ir.__click=[Kl,u,n,o,Dt];var Pe=P(ir,2);Pe.__click=[Ql,u,o,n,Dt];var ar=P(Pe,2);ar.__click=[Vl,n,rr];var Er=P(ar,2);Er.__click=Kt;var sr=P(Er,2),Qt=k(sr);Qt.__click=[Jl,f];var ge=k(Qt),lr=P(k(ge));b(ge),b(Qt);var Jr=P(Qt,2);{var Ge=g=>{var S=eo(),z=k(S);z.__click=[Zl,Mt];var V=P(z,2);V.__click=[Xl,Mt];var J=P(V,2);J.__click=[$l,Mt],b(S),R(g,S)};de(Jr,g=>{e(f)&&g(Ge)})}b(sr);var He=P(sr,2);Wl(He,{get options(){return e(h)},onChange:Kt,class:"z-20 min-w-20 h-10 border rounded border-gray-600 bg-gray-800 text-white",get value(){return e(_)},set value(g){v(_,g,!0)}}),b(Fe);var or=P(Fe,2),Yt=k(or);Yi(Yt),Yt.__keydown=[Yl,rr,n],b(or);var cr=P(or,2),Sr=k(cr),ur=k(Sr);xt(ur,21,()=>fe(e(ne)),([g,S])=>g,(g,S)=>{var z=K(()=>gi(e(S),2));let V=()=>e(z)[0],J=()=>e(z)[1];const le=K(()=>e(d)==="disk"?J().disk:e(d)==="size"?J().size:J().count),ve=K(()=>e(d)==="disk"?e(ne).total_disk:e(d)==="size"?e(ne).total_size:e(ne).total_count),me=K(()=>e(ve)>0?e(le)/e(ve)*100:0);var ze=to();ze.__mousemove=[Mi,E],ce((De,$)=>{qt(ze,`width: ${e(me)??""}%; background-color: ${De??""};`),Oe(ze,"aria-label",$)},[()=>j(V()),()=>`${J().username}: ${se(J())}`]),wt("mouseenter",ze,De=>N(De,J(),e(me))),wt("mouseleave",ze,Q),R(g,ze)}),b(ur);var dr=P(ur,2),Ar=k(dr),fr=k(Ar),Zr=k(fr);b(fr),b(Ar),b(dr),b(Sr),b(cr);var Ir=P(cr,2);{var Xr=g=>{var S=qe(),z=Me(S);{var V=le=>{var ve=no();xt(ve,20,()=>Array(6),xr,(me,ze)=>{var De=ro();R(me,De)}),b(ve),R(le,ve)},J=le=>{var ve=oo(),me=k(ve);xt(me,17,()=>e(te),xr,(De,$)=>{var We=so();We.__click=[io,rr,$];var Re=k(We);xt(Re,21,()=>fe(e($)),xr,(he,it)=>{var Le=K(()=>gi(e(it),2));let O=()=>e(Le)[0],Y=()=>e(Le)[1];const vt=K(()=>e(d)==="disk"?Y().disk:e(d)==="size"?Y().size:Y().count),at=K(()=>e(d)==="disk"?e($).total_disk:e(d)==="size"?e($).total_size:e($).total_count),ht=K(()=>e(at)>0?e(vt)/e(at)*100:0);var st=ao();st.__mousemove=[Mi,E],ce((be,Tt)=>{qt(st,`width: ${e(ht)??""}%; background-color: ${be??""};`),Oe(st,"aria-label",Tt)},[()=>j(O()),()=>`${Y().username}: ${se(Y())}`]),wt("mouseenter",st,be=>N(be,Y(),e(ht))),wt("mouseleave",st,Q),R(he,st)}),b(Re);var Ot=P(Re,2),rt=k(Ot),nt=k(rt),dt=k(nt),Se=k(dt,!0);b(dt),b(nt);var Et=P(nt,2),ft=k(Et,!0);b(Et),b(rt);var B=P(rt,2),pe=k(B),Ve=k(pe);b(pe),b(B),b(Ot),b(We),ce((he,it,Le,O)=>{qt(Re,`width: ${he??""}%`),we(Se,e($).path),we(ft,it),we(Ve,`folders: ${e($).total_count??""} â€¢ Size: ${Le??""} â€¢ Disk:
                ${O??""} â€¢ Modified: ${e($).modified||"â€”"}`)},[()=>m(C(e($))),()=>L(e($)),()=>ct(e($).total_size),()=>ct(e($).total_disk)]),R(De,We)});var ze=P(me,2);xt(ze,17,()=>e(Ye),xr,(De,$)=>{const We=K(()=>j(e($).owner));var Re=lo(),Ot=P(k(Re),2),rt=k(Ot),nt=k(rt),dt=P(nt,2),Se=k(dt),Et=k(Se,!0);b(Se);var ft=P(Se,2),B=k(ft,!0);b(ft),b(dt);var pe=P(dt,2),Ve=k(pe);b(pe),b(rt),b(Ot),b(Re),ce((he,it,Le)=>{qt(nt,`width: ${he??""}%; background-color: ${e(We)??""};`),we(Et,e($).path),we(B,it),we(Ve,`Size: ${Le??""} â€¢ Owner: ${e($).owner??""} â€¢ Modified: ${e($).modified??""}`)},[()=>Ft(e($)),()=>er(e($)),()=>ct(e($).size)]),R(De,Re)}),b(ve),R(le,ve)};de(z,le=>{e(l)?le(V):le(J,!1)},!0)}R(g,S)};de(Ir,g=>{g(Xr,!1)})}zn(2),b(nr);var $r=P(nr,2);{var en=g=>{var S=co(),z=k(S),V=k(z),J=k(V),le=k(J,!0);b(J);var ve=P(J,2),me=k(ve);b(ve),b(V);var ze=P(V,2),De=k(ze,!0);b(ze),zn(2),b(z),b(S),ce(()=>{qt(S,`
      left: ${e(E).x??""}px;
      top: ${e(E).y??""}px;
      transform: translate(-50%, calc(-100% - 10px));
    `),we(le,e(E).username),we(me,`${e(E).percent??""}%`),we(De,e(E).value)}),R(g,S)};de($r,g=>{e(E).show&&g(en)})}ce((g,S,z,V)=>{ir.disabled=e(u)===0,Pe.disabled=e(u)>=e(o).length-1,ar.disabled=g,we(lr,` ${S??""}`),Oe(Yt,"aria-busy",e(l)),we(Zr,`folders: ${e(ne).total_count??""} â€¢ Modified:
            ${e(ne).modified||"â€”"} â€¢ Size:
            ${z??""} â€¢ Disk: ${V??""}`)},[()=>$i(e(n))===e(n),()=>Ds(e(d)),()=>ct(e(ne).total_size),()=>ct(e(ne).total_disk)]),Xi(Yt,()=>e(n),g=>v(n,g)),R(r,Je),Gn()}Oi(["click","keydown","mousemove"]);export{go as component};
